!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.L=t.L||{})}(this,function(t){"use strict";function e(t){var e,n,i,o;for(n=1,i=arguments.length;n<i;n++){o=arguments[n];for(e in o)t[e]=o[e]}return t}function n(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}function i(t){return t._leaflet_id=t._leaflet_id||++de,t._leaflet_id}function o(t,e,n){var i,o,r,a;return a=function(){i=!1,o&&(r.apply(n,o),o=!1)},r=function(){i?o=arguments:(t.apply(n,arguments),setTimeout(a,e),i=!0)}}function r(t,e,n){var i=e[1],o=e[0],r=i-o;return t===i&&n?t:((t-o)%r+r)%r+o}function a(){return!1}function s(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n}function l(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function c(t){return l(t).split(/\s+/)}function u(t,e){t.hasOwnProperty("options")||(t.options=t.options?he(t.options):{});for(var n in e)t.options[n]=e[n];return t.options}function h(t,e,n){var i=[];for(var o in t)i.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}function d(t,e){return t.replace(pe,function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i})}function p(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function f(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}function m(t){var e=+new Date,n=Math.max(0,16-(e-ge));return ge=e+n,window.setTimeout(t,n)}function g(t,e,i){return i&&_e===m?void t.call(e):_e.call(window,n(t,e))}function _(t){t&&ve.call(window,t)}function v(){}function y(t){if(L&&L.Mixin){t=fe(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}function w(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}function x(t,e,n){return t instanceof w?t:fe(t)?new w(t[0],t[1]):void 0===t||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new w(t.x,t.y):new w(t,e,n)}function b(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function C(t,e){return!t||t instanceof b?t:new b(t,e)}function T(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function S(t,e){return t instanceof T?t:new T(t,e)}function M(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function k(t,e,n){return t instanceof M?t:fe(t)&&"object"!=typeof t[0]?3===t.length?new M(t[0],t[1],t[2]):2===t.length?new M(t[0],t[1]):null:void 0===t||null===t?t:"object"==typeof t&&"lat"in t?new M(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new M(t,e,n)}function P(t,e,n,i){return fe(t)?(this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3])):(this._a=t,this._b=e,this._c=n,void(this._d=i))}function E(t,e,n,i){return new P(t,e,n,i)}function A(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function I(t,e){var n,i,o,r,a,s,l="";for(n=0,o=t.length;n<o;n++){for(a=t[n],i=0,r=a.length;i<r;i++)s=a[i],l+=(i?"L":"M")+s.x+" "+s.y;l+=e?an?"z":"x":""}return l||"M0 0"}function z(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}function B(t,e,n,i){return"touchstart"===e?D(t,n,i):"touchmove"===e?H(t,n,i):"touchend"===e&&W(t,n,i),this}function O(t,e,n){var i=t["_leaflet_"+e+n];return"touchstart"===e?t.removeEventListener(cn,i,!1):"touchmove"===e?t.removeEventListener(un,i,!1):"touchend"===e&&(t.removeEventListener(hn,i,!1),t.removeEventListener(dn,i,!1)),this}function D(t,e,i){var o=n(function(t){if("mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(pn.indexOf(t.target.tagName)<0))return;Q(t)}Z(t,e)});t["_leaflet_touchstart"+i]=o,t.addEventListener(cn,o,!1),mn||(document.documentElement.addEventListener(cn,R,!0),document.documentElement.addEventListener(un,j,!0),document.documentElement.addEventListener(hn,N,!0),document.documentElement.addEventListener(dn,N,!0),mn=!0)}function R(t){fn[t.pointerId]=t,gn++}function j(t){fn[t.pointerId]&&(fn[t.pointerId]=t)}function N(t){delete fn[t.pointerId],gn--}function Z(t,e){t.touches=[];for(var n in fn)t.touches.push(fn[n]);t.changedTouches=[t],e(t)}function H(t,e,n){var i=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&Z(t,e)};t["_leaflet_touchmove"+n]=i,t.addEventListener(un,i,!1)}function W(t,e,n){var i=function(t){Z(t,e)};t["_leaflet_touchend"+n]=i,t.addEventListener(hn,i,!1),t.addEventListener(dn,i,!1)}function F(t,e,n){function i(t){var e;if(Je){if(!Be||"mouse"===t.pointerType)return;e=gn}else e=t.touches.length;if(!(e>1)){var n=Date.now(),i=n-(r||n);a=t.touches?t.touches[0]:t,s=i>0&&i<=l,r=n}}function o(t){if(s&&!a.cancelBubble){if(Je){if(!Be||"mouse"===t.pointerType)return;var n,i,o={};for(i in a)n=a[i],o[i]=n&&n.bind?n.bind(a):n;a=o}a.type="dblclick",e(a),r=null}}var r,a,s=!1,l=250;return t[yn+_n+n]=i,t[yn+vn+n]=o,t[yn+"dblclick"+n]=e,t.addEventListener(_n,i,!1),t.addEventListener(vn,o,!1),t.addEventListener("dblclick",e,!1),this}function q(t,e){var n=t[yn+_n+e],i=t[yn+vn+e],o=t[yn+"dblclick"+e];return t.removeEventListener(_n,n,!1),t.removeEventListener(vn,i,!1),Be||t.removeEventListener("dblclick",o,!1),this}function U(t,e,n,i){if("object"==typeof e)for(var o in e)X(t,o,e[o],n);else{e=c(e);for(var r=0,a=e.length;r<a;r++)X(t,e[r],n,i)}return this}function G(t,e,n,i){if("object"==typeof e)for(var o in e)$(t,o,e[o],n);else if(e){e=c(e);for(var r=0,a=e.length;r<a;r++)$(t,e[r],n,i)}else{for(var s in t[wn])$(t,s,t[wn][s]);delete t[wn]}}function X(t,e,n,o){var r=e+i(n)+(o?"_"+i(o):"");if(t[wn]&&t[wn][r])return this;var a=function(e){return n.call(o||t,e||window.event)},s=a;Je&&0===e.indexOf("touch")?B(t,e,a,r):!tn||"dblclick"!==e||!F||Je&&Ne?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",a,!1):"mouseenter"===e||"mouseleave"===e?(a=function(e){e=e||window.event,ot(t,e)&&s(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",a,!1)):("click"===e&&De&&(a=function(t){rt(t,s)}),t.addEventListener(e,a,!1)):"attachEvent"in t&&t.attachEvent("on"+e,a):F(t,a,r),t[wn]=t[wn]||{},t[wn][r]=a}function $(t,e,n,o){var r=e+i(n)+(o?"_"+i(o):""),a=t[wn]&&t[wn][r];return a?(Je&&0===e.indexOf("touch")?O(t,e,r):tn&&"dblclick"===e&&q?q(t,r):"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",a,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,a,!1):"detachEvent"in t&&t.detachEvent("on"+e,a),void(t[wn][r]=null)):this}function V(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,it(t),this}function Y(t){return X(t,"mousewheel",V)}function K(t){return U(t,"mousedown touchstart dblclick",V),X(t,"click",nt),this}function Q(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function J(t){return Q(t),V(t),this}function tt(t,e){if(!e)return new w(t.clientX,t.clientY);var n=e.getBoundingClientRect();return new w(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)}function et(t){return Be?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/xn:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function nt(t){bn[t.type]=!0}function it(t){var e=bn[t.type];return bn[t.type]=!1,e}function ot(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}function rt(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=Te&&n-Te;return i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated?void J(t):(Te=n,void e(t))}function at(t){return"string"==typeof t?document.getElementById(t):t}function st(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function lt(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function ct(t){var e=t.parentNode;e&&e.removeChild(t)}function ut(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ht(t){var e=t.parentNode;e.lastChild!==t&&e.appendChild(t)}function dt(t){var e=t.parentNode;e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function pt(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=_t(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function ft(t,e){if(void 0!==t.classList)for(var n=c(e),i=0,o=n.length;i<o;i++)t.classList.add(n[i]);else if(!pt(t,e)){var r=_t(t);gt(t,(r?r+" ":"")+e)}}function mt(t,e){void 0!==t.classList?t.classList.remove(e):gt(t,l((" "+_t(t)+" ").replace(" "+e+" "," ")))}function gt(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function _t(t){return void 0===t.className.baseVal?t.className:t.className.baseVal}function vt(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&yt(t,e)}function yt(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}function wt(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function xt(t,e,n){var i=e||new w(0,0);t.style[Ln]=(Ue?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function bt(t,e){t._leaflet_pos=e,$e?xt(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Ct(t){return t._leaflet_pos||new w(0,0)}function Lt(){U(window,"dragstart",Q)}function Tt(){G(window,"dragstart",Q)}function St(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Mt(),kn=t,Pn=t.style.outline,t.style.outline="none",U(window,"keydown",Mt))}function Mt(){kn&&(kn.style.outline=Pn,kn=void 0,Pn=void 0,G(window,"keydown",Mt))}function kt(t,e){return new In(t,e)}function Pt(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=Bt(t,n),t=It(t,n)}function Et(t,e,n){return Math.sqrt(Nt(t,e,n,!0))}function At(t,e,n){return Nt(t,e,n)}function It(t,e){var n=t.length,i=typeof Uint8Array!=void 0+""?Uint8Array:Array,o=new i(n);o[0]=o[n-1]=1,zt(t,o,e,0,n-1);var r,a=[];for(r=0;r<n;r++)o[r]&&a.push(t[r]);return a}function zt(t,e,n,i,o){var r,a,s,l=0;for(a=i+1;a<=o-1;a++)(s=Nt(t[a],t[i],t[o],!0))>l&&(r=a,l=s);l>n&&(e[r]=1,zt(t,e,n,i,r),zt(t,e,n,r,o))}function Bt(t,e){for(var n=[t[0]],i=1,o=0,r=t.length;i<r;i++)jt(t[i],t[o])>e&&(n.push(t[i]),o=i);return o<r-1&&n.push(t[r-1]),n}function Ot(t,e,n,i,o){var r,a,s,l=i?Fn:Rt(t,n),c=Rt(e,n);for(Fn=c;;){if(!(l|c))return[t,e];if(l&c)return!1;r=l||c,a=Dt(t,e,r,n,o),s=Rt(a,n),r===l?(t=a,l=s):(e=a,c=s)}}function Dt(t,e,n,i,o){var r,a,s=e.x-t.x,l=e.y-t.y,c=i.min,u=i.max;return 8&n?(r=t.x+s*(u.y-t.y)/l,a=u.y):4&n?(r=t.x+s*(c.y-t.y)/l,a=c.y):2&n?(r=u.x,a=t.y+l*(u.x-t.x)/s):1&n&&(r=c.x,a=t.y+l*(c.x-t.x)/s),new w(r,a,o)}function Rt(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function jt(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function Nt(t,e,n,i){var o,r=e.x,a=e.y,s=n.x-r,l=n.y-a,c=s*s+l*l;return c>0&&(o=((t.x-r)*s+(t.y-a)*l)/c,o>1?(r=n.x,a=n.y):o>0&&(r+=s*o,a+=l*o)),s=t.x-r,l=t.y-a,i?s*s+l*l:new w(r,a)}function Zt(t){return!fe(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function Ht(t,e,n){var i,o,r,a,s,l,c,u,h,d=[1,4,2,8];for(o=0,c=t.length;o<c;o++)t[o]._code=Rt(t[o],e);for(a=0;a<4;a++){for(u=d[a],i=[],o=0,c=t.length,r=c-1;o<c;r=o++)s=t[o],l=t[r],s._code&u?l._code&u||(h=Dt(l,s,u,e,n),h._code=Rt(h,e),i.push(h)):(l._code&u&&(h=Dt(l,s,u,e,n),h._code=Rt(h,e),i.push(h)),i.push(s));t=i}return t}function Wt(t){return new ui(t)}function Ft(t,e){return new pi(t,e)}function qt(t,e){return new mi(t,e)}function Ut(t,e,n){return new gi(t,e,n)}function Gt(t,e){return new _i(t,e)}function Xt(t,e){return new vi(t,e)}function $t(t,e){var n,i,o,r,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,l=[],c=e&&e.pointToLayer,u=e&&e.coordsToLatLng||Vt;if(!s&&!a)return null;switch(a.type){case"Point":return n=u(s),c?c(t,n):new pi(n);case"MultiPoint":for(o=0,r=s.length;o<r;o++)n=u(s[o]),l.push(c?c(t,n):new pi(n));return new li(l);case"LineString":case"MultiLineString":return i=Yt(s,"LineString"===a.type?0:1,u),new _i(i,e);case"Polygon":case"MultiPolygon":return i=Yt(s,"Polygon"===a.type?1:2,u),new vi(i,e);case"GeometryCollection":for(o=0,r=a.geometries.length;o<r;o++){var h=$t({geometry:a.geometries[o],type:"Feature",properties:t.properties},e);h&&l.push(h)}return new li(l);default:throw new Error("Invalid GeoJSON object.")}}function Vt(t){return new M(t[1],t[0],t[2])}function Yt(t,e,n){for(var i,o=[],r=0,a=t.length;r<a;r++)i=e?Yt(t[r],e-1,n):(n||Vt)(t[r]),o.push(i);return o}function Kt(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[s(t.lng,e),s(t.lat,e),s(t.alt,e)]:[s(t.lng,e),s(t.lat,e)]}function Qt(t,e,n,i){for(var o=[],r=0,a=t.length;r<a;r++)o.push(e?Qt(t[r],e-1,n,i):Kt(t[r],i));return!e&&n&&o.push(o[0]),o}function Jt(t,n){return t.feature?e({},t.feature,{geometry:n}):te(n)}function te(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}function ee(t,e){return new yi(t,e)}function ne(t,e,n){return new Li(t,e,n)}function ie(t){return new Ei(t)}function oe(t){return new Ai(t)}function re(t,e){return new Ii(t,e)}function ae(t,e){return new zi(t,e)}function se(t){return rn?new Oi(t):null}function le(t){return an||sn?new Ni(t):null}function ce(t,e){return new Zi(t,e)}function ue(){return window.L=$i,this}var he=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),de=0,pe=/\{ *([\w_\-]+) *\}/g,fe=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},me="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",ge=0,_e=window.requestAnimationFrame||f("RequestAnimationFrame")||m,ve=window.cancelAnimationFrame||f("CancelAnimationFrame")||f("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)},ye=(Object.freeze||Object)({extend:e,create:he,bind:n,lastId:de,stamp:i,throttle:o,wrapNum:r,falseFn:a,formatNum:s,trim:l,splitWords:c,setOptions:u,getParamString:h,template:d,isArray:fe,indexOf:p,emptyImageUrl:me,requestFn:_e,cancelFn:ve,requestAnimFrame:g,cancelAnimFrame:_});v.extend=function(t){var n=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=n.__super__=this.prototype,o=he(i);o.constructor=n,n.prototype=o;for(var r in this)this.hasOwnProperty(r)&&"prototype"!==r&&"__super__"!==r&&(n[r]=this[r]);return t.statics&&(e(n,t.statics),delete t.statics),t.includes&&(y(t.includes),e.apply(null,[o].concat(t.includes)),delete t.includes),o.options&&(t.options=e(he(o.options),t.options)),e(o,t),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},n},v.include=function(t){return e(this.prototype,t),this},v.mergeOptions=function(t){return e(this.prototype.options,t),this},v.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var we={on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else{t=c(t);for(var o=0,r=t.length;o<r;o++)this._on(t[o],e,n)}return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else{t=c(t);for(var o=0,r=t.length;o<r;o++)this._off(t[o],e,n)}else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var o={fn:e,ctx:n},r=i,a=0,s=r.length;a<s;a++)if(r[a].fn===e&&r[a].ctx===n)return;r.push(o)},_off:function(t,e,n){var i,o,r;if(this._events&&(i=this._events[t])){if(!e){for(o=0,r=i.length;o<r;o++)i[o].fn=a;return void delete this._events[t]}if(n===this&&(n=void 0),i)for(o=0,r=i.length;o<r;o++){var s=i[o];if(s.ctx===n&&s.fn===e)return s.fn=a,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(o,1)}}},fire:function(t,n,i){if(!this.listens(t,i))return this;var o=e({},n,{type:t,target:this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var a=0,s=r.length;a<s;a++){var l=r[a];l.fn.call(l.ctx||this,o)}this._firingCount--}}return i&&this._propagateEvent(o),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,i){if("object"==typeof t){for(var o in t)this.once(o,t[o],e);return this}var r=n(function(){this.off(t,e,i).off(t,r,i)},this);return this.on(t,e,i).on(t,r,i)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[i(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[i(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,e({layer:t.target},t),!0)}};we.addEventListener=we.on,we.removeEventListener=we.clearAllEventListeners=we.off,we.addOneTimeEventListener=we.once,we.fireEvent=we.fire,we.hasEventListeners=we.listens;var xe=v.extend(we);w.prototype={clone:function(){return new w(this.x,this.y)},add:function(t){return this.clone()._add(x(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(x(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new w(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new w(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(t){t=x(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=x(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=x(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+s(this.x)+", "+s(this.y)+")"}},b.prototype={extend:function(t){return t=x(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new w((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new w(this.min.x,this.max.y)},getTopRight:function(){return new w(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"==typeof t[0]||t instanceof w?x(t):C(t),t instanceof b?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=C(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>=e.x&&i.x<=n.x,a=o.y>=e.y&&i.y<=n.y;return r&&a},overlaps:function(t){t=C(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>e.x&&i.x<n.x,a=o.y>e.y&&i.y<n.y;return r&&a},isValid:function(){return!(!this.min||!this.max)}},T.prototype={extend:function(t){var e,n,i=this._southWest,o=this._northEast;if(t instanceof M)e=t,n=t;else{if(!(t instanceof T))return t?this.extend(k(t)||S(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||o?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new M(e.lat,e.lng),this._northEast=new M(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new T(new M(e.lat-i,e.lng-o),new M(n.lat+i,n.lng+o))},getCenter:function(){return new M((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new M(this.getNorth(),this.getWest())},getSouthEast:function(){return new M(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof M||"lat"in t?k(t):S(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof T?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=S(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>=e.lat&&i.lat<=n.lat,a=o.lng>=e.lng&&i.lng<=n.lng;return r&&a},overlaps:function(t){t=S(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>e.lat&&i.lat<n.lat,a=o.lng>e.lng&&i.lng<n.lng;return r&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=S(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},M.prototype={equals:function(t,e){return!!t&&(t=k(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+s(this.lat,t)+", "+s(this.lng,t)+")"},distanceTo:function(t){return Ce.distance(this,k(t))},wrap:function(){return Ce.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return S([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new M(this.lat,this.lng,this.alt)}};var be={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new b(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?r(t.lng,this.wrapLng,!0):t.lng;return new M(this.wrapLat?r(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,o=e.lng-n.lng;if(0===i&&0===o)return t;var r=t.getSouthWest(),a=t.getNorthEast();return new T(new M(r.lat-i,r.lng-o),new M(a.lat-i,a.lng-o))}},Ce=e({},be,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,o=e.lat*n,r=Math.sin(i)*Math.sin(o)+Math.cos(i)*Math.cos(o)*Math.cos((e.lng-t.lng)*n);return this.R*Math.acos(Math.min(r,1))}}),Le={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=Math.sin(i*e);return new w(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new M((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return new b([-t,-t],[t,t])}()};P.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new w((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var Te,Se,Me,ke,Pe=e({},Ce,{code:"EPSG:3857",projection:Le,transformation:function(){var t=.5/(Math.PI*Le.R);return E(t,.5,-t,.5)}()}),Ee=e({},Pe,{code:"EPSG:900913"}),Ae=document.documentElement.style,Ie="ActiveXObject"in window,ze=Ie&&!document.addEventListener,Be="msLaunchUri"in navigator&&!("documentMode"in document),Oe=z("webkit"),De=z("android"),Re=z("android 2")||z("android 3"),je=!!window.opera,Ne=z("chrome"),Ze=z("gecko")&&!Oe&&!je&&!Ie,He=!Ne&&z("safari"),We=z("phantom"),Fe="OTransition"in Ae,qe=0===navigator.platform.indexOf("Win"),Ue=Ie&&"transition"in Ae,Ge="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Re,Xe="MozPerspective"in Ae,$e=!window.L_DISABLE_3D&&(Ue||Ge||Xe)&&!Fe&&!We,Ve="undefined"!=typeof orientation||z("mobile"),Ye=Ve&&Oe,Ke=Ve&&Ge,Qe=!window.PointerEvent&&window.MSPointerEvent,Je=!(!window.PointerEvent&&!Qe),tn=!window.L_NO_TOUCH&&(Je||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),en=Ve&&je,nn=Ve&&Ze,on=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,rn=function(){return!!document.createElement("canvas").getContext}(),an=!(!document.createElementNS||!A("svg").createSVGRect),sn=!an&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),ln=(Object.freeze||Object)({ie:Ie,ielt9:ze,edge:Be,webkit:Oe,android:De,android23:Re,opera:je,chrome:Ne,gecko:Ze,safari:He,phantom:We,opera12:Fe,win:qe,ie3d:Ue,webkit3d:Ge,gecko3d:Xe,any3d:$e,mobile:Ve,mobileWebkit:Ye,mobileWebkit3d:Ke,msPointer:Qe,pointer:Je,touch:tn,mobileOpera:en,mobileGecko:nn,retina:on,canvas:rn,svg:an,vml:sn}),cn=Qe?"MSPointerDown":"pointerdown",un=Qe?"MSPointerMove":"pointermove",hn=Qe?"MSPointerUp":"pointerup",dn=Qe?"MSPointerCancel":"pointercancel",pn=["INPUT","SELECT","OPTION"],fn={},mn=!1,gn=0,_n=Qe?"MSPointerDown":Je?"pointerdown":"touchstart",vn=Qe?"MSPointerUp":Je?"pointerup":"touchend",yn="_leaflet_",wn="_leaflet_events",xn=qe&&Ne?2*window.devicePixelRatio:Ze?window.devicePixelRatio:1,bn={},Cn=(Object.freeze||Object)({on:U,off:G,stopPropagation:V,disableScrollPropagation:Y,disableClickPropagation:K,preventDefault:Q,stop:J,getMousePosition:tt,getWheelDelta:et,fakeStop:nt,skipped:it,isExternalTarget:ot,addListener:U,removeListener:G}),Ln=wt(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),Tn=wt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Sn="webkitTransition"===Tn||"OTransition"===Tn?Tn+"End":"transitionend";if("onselectstart"in document)Se=function(){U(window,"selectstart",Q)},Me=function(){G(window,"selectstart",Q)};else{var Mn=wt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Se=function(){if(Mn){var t=document.documentElement.style;ke=t[Mn],t[Mn]="none"}},Me=function(){Mn&&(document.documentElement.style[Mn]=ke,ke=void 0)}}var kn,Pn,En=(Object.freeze||Object)({TRANSFORM:Ln,TRANSITION:Tn,TRANSITION_END:Sn,get:at,getStyle:st,create:lt,remove:ct,empty:ut,toFront:ht,toBack:dt,hasClass:pt,addClass:ft,removeClass:mt,setClass:gt,getClass:_t,setOpacity:vt,testProp:wt,setTransform:xt,setPosition:bt,getPosition:Ct,disableTextSelection:Se,enableTextSelection:Me,disableImageDrag:Lt,enableImageDrag:Tt,preventOutline:St,restoreOutline:Mt}),An=xe.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=Ct(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=g(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),bt(this._el,n),this.fire("step")},_complete:function(){_(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),In=xe.extend({options:{crs:Pe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=u(this,e),this._initContainer(t),this._initLayout(),this._onResize=n(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(k(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=Tn&&$e&&!en&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),U(this._proxy,Sn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,i){if(n=void 0===n?this._zoom:this._limitZoom(n),t=this._limitCenter(k(t),n,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i){void 0!==i.animate&&(i.zoom=e({animate:i.animate},i.zoom),i.pan=e({animate:i.animate,duration:i.duration},i.pan));if(this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,i.zoom):this._tryAnimatedPan(t,i.pan))return clearTimeout(this._sizeTimer),this}return this._resetView(t,n),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||($e?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||($e?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),r=t instanceof w?t:this.latLngToContainerPoint(t),a=r.subtract(o).multiplyBy(1-1/i),s=this.containerPointToLatLng(o.add(a));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():S(t);var n=x(e.paddingTopLeft||e.padding||[0,0]),i=x(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));if((o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var r=i.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),o),s=this.project(t.getNorthEast(),o);return{center:this.unproject(a.add(s).divideBy(2).add(r),o),zoom:o}},fitBounds:function(t,e){if(t=S(t),!t.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=x(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new An,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){
ft(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){function i(t){var e=t?-1:1,n=t?_:m,i=_*_-m*m+e*w*w*v*v,o=2*n*w*v,r=i/o,a=Math.sqrt(r*r+1)-r;return a<1e-9?-18:Math.log(a)}function o(t){return(Math.exp(t)-Math.exp(-t))/2}function r(t){return(Math.exp(t)+Math.exp(-t))/2}function a(t){return o(t)/r(t)}function s(t){return m*(r(x)/r(x+y*t))}function l(t){return m*(r(x)*a(x+y*t)-o(x))/w}function c(t){return 1-Math.pow(1-t,1.5)}function u(){var n=(Date.now()-b)/L,i=c(n)*C;n<=1?(this._flyToFrame=g(u,this),this._move(this.unproject(h.add(d.subtract(h).multiplyBy(l(i)/v)),f),this.getScaleZoom(m/s(i),f),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}if(n=n||{},!1===n.animate||!$e)return this.setView(t,e,n);this._stop();var h=this.project(this.getCenter()),d=this.project(t),p=this.getSize(),f=this._zoom;t=k(t),e=void 0===e?f:e;var m=Math.max(p.x,p.y),_=m*this.getZoomScale(f,e),v=d.distanceTo(h)||1,y=1.42,w=y*y,x=i(0),b=Date.now(),C=(i(1)-x)/y,L=n.duration?1e3*n.duration:1e3*C*.8;return this._moveStart(!0),u.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=S(t),t.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,S(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),r=i.divideBy(2).round(),a=o.divideBy(2).round(),s=r.subtract(a);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:o})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=n(this._handleGeolocationResponse,this),o=n(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,o,t):navigator.geolocation.getCurrentPosition(i,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new M(e,n),o=i.toBounds(t.coords.accuracy),r=this._locateOptions;if(r.setView){var a=this.getBoundsZoom(o);this.setView(i,r.maxZoom?Math.min(a,r.maxZoom):a)}var s={latlng:i,bounds:o,timestamp:t.timestamp};for(var l in t.coords)"number"==typeof t.coords[l]&&(s[l]=t.coords[l]);this.fire("locationfound",s)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}ct(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ct(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=lt("div",n,e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new T(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=S(t),n=x(n||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),l=this.getSize().subtract(n),c=C(this.project(s,i),this.project(a,i)).getSize(),u=$e?this.options.zoomSnap:1,h=l.x/c.x,d=l.y/c.y,p=e?Math.max(h,d):Math.min(h,d);return i=this.getScaleZoom(p,i),u&&(i=Math.round(i/(u/100))*(u/100),i=e?Math.ceil(i/u)*u:Math.floor(i/u)*u),Math.max(o,Math.min(r,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new w(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new b(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(k(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(x(t),e)},layerPointToLatLng:function(t){var e=x(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(k(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(k(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(S(t))},distance:function(t,e){return this.options.crs.distance(k(t),k(e))},containerPointToLayerPoint:function(t){return x(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return x(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(x(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(k(t)))},mouseEventToContainerPoint:function(t){return tt(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=at(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");U(e,"scroll",this._onScroll,this),this._containerId=i(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&$e,ft(t,"leaflet-container"+(tn?" leaflet-touch":"")+(on?" leaflet-retina":"")+(ze?" leaflet-oldie":"")+(He?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=st(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),bt(this._mapPane,new w(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ft(t.markerPane,"leaflet-zoom-hide"),ft(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){bt(this._mapPane,new w(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return _(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){bt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[i(this._container)]=this;var e=t?G:U;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),$e&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){_(this._resizeRequest),this._resizeRequest=g(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,o=[],r="mouseout"===e||"mouseover"===e,a=t.target||t.srcElement,s=!1;a;){if((n=this._targets[i(a)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(r&&!ot(a,t))break;if(o.push(n),r)break}if(a===this._container)break;a=a.parentNode}return o.length||s||r||!ot(a,t)||(o=[this]),o},_handleDOMEvent:function(t){if(this._loaded&&!it(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e||St(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,i){if("click"===t.type){var o=e({},t);o.type="preclick",this._fireDOMEvent(o,o.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,n)),i.length)){var r=i[0];"contextmenu"===n&&r.listens(n,!0)&&Q(t);var a={originalEvent:t};if("keypress"!==t.type){var s=r.options&&"icon"in r.options;a.containerPoint=s?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(t),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=s?r.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var l=0;l<i.length;l++)if(i[l].fire(n,a,!0),a.originalEvent._stopped||!1===i[l].options.bubblingMouseEvents&&-1!==p(this._mouseEvents,n))return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Ct(this._mapPane)||new w(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return C([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),r=new b(i.subtract(o),i.add(o)),a=this._getBoundsOffset(r,n,e);return a.round().equals([0,0])?t:this.unproject(i.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new b(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=C(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),o=i.min.subtract(t.min),r=i.max.subtract(t.max);return new w(this._rebound(o.x,-r.x),this._rebound(o.y,-r.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=$e?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){mt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._floor();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=lt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=Ln,n=this._proxy.style[e];xt(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();xt(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ct(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(o)||(g(function(){this._moveStart(!0)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,i,o){i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ft(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:o}),setTimeout(n(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(mt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),g(function(){this._moveEnd(!0)},this))}}),zn=v.extend({options:{position:"topright"},initialize:function(t){u(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return ft(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},remove:function(){return this._map?(ct(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Bn=function(t){return new zn(t)};In.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,o){var r=n+t+" "+n+o;e[t+o]=lt("div",r,i)}var e=this._controlCorners={},n="leaflet-",i=this._controlContainer=lt("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ct(this._controlCorners[t]);ct(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var On=zn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){u(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return zn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(i(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){ft(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(ft(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):mt(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return mt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=lt("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),K(e),Y(e);var o=this._form=lt("form",t+"-list");i&&(this._map.on("click",this.collapse,this),De||U(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=this._layersLink=lt("a",t+"-toggle",e);r.href="#",r.title="Layers",tn?(U(r,"click",J),U(r,"click",this.expand,this)):U(r,"focus",this.expand,this),U(o,"click",function(){setTimeout(n(this._onInputClick,this),0)},this),i||this.expand(),this._baseLayersList=lt("div",t+"-base",o),this._separator=lt("div",t+"-separator",o),this._overlaysList=lt("div",t+"-overlays",o),e.appendChild(o)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&i(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(L.bind(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ut(this._baseLayersList),ut(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,o=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(i(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?(e=document.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=o):e=this._createRadioElement("leaflet-base-layers",o),this._layerControlInputs.push(e),e.layerId=i(t.layer),U(e,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+t.name;var a=document.createElement("div");return n.appendChild(a),a.appendChild(e),a.appendChild(r),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n,i=this._layerControlInputs,o=[],r=[];this._handlingClick=!0;for(var a=i.length-1;a>=0;a--)t=i[a],e=this._getLayer(t.layerId).layer,n=this._map.hasLayer(e),t.checked&&!n?o.push(e):!t.checked&&n&&r.push(e);for(a=0;a<r.length;a++)this._map.removeLayer(r[a]);for(a=0;a<o.length;a++)this._map.addLayer(o[a]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Dn=function(t,e,n){return new On(t,e,n)},Rn=zn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=lt("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,o){var r=lt("a",n,i);return r.innerHTML=t,r.href="#",r.title=e,r.setAttribute("role","button"),r.setAttribute("aria-label",e),K(r),U(r,"click",J),U(r,"click",o,this),U(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";mt(this._zoomInButton,e),mt(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&ft(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&ft(this._zoomInButton,e)}});In.mergeOptions({zoomControl:!0}),In.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Rn,this.addControl(this.zoomControl))});var jn=function(t){return new Rn(t)},Nn=zn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=lt("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=lt("div",e,n)),t.imperial&&(this._iScale=lt("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,o=3.2808399*t;o>5280?(e=o/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(o),this._updateScale(this._iScale,i+" ft",i/o))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),Zn=function(t){return new Nn(t)},Hn=zn.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){u(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=lt("div","leaflet-control-attribution"),K(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});In.mergeOptions({attributionControl:!0}),In.addInitHook(function(){this.options.attributionControl&&(new Hn).addTo(this)});var Wn=function(t){return new Hn(t)};zn.Layers=On,zn.Zoom=Rn,zn.Scale=Nn,zn.Attribution=Hn,Bn.layers=Dn,Bn.zoom=jn,Bn.scale=Zn,Bn.attribution=Wn;var Fn,qn=v.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),Un={Events:we},Gn=!1,Xn=tn?"touchstart mousedown":"mousedown",$n={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Vn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Yn=xe.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){u(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(U(this._dragStartTarget,Xn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(L.Draggable._dragging===this&&this.finishDrag(),G(this._dragStartTarget,Xn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!pt(this._element,"leaflet-zoom-anim")&&!(Gn||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(Gn=this,this._preventOutline&&St(this._element),Lt(),Se(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new w(e.clientX,e.clientY),U(document,Vn[t.type],this._onMove,this),U(document,$n[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new w(e.clientX,e.clientY),i=n.subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(Q(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Ct(this._element).subtract(i),ft(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ft(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,_(this._animRequest),this._lastEvent=t,this._animRequest=g(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),bt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){mt(document.body,"leaflet-dragging"),this._lastTarget&&(mt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in Vn)G(document,Vn[t],this._onMove,this),G(document,$n[t],this._onUp,this);Tt(),Me(),this._moved&&this._moving&&(_(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Gn=!1}}),Kn=(Object.freeze||Object)({simplify:Pt,pointToSegmentDistance:Et,closestPointOnSegment:At,clipSegment:Ot,_getEdgeIntersection:Dt,_getBitCode:Rt,_sqClosestPointOnSegment:Nt,_flat:Zt}),Qn=(Object.freeze||Object)({clipPolygon:Ht}),Jn={project:function(t){return new w(t.lng,t.lat)},unproject:function(t){return new M(t.y,t.x)},bounds:new b([-180,-90],[180,90])},ti={R:6378137,R_MINOR:6356752.314245179,bounds:new b([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,o=this.R_MINOR/n,r=Math.sqrt(1-o*o),a=r*Math.sin(i),s=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),r/2);return i=-n*Math.log(Math.max(s,1e-10)),new w(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),a=Math.exp(-t.y/i),s=Math.PI/2-2*Math.atan(a),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)e=r*Math.sin(s),e=Math.pow((1-e)/(1+e),r/2),c=Math.PI/2-2*Math.atan(a*e)-s,s+=c;return new M(s*n,t.x*n/i)}},ei=(Object.freeze||Object)({LonLat:Jn,Mercator:ti,SphericalMercator:Le}),ni=e({},Ce,{code:"EPSG:3395",projection:ti,transformation:function(){var t=.5/(Math.PI*ti.R);return E(t,.5,-t,.5)}()}),ii=e({},Ce,{code:"EPSG:4326",projection:Jn,transformation:E(1/180,1,-1/180,.5)}),oi=e({},be,{projection:Jn,transformation:E(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});be.Earth=Ce,be.EPSG3395=ni,be.EPSG3857=Pe,be.EPSG900913=Ee,be.EPSG4326=ii,be.Simple=oi;var ri=xe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[i(t)]=this,this},
removeInteractiveTarget:function(t){return delete this._map._targets[i(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});In.include({addLayer:function(t){var e=i(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=i(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&i(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){t=t?fe(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[i(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=i(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var o=this._zoomBoundLayers[i].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ai=ri.extend({initialize:function(t){this._layers={};var e,n;if(t)for(e=0,n=t.length;e<n;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){for(var t in this._layers)this.removeLayer(this._layers[t]);return this},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,i);return this},onAdd:function(t){for(var e in this._layers)t.addLayer(this._layers[e])},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e])},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return i(t)}}),si=function(t){return new ai(t)},li=ai.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),ai.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),ai.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new T;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),ci=function(t){return new li(t)},ui=v.extend({initialize:function(t){u(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var o=x(i),r=x("shadow"===e&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return on&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),hi=ui.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return hi.imagePath||(hi.imagePath=this._detectIconPath()),(this.options.imagePath||hi.imagePath)+ui.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=lt("div","leaflet-default-icon-path",document.body),e=st(t,"background-image")||st(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,"")}}),di=qn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Yn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ft(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&mt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=this._marker,n=e._shadow,i=Ct(e._icon),o=e._map.layerPointToLatLng(i);n&&bt(n,i),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),pi=ri.extend({options:{icon:new hi,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(t,e){u(this,e),this._latlng=k(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=k(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),t.alt&&(n.alt=t.alt)),ft(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),r=!1;o!==this._shadow&&(this._removeShadow(),r=!0),o&&(ft(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&r&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ct(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ct(this._shadow),this._shadow=null},_setPos:function(t){bt(this._icon,t),this._shadow&&bt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(ft(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),di)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new di(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;vt(this._icon,t),this._shadow&&vt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),fi=ri.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return u(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(tn?10:0)}}),mi=fi.extend({options:{fill:!0,radius:10},initialize:function(t,e){u(this,e),this._latlng=k(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=k(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return fi.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new b(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),gi=mi.extend({initialize:function(t,n,i){if("number"==typeof n&&(n=e({},i,{radius:n})),u(this,n),this._latlng=k(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new T(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:fi.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===Ce.distance){var o=Math.PI/180,r=this._mRadius/Ce.R/o,a=n.project([e+r,t]),s=n.project([e-r,t]),l=a.add(s).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(r*o)-Math.sin(e*o)*Math.sin(c*o))/(Math.cos(e*o)*Math.cos(c*o)))/o;(isNaN(u)||0===u)&&(u=r/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:Math.max(Math.round(l.x-n.project([c,t-u]).x),1),this._radiusY=Math.max(Math.round(l.y-a.y),1)}else{var h=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}}),_i=fi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){u(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,o=null,r=Nt,a=0,s=this._parts.length;a<s;a++)for(var l=this._parts[a],c=1,u=l.length;c<u;c++){e=l[c-1],n=l[c];var h=r(t,e,n,!0);h<i&&(i=h,o=r(t,e,n))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,r,a,s=this._rings[0],l=s.length;if(!l)return null;for(t=0,e=0;t<l-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(t=0,i=0;t<l-1;t++)if(o=s[t],r=s[t+1],n=o.distanceTo(r),(i+=n)>e)return a=(i-e)/n,this._map.layerPointToLatLng([r.x-a*(r.x-o.x),r.y-a*(r.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=k(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new T,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Zt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=Zt(t),i=0,o=t.length;i<o;i++)n?(e[i]=k(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new b;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new w(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(n),t.max._add(n),this._pxBounds=t)},_projectLatlngs:function(t,e,n){var i,o,r=t[0]instanceof M,a=t.length;if(r){for(o=[],i=0;i<a;i++)o[i]=this._map.latLngToLayerPoint(t[i]),n.extend(o[i]);e.push(o)}else for(i=0;i<a;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);var e,n,i,o,r,a,s,l=this._parts;for(e=0,i=0,o=this._rings.length;e<o;e++)for(s=this._rings[e],n=0,r=s.length;n<r-1;n++)(a=Ot(s[n],s[n+1],t,n,!0))&&(l[i]=l[i]||[],l[i].push(a[0]),a[1]===s[n+1]&&n!==r-2||(l[i].push(a[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=Pt(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,o,r,a,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,r=this._parts.length;n<r;n++)for(s=this._parts[n],i=0,a=s.length,o=a-1;i<a;o=i++)if((e||0!==i)&&Et(t,s[o],s[i])<=l)return!0;return!1}}),vi=_i.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,r,a,s,l,c=this._rings[0],u=c.length;if(!u)return null;for(r=a=s=0,t=0,e=u-1;t<u;e=t++)n=c[t],i=c[e],o=n.y*i.x-i.y*n.x,a+=(n.x+i.x)*o,s+=(n.y+i.y)*o,r+=3*o;return l=0===r?c[0]:[a/r,s/r],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=_i.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof M&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){_i.prototype._setLatLngs.call(this,t),Zt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Zt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new w(e,e);if(t=new b(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);for(var i,o=0,r=this._rings.length;o<r;o++)i=Ht(this._rings[o],t,!0),i.length&&this._parts.push(i)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,o,r,a,s,l,c=!1;if(!this._pxBounds.contains(t))return!1;for(o=0,s=this._parts.length;o<s;o++)for(e=this._parts[o],r=0,l=e.length,a=l-1;r<l;a=r++)n=e[r],i=e[a],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(c=!c);return c||_i.prototype._containsPoint.call(this,t,!0)}}),yi=li.extend({initialize:function(t,e){u(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=fe(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)i=o[e],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var a=$t(t,r);return a?(a.feature=te(t),a.defaultOptions=a.options,this.resetStyle(a),r.onEachFeature&&r.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),wi={toGeoJSON:function(t){return Jt(this,{type:"Point",coordinates:Kt(this.getLatLng(),t)})}};pi.include(wi),gi.include(wi),mi.include(wi),_i.include({toGeoJSON:function(t){var e=!Zt(this._latlngs),n=Qt(this._latlngs,e?1:0,!1,t);return Jt(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}}),vi.include({toGeoJSON:function(t){var e=!Zt(this._latlngs),n=e&&!Zt(this._latlngs[0]),i=Qt(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),Jt(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),ai.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),Jt(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer(function(e){if(e.toGeoJSON){var o=e.toGeoJSON(t);if(n)i.push(o.geometry);else{var r=te(o);"FeatureCollection"===r.type?i.push.apply(i,r.features):i.push(r)}}}),n?Jt(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var xi=ee,bi=ri.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=S(e),u(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ft(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ct(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ht(this._image),this},bringToBack:function(){return this._map&&dt(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=t,this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=lt("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":"")+(this.options.className||""));t.onselectstart=a,t.onmousemove=a,t.onload=n(this.fire,this,"load"),t.onerror=n(this._overlayOnError,this,"error"),this.options.crossOrigin&&(t.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;xt(this._image,n,e)},_reset:function(){var t=this._image,e=new b(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();bt(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){vt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Ci=function(t,e,n){return new bi(t,e,n)},Li=bi.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t=this._image=lt("video","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));t.onselectstart=a,t.onmousemove=a,t.onloadeddata=n(this.fire,this,"load"),fe(this._url)||(this._url=[this._url]),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop;for(var e=0;e<this._url.length;e++){var i=lt("source");i.src=this._url[e],t.appendChild(i)}}}),Ti=ri.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){u(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&vt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&vt(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(vt(this._container,0),this._removeTimeout=setTimeout(n(ct,void 0,this._container),200)):ct(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=k(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ht(this._container),this},bringToBack:function(){return this._map&&dt(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=x(this.options.offset),n=this._getAnchor();this._zoomAnimated?bt(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),Si=Ti.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Ti.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof fi||this._source.on("preclick",V))},onRemove:function(t){Ti.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof fi||this._source.off("preclick",V))},getEvents:function(){var t=Ti.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=lt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=lt("div",t+"-content-wrapper",e);if(this._contentNode=lt("div",t+"-content",n),K(n),Y(this._contentNode),U(n,"contextmenu",V),this._tipContainer=lt("div",t+"-tip-container",e),this._tip=lt("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=lt("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",U(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight,r="leaflet-popup-scrolled";o&&i>o?(e.height=o+"px",ft(t,r)):mt(t,r),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();bt(this._container,e.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(st(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,o=new w(this._containerLeft,-n-this._containerBottom);o._add(Ct(this._container));var r=t.layerPointToContainerPoint(o),a=x(this.options.autoPanPadding),s=x(this.options.autoPanPaddingTopLeft||a),l=x(this.options.autoPanPaddingBottomRight||a),c=t.getSize(),u=0,h=0;r.x+i+l.x>c.x&&(u=r.x+i-c.x+l.x),r.x-u-s.x<0&&(u=r.x-s.x),r.y+n+l.y>c.y&&(h=r.y+n-c.y+l.y),r.y-h-s.y<0&&(h=r.y-s.y),(u||h)&&t.fire("autopanstart").panBy([u,h])}},_onCloseButtonClick:function(t){this._close(),J(t)},_getAnchor:function(){return x(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Mi=function(t,e){return new Si(t,e)};In.mergeOptions({closePopupOnClick:!0}),In.include({openPopup:function(t,e,n){return t instanceof Si||(t=new Si(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),ri.include({bindPopup:function(t,e){return t instanceof Si?(u(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new Si(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof ri||(e=t,t=this),t instanceof li)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(this._popup&&this._map)return J(t),e instanceof fi?void this.openPopup(t.layer||t.target,t.latlng):void(this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var ki=Ti.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Ti.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Ti.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Ti.prototype.getEvents.call(this);return tn&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=lt("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),o=e.layerPointToContainerPoint(t),r=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,l=x(this.options.offset),c=this._getAnchor();"top"===r?t=t.add(x(-a/2+l.x,-s+l.y+c.y,!0)):"bottom"===r?t=t.subtract(x(a/2-l.x,-l.y,!0)):"center"===r?t=t.subtract(x(a/2+l.x,s/2-c.y+l.y,!0)):"right"===r||"auto"===r&&o.x<i.x?(r="right",t=t.add(x(l.x+c.x,c.y-s/2+l.y,!0))):(r="left",t=t.subtract(x(a+c.x-l.x,s/2-c.y-l.y,!0))),mt(n,"leaflet-tooltip-right"),mt(n,"leaflet-tooltip-left"),mt(n,"leaflet-tooltip-top"),mt(n,"leaflet-tooltip-bottom"),ft(n,"leaflet-tooltip-"+r),bt(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&vt(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return x(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Pi=function(t,e){return new ki(t,e)};In.include({openTooltip:function(t,e,n){return t instanceof ki||(t=new ki(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),ri.include({bindTooltip:function(t,e){return t instanceof ki?(u(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new ki(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){
if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),tn&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof ri||(e=t,t=this),t instanceof li)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(ft(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(mt(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Ei=ui.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=x(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});ui.Default=hi;var Ai=ri.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ve,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){u(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ct(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(ht(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(dt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=o(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof w?t:new w(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),o=0,r=n.length;o<r;o++)e=n[o].style.zIndex,n[o]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ze){vt(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var o=this._tiles[i];if(o.current&&o.loaded){var r=Math.min(1,(t-o.loaded)/200);vt(o.el,r),r<1?e=!0:(o.active?n=!0:this._onOpaqueTile(o),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(_(this._fadeFrame),this._fadeFrame=g(this._updateOpacity,this))}},_onOpaqueTile:a,_initContainer:function(){this._container||(this._container=lt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(ct(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],o=this._map;return i||(i=this._levels[t]={},i.el=lt("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,o.getCenter(),o.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:a,_onRemoveLevel:a,_onCreateLevel:a,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)return void this._removeAllTiles();for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ct(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(t,e,n,i){var o=Math.floor(t/2),r=Math.floor(e/2),a=n-1,s=new w(+o,+r);s.z=+a;var l=this._tileCoordsToKey(s),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>i&&this._retainParent(o,r,a,i))},_retainChildren:function(t,e,n,i){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var a=new w(o,r);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(o,r,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var o=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom)&&(o=void 0);var r=this.options.updateWhenZooming&&o!==this._tileZoom;i&&!r||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();$e?xt(t.el,o,i):bt(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),o=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*i);return new b(o.subtract(r),o.add(r))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(i),r=o.getCenter(),a=[],s=this.options.keepBuffer,l=new b(o.getBottomLeft().subtract([s,-s]),o.getTopRight().add([s,-s]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new w(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)return void this._setView(t,n);for(var h=o.min.y;h<=o.max.y;h++)for(var d=o.min.x;d<=o.max.x;d++){var p=new w(d,h);p.z=this._tileZoom,this._isValidTile(p)&&(this._tiles[this._tileCoordsToKey(p)]||a.push(p))}if(a.sort(function(t,e){return t.distanceTo(r)-e.distanceTo(r)}),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var f=document.createDocumentFragment();for(d=0;d<a.length;d++)this._addTile(a[d],f);this._level.el.appendChild(f)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return S(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToBounds:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),o=i.add(n),r=e.unproject(i,t.z),a=e.unproject(o,t.z),s=new T(r,a);return this.options.noWrap||e.wrapLatLngBounds(s),s},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new w(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(ct(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ft(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=a,t.onmousemove=a,ze&&this.options.opacity<1&&vt(t,this.options.opacity),De&&!Re&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var i=this._getTilePos(t),o=this._tileCoordsToKey(t),r=this.createTile(this._wrapCoords(t),n(this._tileReady,this,t));this._initTile(r),this.createTile.length<2&&g(n(this._tileReady,this,t,null,r)),bt(r,i),this._tiles[o]={el:r,coords:t,current:!0},e.appendChild(r),this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,e,i){if(this._map){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var o=this._tileCoordsToKey(t);(i=this._tiles[o])&&(i.loaded=+new Date,this._map._fadeAnimated?(vt(i.el,0),_(this._fadeFrame),this._fadeFrame=g(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(ft(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ze||!this._map._fadeAnimated?g(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new w(this._wrapX?r(t.x,this._wrapX):t.x,this._wrapY?r(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new b(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),Ii=Ai.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,e=u(this,e),e.detectRetina&&on&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),De||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return U(i,"load",n(this._tileOnLoad,this,e,i)),U(i,"error",n(this._tileOnError,this,e,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(t),i},getTileUrl:function(t){var n={r:on?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=i),n["-y"]=i}return d(this._url,e(n,this.options))},_tileOnLoad:function(t,e){ze?setTimeout(n(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.src!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,i=this.options.zoomOffset;return n&&(t=e-t),t+i},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=a,e.onerror=a,e.complete||(e.src=me,ct(e)))}}),zi=Ii.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var i=e({},this.defaultWmsParams);for(var o in n)o in this.options||(i[o]=n[o]);n=u(this,n),i.width=i.height=n.tileSize*(n.detectRetina&&on?2:1),this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Ii.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToBounds(t),n=this._crs.project(e.getNorthWest()),i=this._crs.project(e.getSouthEast()),o=(this._wmsVersion>=1.3&&this._crs===ii?[i.y,n.x,n.y,i.x]:[n.x,i.y,i.x,n.y]).join(","),r=Ii.prototype.getTileUrl.call(this,t);return r+h(this.wmsParams,r,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(t,n){return e(this.wmsParams,t),n||this.redraw(),this}});Ii.WMS=zi,re.wms=ae;var Bi=ri.extend({options:{padding:.1},initialize:function(t){u(this,t),i(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ft(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=Ct(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),a=this._map.project(t,e),s=a.subtract(r),l=o.multiplyBy(-n).add(i).add(o).subtract(s);$e?xt(this._container,l,n):bt(this._container,l)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new b(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Oi=Bi.extend({getEvents:function(){var t=Bi.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Bi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");U(t,"mousemove",o(this._onMouseMove,32,this),this),U(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),U(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){delete this._ctx,ct(this._container),G(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},Bi.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=on?2:1;bt(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",on&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Bi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[i(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[L.stamp(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,n=t.options.dashArray.split(","),i=[];for(e=0;e<n.length;e++)i.push(Number(n[e]));t.options._dashArray=i}},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||g(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new b,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,o,r,a=t._parts,s=a.length,l=this._ctx;if(s){for(this._drawnLayers[t._leaflet_id]=t,l.beginPath(),n=0;n<s;n++){for(i=0,o=a[n].length;i<o;i++)r=a[n][i],l[i?"lineTo":"moveTo"](r.x,r.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=t._radius,o=(t._radiusY||i)/i;this._drawnLayers[t._leaflet_id]=t,1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,i,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)e=o.layer,e.options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(n=e);n&&(nt(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(mt(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var n,i,o=this._drawFirst;o;o=o.next)n=o.layer,n.options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(ft(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order,n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))},_bringToBack:function(t){var e=t._order,n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}),Di=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Ri={_initContainer:function(){this._container=lt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Bi.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Di("shape");ft(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Di("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[i(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ct(e),t.removeInteractiveTarget(e),delete this._layers[i(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e||(e=t._stroke=Di("stroke")),o.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=fe(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=Di("fill")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ht(t._container)},_bringToBack:function(t){dt(t._container)}},ji=sn?Di:A,Ni=Bi.extend({getEvents:function(){var t=Bi.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=ji("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ji("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ct(this._container),G(this._container),delete this._container,delete this._rootGroup},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Bi.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),bt(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=ji("path");t.options.className&&ft(e,t.options.className),t.options.interactive&&ft(e,"leaflet-interactive"),this._updateStyle(t),this._layers[i(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ct(t._path),t.removeInteractiveTarget(t._path),delete this._layers[i(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,I(t._parts,e))},_updateCircle:function(t){var e=t._point,n=t._radius,i=t._radiusY||n,o="a"+n+","+i+" 0 1,0 ",r=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+o+2*n+",0 "+o+2*-n+",0 ";this._setPath(t,r)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ht(t._path)},_bringToBack:function(t){dt(t._path)}});sn&&Ni.include(Ri),In.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&se()||le()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=Ni&&le({pane:t})||Oi&&se({pane:t}),this._paneRenderers[t]=e),e}});var Zi=vi.extend({initialize:function(t,e){vi.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=S(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});Ni.create=ji,Ni.pointsToPath=I,yi.geometryToLayer=$t,yi.coordsToLatLng=Vt,yi.coordsToLatLngs=Yt,yi.latLngToCoords=Kt,yi.latLngsToCoords=Qt,yi.getFeature=Jt,yi.asFeature=te,In.mergeOptions({boxZoom:!0});var Hi=qn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){U(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){G(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ct(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){return!(!t.shiftKey||1!==t.which&&1!==t.button)&&(this._clearDeferredResetState(),this._resetState(),Se(),Lt(),this._startPoint=this._map.mouseEventToContainerPoint(t),void U(document,{contextmenu:J,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this))},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=lt("div","leaflet-zoom-box",this._container),ft(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new b(this._point,this._startPoint),n=e.getSize();bt(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ct(this._box),mt(this._container,"leaflet-crosshair")),Me(),Tt(),G(document,{contextmenu:J,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var e=new T(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});In.addInitHook("addHandler","boxZoom",Hi),In.mergeOptions({doubleClickZoom:!0});var Wi=qn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,o=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});In.addInitHook("addHandler","doubleClickZoom",Wi),In.mergeOptions({dragging:!0,inertia:!Re,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Fi=qn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Yn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ft(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){mt(this._map._container,"leaflet-grab"),mt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=S(this._map.options.maxBounds);this._offsetLimit=C(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),e-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){
var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,r=(i+e+n)%t-e-n,a=Math.abs(o+n)<Math.abs(r+n)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{var o=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=o.multiplyBy(a/r),l=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=s.multiplyBy(c/l),h=c/(n.inertiaDeceleration*a),d=u.multiplyBy(-h/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),g(function(){e.panBy(d,{duration:h,easeLinearity:a,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});In.addInitHook("addHandler","dragging",Fi),In.mergeOptions({keyboard:!0,keyboardPanDelta:80});var qi=qn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),U(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),G(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;e<n;e++)i[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;e<n;e++)i[o.right[e]]=[t,0];for(e=0,n=o.down.length;e<n;e++)i[o.down[e]]=[0,t];for(e=0,n=o.up.length;e<n;e++)i[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;e<n;e++)i[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;e<n;e++)i[o.zoomOut[e]]=-t},_addHooks:function(){U(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){G(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys){if(i._panAnim&&i._panAnim._inProgress)return;e=this._panKeys[n],t.shiftKey&&(e=x(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup)return;i.closePopup()}J(t)}}});In.addInitHook("addHandler","keyboard",qi),In.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ui=qn.extend({addHooks:function(){U(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){G(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=et(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(n(this._performZoom,this),o),J(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,r=n?Math.ceil(o/n)*n:o,a=t._limitZoom(e+(this._delta>0?r:-r))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});In.addInitHook("addHandler","scrollWheelZoom",Ui),In.mergeOptions({tap:!0,tapTolerance:15});var Gi=qn.extend({addHooks:function(){U(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){G(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Q(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new w(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&ft(i,"leaflet-active"),this._holdTimeout=setTimeout(n(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),U(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),G(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&mt(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new w(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});tn&&!Je&&In.addInitHook("addHandler","tap",Gi),In.mergeOptions({touchZoom:tn&&!Re,bounceAtZoomLimits:!0});var Xi=qn.extend({addHooks:function(){ft(this._map._container,"leaflet-touch-zoom"),U(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){mt(this._map._container,"leaflet-touch-zoom"),G(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),U(document,"touchmove",this._onTouchMove,this),U(document,"touchend",this._onTouchEnd,this),Q(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]),r=i.distanceTo(o)/this._startDist;if(this._zoom=e.getScaleZoom(r,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&r>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var a=i._add(o)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0),this._moved=!0),_(this._animRequest);var s=n(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=g(s,this,!0),Q(t)}},_onTouchEnd:function(){return this._moved&&this._zooming?(this._zooming=!1,_(this._animRequest),G(document,"touchmove",this._onTouchMove),G(document,"touchend",this._onTouchEnd),void(this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom)))):void(this._zooming=!1)}});In.addInitHook("addHandler","touchZoom",Xi),In.BoxZoom=Hi,In.DoubleClickZoom=Wi,In.Drag=Fi,In.Keyboard=qi,In.ScrollWheelZoom=Ui,In.Tap=Gi,In.TouchZoom=Xi;var $i=window.L;window.L=t,t.version="1.1.0",t.noConflict=ue,t.Control=zn,t.control=Bn,t.Browser=ln,t.Evented=xe,t.Mixin=Un,t.Util=ye,t.Class=v,t.Handler=qn,t.extend=e,t.bind=n,t.stamp=i,t.setOptions=u,t.DomEvent=Cn,t.DomUtil=En,t.PosAnimation=An,t.Draggable=Yn,t.LineUtil=Kn,t.PolyUtil=Qn,t.Point=w,t.point=x,t.Bounds=b,t.bounds=C,t.Transformation=P,t.transformation=E,t.Projection=ei,t.LatLng=M,t.latLng=k,t.LatLngBounds=T,t.latLngBounds=S,t.CRS=be,t.GeoJSON=yi,t.geoJSON=ee,t.geoJson=xi,t.Layer=ri,t.LayerGroup=ai,t.layerGroup=si,t.FeatureGroup=li,t.featureGroup=ci,t.ImageOverlay=bi,t.imageOverlay=Ci,t.VideoOverlay=Li,t.videoOverlay=ne,t.DivOverlay=Ti,t.Popup=Si,t.popup=Mi,t.Tooltip=ki,t.tooltip=Pi,t.Icon=ui,t.icon=Wt,t.DivIcon=Ei,t.divIcon=ie,t.Marker=pi,t.marker=Ft,t.TileLayer=Ii,t.tileLayer=re,t.GridLayer=Ai,t.gridLayer=oe,t.SVG=Ni,t.svg=le,t.Renderer=Bi,t.Canvas=Oi,t.canvas=se,t.Path=fi,t.CircleMarker=mi,t.circleMarker=qt,t.Circle=gi,t.circle=Ut,t.Polyline=_i,t.polyline=Gt,t.Polygon=vi,t.polygon=Xt,t.Rectangle=Zi,t.rectangle=ce,t.Map=In,t.map=kt}),function(t,e,n){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var e=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,e?this._withAnimation:this._noAnimation),this._markerCluster=e?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this.fire("layeradd",{layer:t}),this;if(!this._map)return this._needsClustering.push(t),this.fire("layeradd",{layer:t}),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this.fire("layeradd",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var e=t,n=this._zoom;if(t.__parent)for(;e.__parent._zoom>=n;)e=e.__parent;return this._currentShownBounds.contains(e.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,e):this._animationAddLayerNonAnimated(t,e)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this.fire("layerremove",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng}),this.fire("layerremove",{layer:t}),this):(this._nonPointGroup.removeLayer(t),this.fire("layerremove",{layer:t}),this)},addLayers:function(t,e){if(!L.Util.isArray(t))return this.addLayer(t);var n,i=this._featureGroup,o=this._nonPointGroup,r=this.options.chunkedLoading,a=this.options.chunkInterval,s=this.options.chunkProgress,l=t.length,c=0,u=!0;if(this._map){var h=(new Date).getTime(),d=L.bind(function(){for(var p=(new Date).getTime();l>c;c++){if(r&&0==c%200){if((new Date).getTime()-p>a)break}if((n=t[c])instanceof L.LayerGroup)u&&(t=t.slice(),u=!1),this._extractNonGroupLayers(n,t),l=t.length;else if(n.getLatLng){if(!this.hasLayer(n)&&(this._addLayer(n,this._maxZoom),e||this.fire("layeradd",{layer:n}),n.__parent&&2===n.__parent.getChildCount())){var f=n.__parent.getAllChildMarkers(),m=f[0]===n?f[1]:f[0];i.removeLayer(m)}}else o.addLayer(n),e||this.fire("layeradd",{layer:n})}s&&s(c,l,(new Date).getTime()-h),c===l?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(d,this.options.chunkDelay)},this);d()}else for(var p=this._needsClustering;l>c;c++)n=t[c],n instanceof L.LayerGroup?(u&&(t=t.slice(),u=!1),this._extractNonGroupLayers(n,t),l=t.length):n.getLatLng?this.hasLayer(n)||p.push(n):o.addLayer(n);return this},removeLayers:function(t){var e,n,i=t.length,o=this._featureGroup,r=this._nonPointGroup,a=!0;if(!this._map){for(e=0;i>e;e++)n=t[e],n instanceof L.LayerGroup?(a&&(t=t.slice(),a=!1),this._extractNonGroupLayers(n,t),i=t.length):(this._arraySplice(this._needsClustering,n),r.removeLayer(n),this.hasLayer(n)&&this._needsRemoving.push({layer:n,latlng:n._latlng}),this.fire("layerremove",{layer:n}));return this}if(this._unspiderfy){this._unspiderfy();var s=t.slice(),l=i;for(e=0;l>e;e++)n=s[e],n instanceof L.LayerGroup?(this._extractNonGroupLayers(n,s),l=s.length):this._unspiderfyLayer(n)}for(e=0;i>e;e++)n=t[e],n instanceof L.LayerGroup?(a&&(t=t.slice(),a=!1),this._extractNonGroupLayers(n,t),i=t.length):n.__parent?(this._removeLayer(n,!0,!0),this.fire("layerremove",{layer:n}),o.hasLayer(n)&&(o.removeLayer(n),n.clusterShow&&n.clusterShow())):(r.removeLayer(n),this.fire("layerremove",{layer:n}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){t.off(this._childMarkerEventHandlers,this),delete t.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var n,i,o,r=this._needsClustering.slice(),a=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(r),i=r.length-1;i>=0;i--){for(n=!0,o=a.length-1;o>=0;o--)if(a[o].layer===r[i]){n=!1;break}n&&t.call(e,r[i])}this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer(function(e){t.push(e)}),t},getLayer:function(t){var e=null;return t=parseInt(t,10),this.eachLayer(function(n){L.stamp(n)===t&&(e=n)}),e},hasLayer:function(t){if(!t)return!1;var e,n=this._needsClustering;for(e=n.length-1;e>=0;e--)if(n[e]===t)return!0;for(n=this._needsRemoving,e=n.length-1;e>=0;e--)if(n[e].layer===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){"function"!=typeof e&&(e=function(){});var n=function(){!t._icon&&!t.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",n,this),this.off("animationend",n,this),t._icon?e():t.__parent._icon&&(this.once("spiderfied",e,this),t.__parent.spiderfy()))};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",n,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",n,this),this.on("animationend",n,this),t.__parent.zoomToBounds())},onAdd:function(t){this._map=t;var e,n,i;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,n=this._needsRemoving.length;n>e;e++)i=this._needsRemoving[e],i.newlatlng=i.layer._latlng,i.layer._latlng=i.latlng;for(e=0,n=this._needsRemoving.length;n>e;e++)i=this._needsRemoving[e],this._removeLayer(i.layer,!0),i.layer._latlng=i.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),n=this._needsClustering,this._needsClustering=[],this.addLayers(n,!0)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var n=t.length-1;n>=0;n--)if(t[n]===e)return t.splice(n,1),!0},_removeFromGridUnclustered:function(t,e){for(var n=this._map,i=this._gridUnclustered,o=Math.floor(this._map.getMinZoom());e>=o&&i[e].removeObject(t,n.project(t.getLatLng(),e));e--);},_childMarkerDragStart:function(t){t.target.__dragStart=t.target._latlng},_childMarkerMoved:function(t){if(!this._ignoreMove&&!t.target.__dragStart){var e=t.target._popup&&t.target._popup.isOpen();this._moveChild(t.target,t.oldLatLng,t.latlng),e&&t.target.openPopup()}},_moveChild:function(t,e,n){t._latlng=e,this.removeLayer(t),t._latlng=n,this.addLayer(t)},_childMarkerDragEnd:function(t){t.target.__dragStart&&this._moveChild(t.target,t.target.__dragStart,t.target._latlng),delete t.target.__dragStart},_removeLayer:function(t,e,n){var i=this._gridClusters,o=this._gridUnclustered,r=this._featureGroup,a=this._map,s=Math.floor(this._map.getMinZoom());e&&this._removeFromGridUnclustered(t,this._maxZoom);var l,c=t.__parent,u=c._markers;for(this._arraySplice(u,t);c&&(c._childCount--,c._boundsNeedUpdate=!0,!(c._zoom<s));)e&&c._childCount<=1?(l=c._markers[0]===t?c._markers[1]:c._markers[0],i[c._zoom].removeObject(c,a.project(c._cLatLng,c._zoom)),o[c._zoom].addObject(l,a.project(l.getLatLng(),c._zoom)),this._arraySplice(c.__parent._childClusters,c),c.__parent._markers.push(l),l.__parent=c.__parent,c._icon&&(r.removeLayer(c),n||r.addLayer(l))):c._iconNeedsUpdate=!0,c=c.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(t,e,n){if(e&&e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,e,n)},listens:function(t,e){return L.FeatureGroup.prototype.listens.call(this,t,e)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,e)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),n=" marker-cluster-";return n+=10>e?"small":100>e?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+n,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick;(e||i)&&this.on("clusterclick",this._zoomOrSpiderfy,this),n&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){for(var e=t.layer,n=e;1===n._childClusters.length;)n=n._childClusters[0];n._zoom===this._maxZoom&&n._childCount===e._childCount&&this.options.spiderfyOnMaxZoom?e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,i=this._map;(t||n)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),i.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=Math.ceil(this._map.getMaxZoom()),e=Math.floor(this._map.getMinZoom()),n=this.options.maxClusterRadius,i=n;"function"!=typeof n&&(i=function(){return n}),null!==this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var o=t;o>=e;o--)this._gridClusters[o]=new L.DistanceGrid(i(o)),this._gridUnclustered[o]=new L.DistanceGrid(i(o));this._topClusterLevel=new this._markerCluster(this,e-1)},_addLayer:function(t,e){var n,i,o=this._gridClusters,r=this._gridUnclustered,a=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on(this._childMarkerEventHandlers,this);e>=a;e--){n=this._map.project(t.getLatLng(),e);var s=o[e].getNearObject(n);if(s)return s._addChild(t),void(t.__parent=s);if(s=r[e].getNearObject(n)){var l=s.__parent;l&&this._removeLayer(s,!1);var c=new this._markerCluster(this,e,s,t);o[e].addObject(c,this._map.project(c._cLatLng,e)),s.__parent=c,t.__parent=c;var u=c;for(i=e-1;i>l._zoom;i--)u=new this._markerCluster(this,i,u),o[i].addObject(u,this._map.project(s.getLatLng(),i));return l._addChild(u),void this._removeFromGridUnclustered(s,e)}r[e].addObject(t,n)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()})},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(t){var e=this._maxLat;return e!==n&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var n=e.getAllChildMarkers();this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])}else e._updateIcon()},_extractNonGroupLayers:function(t,e){var n,i=t.getLayers(),o=0;for(e=e||[];o<i.length;o++)n=i[o],n instanceof L.LayerGroup?this._extractNonGroupLayers(n,e):e.push(n);return e},_overrideMarkerIcon:function(t){return t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}})}}),L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(t,e){var n,i=this._getExpandedVisibleBounds(),o=this._featureGroup,r=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(i,t,r,function(r){var a,s=r._latlng,l=r._markers;for(i.contains(s)||(s=null),r._isSingleParent()&&t+1===e?(o.removeLayer(r),r._recursivelyAddChildrenToMap(null,e,i)):(r.clusterHide(),r._recursivelyAddChildrenToMap(s,e,i)),n=l.length-1;n>=0;n--)a=l[n],i.contains(a._latlng)||o.removeLayer(a)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(i,e),o.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.clusterShow()}),this._topClusterLevel._recursively(i,t,e,function(t){t._recursivelyRestoreChildPositions(e)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(i,t,r,function(t){o.removeLayer(t),t.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var n=this,i=this._featureGroup;i.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue(function(){i.removeLayer(t),t.clusterShow(),n._animationEnd()})):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(e,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(t,e,n){var i=this._getExpandedVisibleBounds(),o=Math.floor(this._map.getMinZoom());t._recursivelyAnimateChildrenInAndAddSelfToMap(i,o,e+1,n);var r=this;this._forceLayout(),t._recursivelyBecomeVisible(i,n),this._enqueue(function(){if(1===t._childCount){var a=t._markers[0];this._ignoreMove=!0,a.setLatLng(a.getLatLng()),this._ignoreMove=!1,a.clusterShow&&a.clusterShow()}else t._recursively(i,n,o,function(t){t._recursivelyRemoveChildrenFromMap(i,o,e+1)});r._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(e.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)},L.MarkerCluster=L.Marker.extend({initialize:function(t,e,n,i){L.Marker.prototype.initialize.call(this,n?n._cLatLng||n.getLatLng():new L.LatLng(0,0),{icon:this,pane:t.options.clusterPane}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,n&&this._addChild(n),i&&this._addChild(i)},getAllChildMarkers:function(t){t=t||[];for(var e=this._childClusters.length-1;e>=0;e--)this._childClusters[e].getAllChildMarkers(t);for(var n=this._markers.length-1;n>=0;n--)t.push(this._markers[n]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(t){for(var e,n=this._childClusters.slice(),i=this._group._map,o=i.getBoundsZoom(this._bounds),r=this._zoom+1,a=i.getZoom();n.length>0&&o>r;){r++;var s=[];for(e=0;e<n.length;e++)s=s.concat(n[e]._childClusters);n=s}o>r?this._group._map.setView(this._latlng,r):a>=o?this._group._map.setView(this._latlng,a+1):this._group._map.fitBounds(this._bounds,t)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t,e,n,i,o=this._markers,r=this._childClusters,a=0,s=0,l=this._childCount;if(0!==l){for(this._resetBounds(),t=0;t<o.length;t++)n=o[t]._latlng,this._bounds.extend(n),a+=n.lat,s+=n.lng;for(t=0;t<r.length;t++)e=r[t],e._boundsNeedUpdate&&e._recalculateBounds(),this._bounds.extend(e._bounds),n=e._wLatLng,i=e._childCount,a+=n.lat*i,s+=n.lng*i;this._latlng=this._wLatLng=new L.LatLng(a/l,s/l),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,n){this._recursively(t,this._group._map.getMinZoom(),n-1,function(t){var n,i,o=t._markers;for(n=o.length-1;n>=0;n--)i=o[n],i._icon&&(i._setPos(e),i.clusterHide())},function(t){var n,i,o=t._childClusters;for(n=o.length-1;n>=0;n--)i=o[n],i._icon&&(i._setPos(e),i.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,n,i){this._recursively(t,i,e,function(o){o._recursivelyAnimateChildrenIn(t,o._group._map.latLngToLayerPoint(o.getLatLng()).round(),n),o._isSingleParent()&&n-1===i?(o.clusterShow(),o._recursivelyRemoveChildrenFromMap(t,e,n)):o.clusterHide(),o._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,this._group._map.getMinZoom(),e,null,function(t){t.clusterShow()})},_recursivelyAddChildrenToMap:function(t,e,n){this._recursively(n,this._group._map.getMinZoom()-1,e,function(i){if(e!==i._zoom)for(var o=i._markers.length-1;o>=0;o--){var r=i._markers[o];n.contains(r._latlng)&&(t&&(r._backupLatlng=r.getLatLng(),r.setLatLng(t),r.clusterHide&&r.clusterHide()),i._group._featureGroup.addLayer(r))}},function(e){e._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var n=this._markers[e];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}
if(t-1===this._zoom)for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i]._restorePosition();else for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,n,i){var o,r;this._recursively(t,e-1,n-1,function(t){for(r=t._markers.length-1;r>=0;r--)o=t._markers[r],i&&i.contains(o._latlng)||(t._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())},function(t){for(r=t._childClusters.length-1;r>=0;r--)o=t._childClusters[r],i&&i.contains(o._latlng)||(t._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())})},_recursively:function(t,e,n,i,o){var r,a,s=this._childClusters,l=this._zoom;if(l>=e&&(i&&i(this),o&&l===n&&o(this)),e>l||n>l)for(r=s.length-1;r>=0;r--)a=s[r],t.intersects(a._bounds)&&a._recursively(t,e,n,i,o)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.Marker.include({clusterHide:function(){return this.options.opacityWhenUnclustered=this.options.opacity||1,this.setOpacity(0)},clusterShow:function(){var t=this.setOpacity(this.options.opacity||this.options.opacityWhenUnclustered);return delete this.options.opacityWhenUnclustered,t}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var n=this._getCoord(e.x),i=this._getCoord(e.y),o=this._grid,r=o[i]=o[i]||{},a=r[n]=r[n]||[],s=L.Util.stamp(t);this._objectPoint[s]=e,a.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var n,i,o=this._getCoord(e.x),r=this._getCoord(e.y),a=this._grid,s=a[r]=a[r]||{},l=s[o]=s[o]||[];for(delete this._objectPoint[L.Util.stamp(t)],n=0,i=l.length;i>n;n++)if(l[n]===t)return l.splice(n,1),1===i&&delete s[o],!0},eachObject:function(t,e){var n,i,o,r,a,s,l=this._grid;for(n in l){a=l[n];for(i in a)for(s=a[i],o=0,r=s.length;r>o;o++)t.call(e,s[o])&&(o--,r--)}},getNearObject:function(t){var e,n,i,o,r,a,s,l,c=this._getCoord(t.x),u=this._getCoord(t.y),h=this._objectPoint,d=this._sqCellSize,p=null;for(e=u-1;u+1>=e;e++)if(o=this._grid[e])for(n=c-1;c+1>=n;n++)if(r=o[n])for(i=0,a=r.length;a>i;i++)s=r[i],l=this._sqDist(h[L.Util.stamp(s)],t),(d>l||d>=l&&null===p)&&(d=l,p=s);return p},_getCoord:function(t){var e=Math.floor(t/this._cellSize);return isFinite(e)?e:t},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}},function(){L.QuickHull={getDistant:function(t,e){var n=e[1].lat-e[0].lat;return(e[0].lng-e[1].lng)*(t.lat-e[0].lat)+n*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var n,i,o,r=0,a=null,s=[];for(n=e.length-1;n>=0;n--)i=e[n],(o=this.getDistant(i,t))>0&&(s.push(i),o>r&&(r=o,a=i));return{maxPoint:a,newPoints:s}},buildConvexHull:function(t,e){var n=[],i=this.findMostDistantPointFromBaseLine(t,e);return i.maxPoint?(n=n.concat(this.buildConvexHull([t[0],i.maxPoint],i.newPoints)),n=n.concat(this.buildConvexHull([i.maxPoint,t[1]],i.newPoints))):[t[0]]},getConvexHull:function(t){var e,n=!1,i=!1,o=!1,r=!1,a=null,s=null,l=null,c=null,u=null,h=null;for(e=t.length-1;e>=0;e--){var d=t[e];(!1===n||d.lat>n)&&(a=d,n=d.lat),(!1===i||d.lat<i)&&(s=d,i=d.lat),(!1===o||d.lng>o)&&(l=d,o=d.lng),(!1===r||d.lng<r)&&(c=d,r=d.lng)}return i!==n?(h=s,u=a):(h=c,u=l),[].concat(this.buildConvexHull([h,u],t),this.buildConvexHull([u,h],t))}}}(),L.MarkerCluster.include({getConvexHull:function(){var t,e,n=this.getAllChildMarkers(),i=[];for(e=n.length-1;e>=0;e--)t=n[e].getLatLng(),i.push(t);return L.QuickHull.getConvexHull(i)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(),n=this._group,i=n._map,o=i.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,o):(o.y+=10,t=this._generatePointsCircle(e.length,o)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var n,i,o=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t),r=o/this._2PI,a=this._2PI/t,s=[];for(s.length=t,n=t-1;n>=0;n--)i=this._circleStartAngle+n*a,s[n]=new L.Point(e.x+r*Math.cos(i),e.y+r*Math.sin(i))._round();return s},_generatePointsSpiral:function(t,e){var n,i=this._group.options.spiderfyDistanceMultiplier,o=i*this._spiralLengthStart,r=i*this._spiralFootSeparation,a=i*this._spiralLengthFactor*this._2PI,s=0,l=[];for(l.length=t,n=t-1;n>=0;n--)s+=r/o+5e-4*n,l[n]=new L.Point(e.x+o*Math.cos(s),e.y+o*Math.sin(s))._round(),o+=a/s;return l},_noanimationUnspiderfy:function(){var t,e,n=this._group,i=n._map,o=n._featureGroup,r=this.getAllChildMarkers();for(n._ignoreMove=!0,this.setOpacity(1),e=r.length-1;e>=0;e--)t=r[e],o.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(i.removeLayer(t._spiderLeg),delete t._spiderLeg);n.fire("unspiderfied",{cluster:this,markers:r}),n._ignoreMove=!1,n._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,e){var n,i,o,r,a=this._group,s=a._map,l=a._featureGroup,c=this._group.options.spiderLegPolylineOptions;for(a._ignoreMove=!0,n=0;n<t.length;n++)r=s.layerPointToLatLng(e[n]),i=t[n],o=new L.Polyline([this._latlng,r],c),s.addLayer(o),i._spiderLeg=o,i._preSpiderfyLatlng=i._latlng,i.setLatLng(r),i.setZIndexOffset&&i.setZIndexOffset(1e6),l.addLayer(i);this.setOpacity(.3),a._ignoreMove=!1,a.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,e){var i,o,r,a,s,l,c=this,u=this._group,h=u._map,d=u._featureGroup,p=this._latlng,f=h.latLngToLayerPoint(p),m=L.Path.SVG,g=L.extend({},this._group.options.spiderLegPolylineOptions),_=g.opacity;for(_===n&&(_=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),m?(g.opacity=0,g.className=(g.className||"")+" leaflet-cluster-spider-leg"):g.opacity=_,u._ignoreMove=!0,i=0;i<t.length;i++)o=t[i],l=h.layerPointToLatLng(e[i]),r=new L.Polyline([p,l],g),h.addLayer(r),o._spiderLeg=r,m&&(a=r._path,s=a.getTotalLength()+.1,a.style.strokeDasharray=s,a.style.strokeDashoffset=s),o.setZIndexOffset&&o.setZIndexOffset(1e6),o.clusterHide&&o.clusterHide(),d.addLayer(o),o._setPos&&o._setPos(f);for(u._forceLayout(),u._animationStart(),i=t.length-1;i>=0;i--)l=h.layerPointToLatLng(e[i]),o=t[i],o._preSpiderfyLatlng=o._latlng,o.setLatLng(l),o.clusterShow&&o.clusterShow(),m&&(r=o._spiderLeg,a=r._path,a.style.strokeDashoffset=0,r.setStyle({opacity:_}));this.setOpacity(.3),u._ignoreMove=!1,setTimeout(function(){u._animationEnd(),u.fire("spiderfied",{cluster:c,markers:t})},200)},_animationUnspiderfy:function(t){var e,n,i,o,r,a,s=this,l=this._group,c=l._map,u=l._featureGroup,h=t?c._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):c.latLngToLayerPoint(this._latlng),d=this.getAllChildMarkers(),p=L.Path.SVG;for(l._ignoreMove=!0,l._animationStart(),this.setOpacity(1),n=d.length-1;n>=0;n--)e=d[n],e._preSpiderfyLatlng&&(e.closePopup(),e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,a=!0,e._setPos&&(e._setPos(h),a=!1),e.clusterHide&&(e.clusterHide(),a=!1),a&&u.removeLayer(e),p&&(i=e._spiderLeg,o=i._path,r=o.getTotalLength()+.1,o.style.strokeDashoffset=r,i.setStyle({opacity:0})));l._ignoreMove=!1,setTimeout(function(){var t=0;for(n=d.length-1;n>=0;n--)e=d[n],e._spiderLeg&&t++;for(n=d.length-1;n>=0;n--)e=d[n],e._spiderLeg&&(e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),t>1&&u.removeLayer(e),c.removeLayer(e._spiderLeg),delete e._spiderLeg);l._animationEnd(),l.fire("unspiderfied",{cluster:s,markers:d})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var e,n;for(e in t)for(n=t[e].__parent;n;)n._iconNeedsUpdate=!0,n=n.__parent},_refreshSingleMarkerModeMarkers:function(t){var e,n;for(e in t)n=t[e],this.hasLayer(n)&&n.setIcon(this._overrideMarkerIcon(n))}}),L.Marker.include({refreshIconOptions:function(t,e){var n=this.options.icon;return L.setOptions(n,t),this.setIcon(n),e&&this.__parent&&this.__parent._group.refreshClusters(this),this}})}(window,document),function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e){e=e||nt;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function i(t){var e=!!t&&"length"in t&&t.length,n=mt.type(t);return"function"!==n&&!mt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function o(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function r(t,e,n){return mt.isFunction(e)?mt.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?mt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?mt.grep(t,function(t){return st.call(e,t)>-1!==n}):Tt.test(e)?mt.filter(e,t,n):(e=mt.filter(e,t),mt.grep(t,function(t){return st.call(e,t)>-1!==n&&1===t.nodeType}))}function a(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function s(t){var e={};return mt.each(t.match(Et)||[],function(t,n){e[n]=!0}),e}function l(t){return t}function c(t){throw t}function u(t,e,n,i){var o;try{t&&mt.isFunction(o=t.promise)?o.call(t).done(e).fail(n):t&&mt.isFunction(o=t.then)?o.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}function h(){nt.removeEventListener("DOMContentLoaded",h),t.removeEventListener("load",h),mt.ready()}function d(){this.expando=mt.expando+d.uid++}function p(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Rt.test(t)?JSON.parse(t):t)}function f(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(jt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=p(n)}catch(t){}Dt.set(t,e,n)}else n=void 0;return n}function m(t,e,n,i){var o,r=1,a=20,s=i?function(){return i.cur()}:function(){return mt.css(t,e,"")},l=s(),c=n&&n[3]||(mt.cssNumber[e]?"":"px"),u=(mt.cssNumber[e]||"px"!==c&&+l)&&Zt.exec(mt.css(t,e));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{r=r||".5",u/=r,mt.style(t,e,u+c)}while(r!==(r=s()/l)&&1!==r&&--a)}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}function g(t){var e,n=t.ownerDocument,i=t.nodeName,o=qt[i];return o||(e=n.body.appendChild(n.createElement(i)),o=mt.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),qt[i]=o,o)}function _(t,e){for(var n,i,o=[],r=0,a=t.length;r<a;r++)i=t[r],i.style&&(n=i.style.display,e?("none"===n&&(o[r]=Ot.get(i,"display")||null,o[r]||(i.style.display="")),""===i.style.display&&Wt(i)&&(o[r]=g(i))):"none"!==n&&(o[r]="none",Ot.set(i,"display",n)));for(r=0;r<a;r++)null!=o[r]&&(t[r].style.display=o[r]);return t}function v(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&o(t,e)?mt.merge([t],n):n}function y(t,e){for(var n=0,i=t.length;n<i;n++)Ot.set(t[n],"globalEval",!e||Ot.get(e[n],"globalEval"))}function w(t,e,n,i,o){for(var r,a,s,l,c,u,h=e.createDocumentFragment(),d=[],p=0,f=t.length;p<f;p++)if((r=t[p])||0===r)if("object"===mt.type(r))mt.merge(d,r.nodeType?[r]:r);else if(Vt.test(r)){for(a=a||h.appendChild(e.createElement("div")),s=(Gt.exec(r)||["",""])[1].toLowerCase(),l=$t[s]||$t._default,a.innerHTML=l[1]+mt.htmlPrefilter(r)+l[2],u=l[0];u--;)a=a.lastChild;mt.merge(d,a.childNodes),a=h.firstChild,a.textContent=""}else d.push(e.createTextNode(r));for(h.textContent="",p=0;r=d[p++];)if(i&&mt.inArray(r,i)>-1)o&&o.push(r);else if(c=mt.contains(r.ownerDocument,r),a=v(h.appendChild(r),"script"),c&&y(a),n)for(u=0;r=a[u++];)Xt.test(r.type||"")&&n.push(r);return h}function x(){return!0}function b(){return!1}function C(){try{return nt.activeElement}catch(t){}}function L(t,e,n,i,o,r){var a,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(s in e)L(t,s,n,i,e[s],r);return t}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=b;else if(!o)return t;return 1===r&&(a=o,o=function(t){return mt().off(t),a.apply(this,arguments)},o.guid=a.guid||(a.guid=mt.guid++)),t.each(function(){mt.event.add(this,e,o,i,n)})}function T(t,e){return o(t,"table")&&o(11!==e.nodeType?e:e.firstChild,"tr")?mt(">tbody",t)[0]||t:t}function S(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function M(t){var e=ie.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function k(t,e){var n,i,o,r,a,s,l,c;if(1===e.nodeType){if(Ot.hasData(t)&&(r=Ot.access(t),a=Ot.set(e,r),c=r.events)){delete a.handle,a.events={};for(o in c)for(n=0,i=c[o].length;n<i;n++)mt.event.add(e,o,c[o][n])}Dt.hasData(t)&&(s=Dt.access(t),l=mt.extend({},s),Dt.set(e,l))}}function P(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Ut.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function E(t,e,i,o){e=rt.apply([],e);var r,a,s,l,c,u,h=0,d=t.length,p=d-1,f=e[0],m=mt.isFunction(f);if(m||d>1&&"string"==typeof f&&!pt.checkClone&&ne.test(f))return t.each(function(n){var r=t.eq(n);m&&(e[0]=f.call(this,n,r.html())),E(r,e,i,o)});if(d&&(r=w(e,t[0].ownerDocument,!1,t,o),a=r.firstChild,1===r.childNodes.length&&(r=a),a||o)){for(s=mt.map(v(r,"script"),S),l=s.length;h<d;h++)c=r,h!==p&&(c=mt.clone(c,!0,!0),l&&mt.merge(s,v(c,"script"))),i.call(t[h],c,h);if(l)for(u=s[s.length-1].ownerDocument,mt.map(s,M),h=0;h<l;h++)c=s[h],Xt.test(c.type||"")&&!Ot.access(c,"globalEval")&&mt.contains(u,c)&&(c.src?mt._evalUrl&&mt._evalUrl(c.src):n(c.textContent.replace(oe,""),u))}return t}function A(t,e,n){for(var i,o=e?mt.filter(e,t):t,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||mt.cleanData(v(i)),i.parentNode&&(n&&mt.contains(i.ownerDocument,i)&&y(v(i,"script")),i.parentNode.removeChild(i));return t}function I(t,e,n){var i,o,r,a,s=t.style;return n=n||se(t),n&&(a=n.getPropertyValue(e)||n[e],""!==a||mt.contains(t.ownerDocument,t)||(a=mt.style(t,e)),!pt.pixelMarginRight()&&ae.test(a)&&re.test(e)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r)),void 0!==a?a+"":a}function z(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function B(t){if(t in pe)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=de.length;n--;)if((t=de[n]+e)in pe)return t}function O(t){var e=mt.cssProps[t];return e||(e=mt.cssProps[t]=B(t)||t),e}function D(t,e,n){var i=Zt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function R(t,e,n,i,o){var r,a=0;for(r=n===(i?"border":"content")?4:"width"===e?1:0;r<4;r+=2)"margin"===n&&(a+=mt.css(t,n+Ht[r],!0,o)),i?("content"===n&&(a-=mt.css(t,"padding"+Ht[r],!0,o)),"margin"!==n&&(a-=mt.css(t,"border"+Ht[r]+"Width",!0,o))):(a+=mt.css(t,"padding"+Ht[r],!0,o),"padding"!==n&&(a+=mt.css(t,"border"+Ht[r]+"Width",!0,o)));return a}function j(t,e,n){var i,o=se(t),r=I(t,e,o),a="border-box"===mt.css(t,"boxSizing",!1,o);return ae.test(r)?r:(i=a&&(pt.boxSizingReliable()||r===t.style[e]),"auto"===r&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)]),(r=parseFloat(r)||0)+R(t,e,n||(a?"border":"content"),i,o)+"px")}function N(t,e,n,i,o){return new N.prototype.init(t,e,n,i,o)}function Z(){me&&(!1===nt.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(Z):t.setTimeout(Z,mt.fx.interval),mt.fx.tick())}function H(){return t.setTimeout(function(){fe=void 0}),fe=mt.now()}function W(t,e){var n,i=0,o={height:t};for(e=e?1:0;i<4;i+=2-e)n=Ht[i],o["margin"+n]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function F(t,e,n){for(var i,o=(G.tweeners[e]||[]).concat(G.tweeners["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,e,t))return i}function q(t,e,n){var i,o,r,a,s,l,c,u,h="width"in e||"height"in e,d=this,p={},f=t.style,m=t.nodeType&&Wt(t),g=Ot.get(t,"fxshow");n.queue||(a=mt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,mt.queue(t,"fx").length||a.empty.fire()})}));for(i in e)if(o=e[i],ge.test(o)){if(delete e[i],r=r||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[i])continue;m=!0}p[i]=g&&g[i]||mt.style(t,i)}if((l=!mt.isEmptyObject(e))||!mt.isEmptyObject(p)){h&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=g&&g.display,null==c&&(c=Ot.get(t,"display")),u=mt.css(t,"display"),"none"===u&&(c?u=c:(_([t],!0),c=t.style.display||c,u=mt.css(t,"display"),_([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===mt.css(t,"float")&&(l||(d.done(function(){f.display=c}),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1;for(i in p)l||(g?"hidden"in g&&(m=g.hidden):g=Ot.access(t,"fxshow",{display:c}),r&&(g.hidden=!m),m&&_([t],!0),d.done(function(){m||_([t]),Ot.remove(t,"fxshow");for(i in p)mt.style(t,i,p[i])})),l=F(m?g[i]:0,i,d),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}}function U(t,e){var n,i,o,r,a;for(n in t)if(i=mt.camelCase(n),o=e[i],r=t[n],Array.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),(a=mt.cssHooks[i])&&"expand"in a){r=a.expand(r),delete t[i];for(n in r)n in t||(t[n]=r[n],e[n]=o)}else e[i]=o}function G(t,e,n){var i,o,r=0,a=G.prefilters.length,s=mt.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=fe||H(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,r=1-i,a=0,l=c.tweens.length;a<l;a++)c.tweens[a].run(r);return s.notifyWith(t,[c,r,n]),r<1&&l?n:(l||s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:mt.extend({},e),opts:mt.extend(!0,{specialEasing:{},easing:mt.easing._default},n),originalProperties:e,originalOptions:n,startTime:fe||H(),duration:n.duration,tweens:[],createTween:function(e,n){var i=mt.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),u=c.props;for(U(u,c.opts.specialEasing);r<a;r++)if(i=G.prefilters[r].call(c,t,u,c.opts))return mt.isFunction(i.stop)&&(mt._queueHooks(c.elem,c.opts.queue).stop=mt.proxy(i.stop,i)),i;return mt.map(u,F,c),mt.isFunction(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),mt.fx.timer(mt.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}function X(t){return(t.match(Et)||[]).join(" ")}function $(t){return t.getAttribute&&t.getAttribute("class")||""}function V(t,e,n,i){var o;if(Array.isArray(e))mt.each(e,function(e,o){n||Me.test(t)?i(t,o):V(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,n,i)});else if(n||"object"!==mt.type(e))i(t,e);else for(o in e)V(t+"["+o+"]",e[o],n,i)}function Y(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,r=e.toLowerCase().match(Et)||[];if(mt.isFunction(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function K(t,e,n,i){function o(s){var l;return r[s]=!0,mt.each(t[s]||[],function(t,s){var c=s(e,n,i);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)}),l}var r={},a=t===Ne;return o(e.dataTypes[0])||!r["*"]&&o("*")}function Q(t,e){var n,i,o=mt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&mt.extend(!0,t,i),t}function J(t,e,n){for(var i,o,r,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}a||(a=o)}r=r||a}if(r)return r!==l[0]&&l.unshift(r),n[r]}function tt(t,e,n,i){var o,r,a,s,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(r=u.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if(s=o.split(" "),s[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}var et=[],nt=t.document,it=Object.getPrototypeOf,ot=et.slice,rt=et.concat,at=et.push,st=et.indexOf,lt={},ct=lt.toString,ut=lt.hasOwnProperty,ht=ut.toString,dt=ht.call(Object),pt={},ft="3.2.1",mt=function(t,e){return new mt.fn.init(t,e)},gt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,_t=/^-ms-/,vt=/-([a-z])/g,yt=function(t,e){return e.toUpperCase()};mt.fn=mt.prototype={jquery:ft,constructor:mt,length:0,toArray:function(){return ot.call(this)},get:function(t){return null==t?ot.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=mt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return mt.each(this,t)},map:function(t){return this.pushStack(mt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:at,sort:et.sort,splice:et.splice},mt.extend=mt.fn.extend=function(){var t,e,n,i,o,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||mt.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],i=t[e],a!==i&&(c&&i&&(mt.isPlainObject(i)||(o=Array.isArray(i)))?(o?(o=!1,r=n&&Array.isArray(n)?n:[]):r=n&&mt.isPlainObject(n)?n:{},a[e]=mt.extend(c,r,i)):void 0!==i&&(a[e]=i));return a},mt.extend({expando:"jQuery"+(ft+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===mt.type(t)},isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=mt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==ct.call(t)||(e=it(t))&&("function"!=typeof(n=ut.call(e,"constructor")&&e.constructor)||ht.call(n)!==dt))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ct.call(t)]||"object":typeof t},globalEval:function(t){n(t)},camelCase:function(t){return t.replace(_t,"ms-").replace(vt,yt)},each:function(t,e){var n,o=0;if(i(t))for(n=t.length;o<n&&!1!==e.call(t[o],o,t[o]);o++);else for(o in t)if(!1===e.call(t[o],o,t[o]))break;return t},trim:function(t){return null==t?"":(t+"").replace(gt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?mt.merge(n,"string"==typeof t?[t]:t):at.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:st.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,r=t.length,a=!n;o<r;o++)!e(t[o],o)!==a&&i.push(t[o]);return i},map:function(t,e,n){var o,r,a=0,s=[];if(i(t))for(o=t.length;a<o;a++)null!=(r=e(t[a],a,n))&&s.push(r);else for(a in t)null!=(r=e(t[a],a,n))&&s.push(r);return rt.apply([],s)},guid:1,proxy:function(t,e){var n,i,o;if("string"==typeof e&&(n=t[e],e=t,t=n),mt.isFunction(t))return i=ot.call(arguments,2),o=function(){return t.apply(e||this,i.concat(ot.call(arguments)))},o.guid=t.guid=t.guid||mt.guid++,o},now:Date.now,support:pt}),"function"==typeof Symbol&&(mt.fn[Symbol.iterator]=et[Symbol.iterator]),mt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var wt=function(t){function e(t,e,n,i){var o,r,a,s,l,u,d,p=e&&e.ownerDocument,f=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==f&&9!==f&&11!==f)return n;if(!i&&((e?e.ownerDocument||e:N)!==A&&E(e),e=e||A,z)){if(11!==f&&(l=mt.exec(t)))if(o=l[1]){if(9===f){if(!(a=e.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(p&&(a=p.getElementById(o))&&R(e,a)&&a.id===o)return n.push(a),n}else{if(l[2])return Y.apply(n,e.getElementsByTagName(t)),n;if((o=l[3])&&w.getElementsByClassName&&e.getElementsByClassName)return Y.apply(n,e.getElementsByClassName(o)),n}if(w.qsa&&!q[t+" "]&&(!B||!B.test(t))){if(1!==f)p=e,d=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(yt,wt):e.setAttribute("id",s=j),u=L(t),r=u.length;r--;)u[r]="#"+s+" "+h(u[r]);d=u.join(","),p=gt.test(t)&&c(e.parentNode)||e}if(d)try{return Y.apply(n,p.querySelectorAll(d)),n}catch(t){}finally{s===j&&e.removeAttribute("id")}}}return S(t.replace(rt,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[j]=!0,t}function o(t){var e=A.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var n=t.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&bt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function l(t){return i(function(e){return e=+e,i(function(n,i){for(var o,r=t([],n.length,e),a=r.length;a--;)n[o=r[a]]&&(n[o]=!(i[o]=n[o]))})})}function c(t){return t&&void 0!==t.getElementsByTagName&&t}function u(){}function h(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function d(t,e,n){var i=e.dir,o=e.next,r=o||i,a=n&&"parentNode"===r,s=H++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,o);return!1}:function(e,n,l){var c,u,h,d=[Z,s];if(l){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(h=e[j]||(e[j]={}),u=h[e.uniqueID]||(h[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[i]||e;else{if((c=u[r])&&c[0]===Z&&c[1]===s)return d[2]=c[2];if(u[r]=d,d[2]=t(e,n,l))return!0}return!1}}function p(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function f(t,n,i){for(var o=0,r=n.length;o<r;o++)e(t,n[o],i);return i}function m(t,e,n,i,o){for(var r,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(r=t[s])&&(n&&!n(r,i,o)||(a.push(r),c&&e.push(s)));return a}function g(t,e,n,o,r,a){return o&&!o[j]&&(o=g(o)),r&&!r[j]&&(r=g(r,a)),i(function(i,a,s,l){var c,u,h,d=[],p=[],g=a.length,_=i||f(e||"*",s.nodeType?[s]:s,[]),v=!t||!i&&e?_:m(_,d,t,s,l),y=n?r||(i?t:g||o)?[]:a:v;if(n&&n(v,y,s,l),o)for(c=m(y,p),o(c,[],s,l),u=c.length;u--;)(h=c[u])&&(y[p[u]]=!(v[p[u]]=h));if(i){if(r||t){if(r){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(v[u]=h);r(null,y=[],c,l)}for(u=y.length;u--;)(h=y[u])&&(c=r?Q(i,h):d[u])>-1&&(i[c]=!(a[c]=h))}}else y=m(y===a?y.splice(g,y.length):y),r?r(null,a,y,l):Y.apply(a,y)})}function _(t){for(var e,n,i,o=t.length,r=x.relative[t[0].type],a=r||x.relative[" "],s=r?1:0,l=d(function(t){return t===e},a,!0),c=d(function(t){return Q(e,t)>-1},a,!0),u=[function(t,n,i){var o=!r&&(i||n!==M)||((e=n).nodeType?l(t,n,i):c(t,n,i));return e=null,o}];s<o;s++)if(n=x.relative[t[s].type])u=[d(p(u),n)];else{if(n=x.filter[t[s].type].apply(null,t[s].matches),n[j]){for(i=++s;i<o&&!x.relative[t[i].type];i++);return g(s>1&&p(u),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(rt,"$1"),n,s<i&&_(t.slice(s,i)),i<o&&_(t=t.slice(i)),i<o&&h(t))}u.push(n)}return p(u)}function v(t,n){var o=n.length>0,r=t.length>0,a=function(i,a,s,l,c){var u,h,d,p=0,f="0",g=i&&[],_=[],v=M,y=i||r&&x.find.TAG("*",c),w=Z+=null==v?1:Math.random()||.1,b=y.length;for(c&&(M=a===A||a||c);f!==b&&null!=(u=y[f]);f++){if(r&&u){for(h=0,a||u.ownerDocument===A||(E(u),s=!z);d=t[h++];)if(d(u,a||A,s)){l.push(u);break}c&&(Z=w)}o&&((u=!d&&u)&&p--,i&&g.push(u))}if(p+=f,o&&f!==p){for(h=0;d=n[h++];)d(g,_,a,s);if(i){if(p>0)for(;f--;)g[f]||_[f]||(_[f]=$.call(l));_=m(_)}Y.apply(l,_),c&&!i&&_.length>0&&p+n.length>1&&e.uniqueSort(l)}return c&&(Z=w,M=v),g};return o?i(a):a}var y,w,x,b,C,L,T,S,M,k,P,E,A,I,z,B,O,D,R,j="sizzle"+1*new Date,N=t.document,Z=0,H=0,W=n(),F=n(),q=n(),U=function(t,e){return t===e&&(P=!0),0},G={}.hasOwnProperty,X=[],$=X.pop,V=X.push,Y=X.push,K=X.slice,Q=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",nt="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",it=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+nt+")*)|.*)\\)|)",ot=new RegExp(tt+"+","g"),rt=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),at=new RegExp("^"+tt+"*,"+tt+"*"),st=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),lt=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ct=new RegExp(it),ut=new RegExp("^"+et+"$"),ht={
ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+nt),PSEUDO:new RegExp("^"+it),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,pt=/^h\d$/i,ft=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/[+~]/,_t=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),vt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},yt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},xt=function(){E()},bt=d(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{Y.apply(X=K.call(N.childNodes),N.childNodes),X[N.childNodes.length].nodeType}catch(t){Y={apply:X.length?function(t,e){V.apply(t,K.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}w=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},E=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:N;return i!==A&&9===i.nodeType&&i.documentElement?(A=i,I=A.documentElement,z=!C(A),N!==A&&(n=A.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),w.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=o(function(t){return t.appendChild(A.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=ft.test(A.getElementsByClassName),w.getById=o(function(t){return I.appendChild(t).id=j,!A.getElementsByName||!A.getElementsByName(j).length}),w.getById?(x.filter.ID=function(t){var e=t.replace(_t,vt);return function(t){return t.getAttribute("id")===e}},x.find.ID=function(t,e){if(void 0!==e.getElementById&&z){var n=e.getElementById(t);return n?[n]:[]}}):(x.filter.ID=function(t){var e=t.replace(_t,vt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},x.find.ID=function(t,e){if(void 0!==e.getElementById&&z){var n,i,o,r=e.getElementById(t);if(r){if((n=r.getAttributeNode("id"))&&n.value===t)return[r];for(o=e.getElementsByName(t),i=0;r=o[i++];)if((n=r.getAttributeNode("id"))&&n.value===t)return[r]}return[]}}),x.find.TAG=w.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},x.find.CLASS=w.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&z)return e.getElementsByClassName(t)},O=[],B=[],(w.qsa=ft.test(A.querySelectorAll))&&(o(function(t){I.appendChild(t).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&B.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||B.push("\\["+tt+"*(?:value|"+J+")"),t.querySelectorAll("[id~="+j+"-]").length||B.push("~="),t.querySelectorAll(":checked").length||B.push(":checked"),t.querySelectorAll("a#"+j+"+*").length||B.push(".#.+[+~]")}),o(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=A.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&B.push("name"+tt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&B.push(":enabled",":disabled"),I.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&B.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),B.push(",.*:")})),(w.matchesSelector=ft.test(D=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&o(function(t){w.disconnectedMatch=D.call(t,"*"),D.call(t,"[s!='']:x"),O.push("!=",it)}),B=B.length&&new RegExp(B.join("|")),O=O.length&&new RegExp(O.join("|")),e=ft.test(I.compareDocumentPosition),R=e||ft.test(I.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return P=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===A||t.ownerDocument===N&&R(N,t)?-1:e===A||e.ownerDocument===N&&R(N,e)?1:k?Q(k,t)-Q(k,e):0:4&n?-1:1)}:function(t,e){if(t===e)return P=!0,0;var n,i=0,o=t.parentNode,r=e.parentNode,s=[t],l=[e];if(!o||!r)return t===A?-1:e===A?1:o?-1:r?1:k?Q(k,t)-Q(k,e):0;if(o===r)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?a(s[i],l[i]):s[i]===N?-1:l[i]===N?1:0},A):A},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==A&&E(t),n=n.replace(lt,"='$1']"),w.matchesSelector&&z&&!q[n+" "]&&(!O||!O.test(n))&&(!B||!B.test(n)))try{var i=D.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,A,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==A&&E(t),R(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==A&&E(t);var n=x.attrHandle[e.toLowerCase()],i=n&&G.call(x.attrHandle,e.toLowerCase())?n(t,e,!z):void 0;return void 0!==i?i:w.attributes||!z?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(yt,wt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,o=0;if(P=!w.detectDuplicates,k=!w.sortStable&&t.slice(0),t.sort(U),P){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return k=null,t},b=e.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=b(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=b(e);return n},x=e.selectors={cacheLength:50,createPseudo:i,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,vt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,vt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ct.test(n)&&(e=L(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,vt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(o){var r=e.attr(o,t);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(ot," ")+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,o){var r="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,p,f,m=r!==a?"nextSibling":"previousSibling",g=e.parentNode,_=s&&e.nodeName.toLowerCase(),v=!l&&!s,y=!1;if(g){if(r){for(;m;){for(d=e;d=d[m];)if(s?d.nodeName.toLowerCase()===_:1===d.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&v){for(d=g,h=d[j]||(d[j]={}),u=h[d.uniqueID]||(h[d.uniqueID]={}),c=u[t]||[],p=c[0]===Z&&c[1],y=p&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(y=p=0)||f.pop();)if(1===d.nodeType&&++y&&d===e){u[t]=[Z,p,y];break}}else if(v&&(d=e,h=d[j]||(d[j]={}),u=h[d.uniqueID]||(h[d.uniqueID]={}),c=u[t]||[],p=c[0]===Z&&c[1],y=p),!1===y)for(;(d=++p&&d&&d[m]||(y=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==_:1!==d.nodeType)||!++y||(v&&(h=d[j]||(d[j]={}),u=h[d.uniqueID]||(h[d.uniqueID]={}),u[t]=[Z,y]),d!==e)););return(y-=o)===i||y%i==0&&y/i>=0}}},PSEUDO:function(t,n){var o,r=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[j]?r(n):r.length>1?(o=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,o=r(t,n),a=o.length;a--;)i=Q(t,o[a]),t[i]=!(e[i]=o[a])}):function(t){return r(t,0,o)}):r}},pseudos:{not:i(function(t){var e=[],n=[],o=T(t.replace(rt,"$1"));return o[j]?i(function(t,e,n,i){for(var r,a=o(t,null,i,[]),s=t.length;s--;)(r=a[s])&&(t[s]=!(e[s]=r))}):function(t,i,r){return e[0]=t,o(e,null,r,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(_t,vt),function(e){return(e.textContent||e.innerText||b(e)).indexOf(t)>-1}}),lang:i(function(t){return ut.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,vt).toLowerCase(),function(e){var n;do{if(n=z?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return pt.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[n<0?n+e:n]}),even:l(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:l(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},x.pseudos.nth=x.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[y]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(y);for(y in{submit:!0,reset:!0})x.pseudos[y]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(y);return u.prototype=x.filters=x.pseudos,x.setFilters=new u,L=e.tokenize=function(t,n){var i,o,r,a,s,l,c,u=F[t+" "];if(u)return n?0:u.slice(0);for(s=t,l=[],c=x.preFilter;s;){i&&!(o=at.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),i=!1,(o=st.exec(s))&&(i=o.shift(),r.push({value:i,type:o[0].replace(rt," ")}),s=s.slice(i.length));for(a in x.filter)!(o=ht[a].exec(s))||c[a]&&!(o=c[a](o))||(i=o.shift(),r.push({value:i,type:a,matches:o}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):F(t,l).slice(0)},T=e.compile=function(t,e){var n,i=[],o=[],r=q[t+" "];if(!r){for(e||(e=L(t)),n=e.length;n--;)r=_(e[n]),r[j]?i.push(r):o.push(r);r=q(t,v(o,i)),r.selector=t}return r},S=e.select=function(t,e,n,i){var o,r,a,s,l,u="function"==typeof t&&t,d=!i&&L(t=u.selector||t);if(n=n||[],1===d.length){if(r=d[0]=d[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&9===e.nodeType&&z&&x.relative[r[1].type]){if(!(e=(x.find.ID(a.matches[0].replace(_t,vt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=ht.needsContext.test(t)?0:r.length;o--&&(a=r[o],!x.relative[s=a.type]);)if((l=x.find[s])&&(i=l(a.matches[0].replace(_t,vt),gt.test(r[0].type)&&c(e.parentNode)||e))){if(r.splice(o,1),!(t=i.length&&h(r)))return Y.apply(n,i),n;break}}return(u||T(t,d))(i,e,!z,n,!e||gt.test(t)&&c(e.parentNode)||e),n},w.sortStable=j.split("").sort(U).join("")===j,w.detectDuplicates=!!P,E(),w.sortDetached=o(function(t){return 1&t.compareDocumentPosition(A.createElement("fieldset"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(J,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);mt.find=wt,mt.expr=wt.selectors,mt.expr[":"]=mt.expr.pseudos,mt.uniqueSort=mt.unique=wt.uniqueSort,mt.text=wt.getText,mt.isXMLDoc=wt.isXML,mt.contains=wt.contains,mt.escapeSelector=wt.escape;var xt=function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&mt(t).is(n))break;i.push(t)}return i},bt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Ct=mt.expr.match.needsContext,Lt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Tt=/^.[^:#\[\.,]*$/;mt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?mt.find.matchesSelector(i,t)?[i]:[]:mt.find.matches(t,mt.grep(e,function(t){return 1===t.nodeType}))},mt.fn.extend({find:function(t){var e,n,i=this.length,o=this;if("string"!=typeof t)return this.pushStack(mt(t).filter(function(){for(e=0;e<i;e++)if(mt.contains(o[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)mt.find(t,o[e],n);return i>1?mt.uniqueSort(n):n},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&Ct.test(t)?mt(t):t||[],!1).length}});var St,Mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(mt.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||St,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Mt.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof mt?e[0]:e,mt.merge(this,mt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:nt,!0)),Lt.test(i[1])&&mt.isPlainObject(e))for(i in e)mt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return o=nt.getElementById(i[2]),o&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):mt.isFunction(t)?void 0!==n.ready?n.ready(t):t(mt):mt.makeArray(t,this)}).prototype=mt.fn,St=mt(nt);var kt=/^(?:parents|prev(?:Until|All))/,Pt={children:!0,contents:!0,next:!0,prev:!0};mt.fn.extend({has:function(t){var e=mt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(mt.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,o=this.length,r=[],a="string"!=typeof t&&mt(t);if(!Ct.test(t))for(;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&mt.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(r.length>1?mt.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?st.call(mt(t),this[0]):st.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(mt.uniqueSort(mt.merge(this.get(),mt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),mt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return xt(t,"parentNode")},parentsUntil:function(t,e,n){return xt(t,"parentNode",n)},next:function(t){return a(t,"nextSibling")},prev:function(t){return a(t,"previousSibling")},nextAll:function(t){return xt(t,"nextSibling")},prevAll:function(t){return xt(t,"previousSibling")},nextUntil:function(t,e,n){return xt(t,"nextSibling",n)},prevUntil:function(t,e,n){return xt(t,"previousSibling",n)},siblings:function(t){return bt((t.parentNode||{}).firstChild,t)},children:function(t){return bt(t.firstChild)},contents:function(t){return o(t,"iframe")?t.contentDocument:(o(t,"template")&&(t=t.content||t),mt.merge([],t.childNodes))}},function(t,e){mt.fn[t]=function(n,i){var o=mt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=mt.filter(i,o)),this.length>1&&(Pt[t]||mt.uniqueSort(o),kt.test(t)&&o.reverse()),this.pushStack(o)}});var Et=/[^\x20\t\r\n\f]+/g;mt.Callbacks=function(t){t="string"==typeof t?s(t):mt.extend({},t);var e,n,i,o,r=[],a=[],l=-1,c=function(){for(o=o||t.once,i=e=!0;a.length;l=-1)for(n=a.shift();++l<r.length;)!1===r[l].apply(n[0],n[1])&&t.stopOnFalse&&(l=r.length,n=!1);t.memory||(n=!1),e=!1,o&&(r=n?[]:"")},u={add:function(){return r&&(n&&!e&&(l=r.length-1,a.push(n)),function e(n){mt.each(n,function(n,i){mt.isFunction(i)?t.unique&&u.has(i)||r.push(i):i&&i.length&&"string"!==mt.type(i)&&e(i)})}(arguments),n&&!e&&c()),this},remove:function(){return mt.each(arguments,function(t,e){for(var n;(n=mt.inArray(e,r,n))>-1;)r.splice(n,1),n<=l&&l--}),this},has:function(t){return t?mt.inArray(t,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=a=[],r=n="",this},disabled:function(){return!r},lock:function(){return o=a=[],n||e||(r=n=""),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},mt.extend({Deferred:function(e){var n=[["notify","progress",mt.Callbacks("memory"),mt.Callbacks("memory"),2],["resolve","done",mt.Callbacks("once memory"),mt.Callbacks("once memory"),0,"resolved"],["reject","fail",mt.Callbacks("once memory"),mt.Callbacks("once memory"),1,"rejected"]],i="pending",o={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return mt.Deferred(function(e){mt.each(n,function(n,i){var o=mt.isFunction(t[i[4]])&&t[i[4]];r[i[1]](function(){var t=o&&o.apply(this,arguments);t&&mt.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,o?[t]:arguments)})}),t=null}).promise()},then:function(e,i,o){function r(e,n,i,o){return function(){var s=this,u=arguments,h=function(){var t,h;if(!(e<a)){if((t=i.apply(s,u))===n.promise())throw new TypeError("Thenable self-resolution");h=t&&("object"==typeof t||"function"==typeof t)&&t.then,mt.isFunction(h)?o?h.call(t,r(a,n,l,o),r(a,n,c,o)):(a++,h.call(t,r(a,n,l,o),r(a,n,c,o),r(a,n,l,n.notifyWith))):(i!==l&&(s=void 0,u=[t]),(o||n.resolveWith)(s,u))}},d=o?h:function(){try{h()}catch(t){mt.Deferred.exceptionHook&&mt.Deferred.exceptionHook(t,d.stackTrace),e+1>=a&&(i!==c&&(s=void 0,u=[t]),n.rejectWith(s,u))}};e?d():(mt.Deferred.getStackHook&&(d.stackTrace=mt.Deferred.getStackHook()),t.setTimeout(d))}}var a=0;return mt.Deferred(function(t){n[0][3].add(r(0,t,mt.isFunction(o)?o:l,t.notifyWith)),n[1][3].add(r(0,t,mt.isFunction(e)?e:l)),n[2][3].add(r(0,t,mt.isFunction(i)?i:c))}).promise()},promise:function(t){return null!=t?mt.extend(t,o):o}},r={};return mt.each(n,function(t,e){var a=e[2],s=e[5];o[e[1]]=a.add,s&&a.add(function(){i=s},n[3-t][2].disable,n[0][2].lock),a.add(e[3].fire),r[e[0]]=function(){return r[e[0]+"With"](this===r?void 0:this,arguments),this},r[e[0]+"With"]=a.fireWith}),o.promise(r),e&&e.call(r,r),r},when:function(t){var e=arguments.length,n=e,i=Array(n),o=ot.call(arguments),r=mt.Deferred(),a=function(t){return function(n){i[t]=this,o[t]=arguments.length>1?ot.call(arguments):n,--e||r.resolveWith(i,o)}};if(e<=1&&(u(t,r.done(a(n)).resolve,r.reject,!e),"pending"===r.state()||mt.isFunction(o[n]&&o[n].then)))return r.then();for(;n--;)u(o[n],a(n),r.reject);return r.promise()}});var At=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;mt.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&At.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},mt.readyException=function(e){t.setTimeout(function(){throw e})};var It=mt.Deferred();mt.fn.ready=function(t){return It.then(t).catch(function(t){mt.readyException(t)}),this},mt.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--mt.readyWait:mt.isReady)||(mt.isReady=!0,!0!==t&&--mt.readyWait>0||It.resolveWith(nt,[mt]))}}),mt.ready.then=It.then,"complete"===nt.readyState||"loading"!==nt.readyState&&!nt.documentElement.doScroll?t.setTimeout(mt.ready):(nt.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h));var zt=function(t,e,n,i,o,r,a){var s=0,l=t.length,c=null==n;if("object"===mt.type(n)){o=!0;for(s in n)zt(t,e,s,n[s],!0,r,a)}else if(void 0!==i&&(o=!0,mt.isFunction(i)||(a=!0),c&&(a?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(mt(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return o?t:c?e.call(t):l?e(t[0],n):r},Bt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};d.uid=1,d.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Bt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,o=this.cache(t);if("string"==typeof e)o[mt.camelCase(e)]=n;else for(i in e)o[mt.camelCase(i)]=e[i];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][mt.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){Array.isArray(e)?e=e.map(mt.camelCase):(e=mt.camelCase(e),e=e in i?[e]:e.match(Et)||[]),n=e.length;for(;n--;)delete i[e[n]]}(void 0===e||mt.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!mt.isEmptyObject(e)}};var Ot=new d,Dt=new d,Rt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,jt=/[A-Z]/g;mt.extend({hasData:function(t){return Dt.hasData(t)||Ot.hasData(t)},data:function(t,e,n){return Dt.access(t,e,n)},removeData:function(t,e){Dt.remove(t,e)},_data:function(t,e,n){return Ot.access(t,e,n)},_removeData:function(t,e){Ot.remove(t,e)}}),mt.fn.extend({data:function(t,e){var n,i,o,r=this[0],a=r&&r.attributes;if(void 0===t){if(this.length&&(o=Dt.get(r),1===r.nodeType&&!Ot.get(r,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=mt.camelCase(i.slice(5)),f(r,i,o[i])));Ot.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){Dt.set(this,t)}):zt(this,function(e){var n;if(r&&void 0===e){if(void 0!==(n=Dt.get(r,t)))return n;if(void 0!==(n=f(r,t)))return n}else this.each(function(){Dt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Dt.remove(this,t)})}}),mt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Ot.get(t,e),n&&(!i||Array.isArray(n)?i=Ot.access(t,e,mt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=mt.queue(t,e),i=n.length,o=n.shift(),r=mt._queueHooks(t,e),a=function(){mt.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,a,r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Ot.get(t,n)||Ot.access(t,n,{empty:mt.Callbacks("once memory").add(function(){Ot.remove(t,[e+"queue",n])})})}}),mt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?mt.queue(this[0],t):void 0===e?this:this.each(function(){var n=mt.queue(this,t,e);mt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&mt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){mt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=mt.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=Ot.get(r[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(e)}});var Nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Zt=new RegExp("^(?:([+-])=|)("+Nt+")([a-z%]*)$","i"),Ht=["Top","Right","Bottom","Left"],Wt=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&mt.contains(t.ownerDocument,t)&&"none"===mt.css(t,"display")},Ft=function(t,e,n,i){var o,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];o=n.apply(t,i||[]);for(r in e)t.style[r]=a[r];return o},qt={};mt.fn.extend({show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Wt(this)?mt(this).show():mt(this).hide()})}});var Ut=/^(?:checkbox|radio)$/i,Gt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Xt=/^$|\/(?:java|ecma)script/i,$t={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$t.optgroup=$t.option,$t.tbody=$t.tfoot=$t.colgroup=$t.caption=$t.thead,$t.th=$t.td;var Vt=/<|&#?\w+;/;!function(){var t=nt.createDocumentFragment(),e=t.appendChild(nt.createElement("div")),n=nt.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),pt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",pt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Yt=nt.documentElement,Kt=/^key/,Qt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Jt=/^([^.]*)(?:\.(.+)|)/;mt.event={global:{},add:function(t,e,n,i,o){var r,a,s,l,c,u,h,d,p,f,m,g=Ot.get(t);if(g)for(n.handler&&(r=n,n=r.handler,o=r.selector),o&&mt.find.matchesSelector(Yt,o),n.guid||(n.guid=mt.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(e){return void 0!==mt&&mt.event.triggered!==e.type?mt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Et)||[""],c=e.length;c--;)s=Jt.exec(e[c])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p&&(h=mt.event.special[p]||{},p=(o?h.delegateType:h.bindType)||p,h=mt.event.special[p]||{},u=mt.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&mt.expr.match.needsContext.test(o),namespace:f.join(".")},r),(d=l[p])||(d=l[p]=[],d.delegateCount=0,h.setup&&!1!==h.setup.call(t,i,f,a)||t.addEventListener&&t.addEventListener(p,a)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,u):d.push(u),mt.event.global[p]=!0)},remove:function(t,e,n,i,o){var r,a,s,l,c,u,h,d,p,f,m,g=Ot.hasData(t)&&Ot.get(t);if(g&&(l=g.events)){for(e=(e||"").match(Et)||[""],c=e.length;c--;)if(s=Jt.exec(e[c])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p){for(h=mt.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=l[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=d.length;r--;)u=d[r],!o&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(r,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));a&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,f,g.handle)||mt.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)mt.event.remove(t,p+e[c],n,i,!0);mt.isEmptyObject(l)&&Ot.remove(t,"handle events")}},dispatch:function(t){var e,n,i,o,r,a,s=mt.event.fix(t),l=new Array(arguments.length),c=(Ot.get(this,"events")||{})[s.type]||[],u=mt.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=mt.event.handlers.call(this,s,c),e=0;(o=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(r.namespace)||(s.handleObj=r,s.data=r.data,void 0!==(i=((mt.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,i,o,r,a,s=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(r=[],a={},n=0;n<l;n++)i=e[n],o=i.selector+" ",void 0===a[o]&&(a[o]=i.needsContext?mt(o,this).index(c)>-1:mt.find(o,this,null,[c]).length),a[o]&&r.push(i);r.length&&s.push({elem:c,handlers:r})}return c=this,l<e.length&&s.push({elem:c,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(mt.Event.prototype,t,{enumerable:!0,configurable:!0,get:mt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[mt.expando]?t:new mt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&o(this,"input"))return this.click(),!1},_default:function(t){return o(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},mt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},mt.Event=function(t,e){return this instanceof mt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?x:b,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&mt.extend(this,e),this.timeStamp=t&&t.timeStamp||mt.now(),void(this[mt.expando]=!0)):new mt.Event(t,e)},mt.Event.prototype={constructor:mt.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=x,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=x,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=x,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},mt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,
key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Kt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Qt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},mt.event.addProp),mt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){mt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,r=t.handleObj;return o&&(o===i||mt.contains(i,o))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),mt.fn.extend({on:function(t,e,n,i){return L(this,t,e,n,i)},one:function(t,e,n,i){return L(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,mt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=b),this.each(function(){mt.event.remove(this,t,n,e)})}});var te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ee=/<script|<style|<link/i,ne=/checked\s*(?:[^=]|=\s*.checked.)/i,ie=/^true\/(.*)/,oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;mt.extend({htmlPrefilter:function(t){return t.replace(te,"<$1></$2>")},clone:function(t,e,n){var i,o,r,a,s=t.cloneNode(!0),l=mt.contains(t.ownerDocument,t);if(!(pt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||mt.isXMLDoc(t)))for(a=v(s),r=v(t),i=0,o=r.length;i<o;i++)P(r[i],a[i]);if(e)if(n)for(r=r||v(t),a=a||v(s),i=0,o=r.length;i<o;i++)k(r[i],a[i]);else k(t,s);return a=v(s,"script"),a.length>0&&y(a,!l&&v(t,"script")),s},cleanData:function(t){for(var e,n,i,o=mt.event.special,r=0;void 0!==(n=t[r]);r++)if(Bt(n)){if(e=n[Ot.expando]){if(e.events)for(i in e.events)o[i]?mt.event.remove(n,i):mt.removeEvent(n,i,e.handle);n[Ot.expando]=void 0}n[Dt.expando]&&(n[Dt.expando]=void 0)}}}),mt.fn.extend({detach:function(t){return A(this,t,!0)},remove:function(t){return A(this,t)},text:function(t){return zt(this,function(t){return void 0===t?mt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return E(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){T(this,t).appendChild(t)}})},prepend:function(){return E(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=T(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(mt.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return mt.clone(this,t,e)})},html:function(t){return zt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ee.test(t)&&!$t[(Gt.exec(t)||["",""])[1].toLowerCase()]){t=mt.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(mt.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return E(this,arguments,function(e){var n=this.parentNode;mt.inArray(this,t)<0&&(mt.cleanData(v(this)),n&&n.replaceChild(e,this))},t)}}),mt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){mt.fn[t]=function(t){for(var n,i=[],o=mt(t),r=o.length-1,a=0;a<=r;a++)n=a===r?this:this.clone(!0),mt(o[a])[e](n),at.apply(i,n.get());return this.pushStack(i)}});var re=/^margin/,ae=new RegExp("^("+Nt+")(?!px)[a-z%]+$","i"),se=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)};!function(){function e(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Yt.appendChild(a);var e=t.getComputedStyle(s);n="1%"!==e.top,r="2px"===e.marginLeft,i="4px"===e.width,s.style.marginRight="50%",o="4px"===e.marginRight,Yt.removeChild(a),s=null}}var n,i,o,r,a=nt.createElement("div"),s=nt.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",pt.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),mt.extend(pt,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return e(),i},pixelMarginRight:function(){return e(),o},reliableMarginLeft:function(){return e(),r}}))}();var le=/^(none|table(?!-c[ea]).+)/,ce=/^--/,ue={position:"absolute",visibility:"hidden",display:"block"},he={letterSpacing:"0",fontWeight:"400"},de=["Webkit","Moz","ms"],pe=nt.createElement("div").style;mt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=I(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a,s=mt.camelCase(e),l=ce.test(e),c=t.style;return l||(e=O(s)),a=mt.cssHooks[e]||mt.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(o=a.get(t,!1,i))?o:c[e]:(r=typeof n,"string"===r&&(o=Zt.exec(n))&&o[1]&&(n=m(t,e,o),r="number"),void(null!=n&&n===n&&("number"===r&&(n+=o&&o[3]||(mt.cssNumber[s]?"":"px")),pt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(l?c.setProperty(e,n):c[e]=n))))}},css:function(t,e,n,i){var o,r,a,s=mt.camelCase(e);return ce.test(e)||(e=O(s)),a=mt.cssHooks[e]||mt.cssHooks[s],a&&"get"in a&&(o=a.get(t,!0,n)),void 0===o&&(o=I(t,e,i)),"normal"===o&&e in he&&(o=he[e]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),mt.each(["height","width"],function(t,e){mt.cssHooks[e]={get:function(t,n,i){if(n)return!le.test(mt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?j(t,e,i):Ft(t,ue,function(){return j(t,e,i)})},set:function(t,n,i){var o,r=i&&se(t),a=i&&R(t,e,i,"border-box"===mt.css(t,"boxSizing",!1,r),r);return a&&(o=Zt.exec(n))&&"px"!==(o[3]||"px")&&(t.style[e]=n,n=mt.css(t,e)),D(t,n,a)}}}),mt.cssHooks.marginLeft=z(pt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(I(t,"marginLeft"))||t.getBoundingClientRect().left-Ft(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),mt.each({margin:"",padding:"",border:"Width"},function(t,e){mt.cssHooks[t+e]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[t+Ht[i]+e]=r[i]||r[i-2]||r[0];return o}},re.test(t)||(mt.cssHooks[t+e].set=D)}),mt.fn.extend({css:function(t,e){return zt(this,function(t,e,n){var i,o,r={},a=0;if(Array.isArray(e)){for(i=se(t),o=e.length;a<o;a++)r[e[a]]=mt.css(t,e[a],!1,i);return r}return void 0!==n?mt.style(t,e,n):mt.css(t,e)},t,e,arguments.length>1)}}),mt.Tween=N,N.prototype={constructor:N,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||mt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(mt.cssNumber[n]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,n=N.propHooks[this.prop];return this.options.duration?this.pos=e=mt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=mt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){mt.fx.step[t.prop]?mt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[mt.cssProps[t.prop]]&&!mt.cssHooks[t.prop]?t.elem[t.prop]=t.now:mt.style(t.elem,t.prop,t.now+t.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},mt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},mt.fx=N.prototype.init,mt.fx.step={};var fe,me,ge=/^(?:toggle|show|hide)$/,_e=/queueHooks$/;mt.Animation=mt.extend(G,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return m(n.elem,t,Zt.exec(e),n),n}]},tweener:function(t,e){mt.isFunction(t)?(e=t,t=["*"]):t=t.match(Et);for(var n,i=0,o=t.length;i<o;i++)n=t[i],G.tweeners[n]=G.tweeners[n]||[],G.tweeners[n].unshift(e)},prefilters:[q],prefilter:function(t,e){e?G.prefilters.unshift(t):G.prefilters.push(t)}}),mt.speed=function(t,e,n){var i=t&&"object"==typeof t?mt.extend({},t):{complete:n||!n&&e||mt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!mt.isFunction(e)&&e};return mt.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in mt.fx.speeds?i.duration=mt.fx.speeds[i.duration]:i.duration=mt.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){mt.isFunction(i.old)&&i.old.call(this),i.queue&&mt.dequeue(this,i.queue)},i},mt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Wt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=mt.isEmptyObject(t),r=mt.speed(e,n,i),a=function(){var e=G(this,mt.extend({},t),r);(o||Ot.get(this,"finish"))&&e.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=mt.timers,a=Ot.get(this);if(o)a[o]&&a[o].stop&&i(a[o]);else for(o in a)a[o]&&a[o].stop&&_e.test(o)&&i(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(n),e=!1,r.splice(o,1));!e&&n||mt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Ot.get(this),i=n[t+"queue"],o=n[t+"queueHooks"],r=mt.timers,a=i?i.length:0;for(n.finish=!0,mt.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),mt.each(["toggle","show","hide"],function(t,e){var n=mt.fn[e];mt.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(W(e,!0),t,i,o)}}),mt.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){mt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),mt.timers=[],mt.fx.tick=function(){var t,e=0,n=mt.timers;for(fe=mt.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||mt.fx.stop(),fe=void 0},mt.fx.timer=function(t){mt.timers.push(t),mt.fx.start()},mt.fx.interval=13,mt.fx.start=function(){me||(me=!0,Z())},mt.fx.stop=function(){me=null},mt.fx.speeds={slow:600,fast:200,_default:400},mt.fn.delay=function(e,n){return e=mt.fx?mt.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var o=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(o)}})},function(){var t=nt.createElement("input"),e=nt.createElement("select"),n=e.appendChild(nt.createElement("option"));t.type="checkbox",pt.checkOn=""!==t.value,pt.optSelected=n.selected,t=nt.createElement("input"),t.value="t",t.type="radio",pt.radioValue="t"===t.value}();var ve,ye=mt.expr.attrHandle;mt.fn.extend({attr:function(t,e){return zt(this,mt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){mt.removeAttr(this,t)})}}),mt.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?mt.prop(t,e,n):(1===r&&mt.isXMLDoc(t)||(o=mt.attrHooks[e.toLowerCase()]||(mt.expr.match.bool.test(e)?ve:void 0)),void 0!==n?null===n?void mt.removeAttr(t,e):o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(i=o.get(t,e))?i:(i=mt.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!pt.radioValue&&"radio"===e&&o(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,o=e&&e.match(Et);if(o&&1===t.nodeType)for(;n=o[i++];)t.removeAttribute(n)}}),ve={set:function(t,e,n){return!1===e?mt.removeAttr(t,n):t.setAttribute(n,n),n}},mt.each(mt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ye[e]||mt.find.attr;ye[e]=function(t,e,i){var o,r,a=e.toLowerCase();return i||(r=ye[a],ye[a]=o,o=null!=n(t,e,i)?a:null,ye[a]=r),o}});var we=/^(?:input|select|textarea|button)$/i,xe=/^(?:a|area)$/i;mt.fn.extend({prop:function(t,e){return zt(this,mt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[mt.propFix[t]||t]})}}),mt.extend({prop:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&mt.isXMLDoc(t)||(e=mt.propFix[e]||e,o=mt.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=mt.find.attr(t,"tabindex");return e?parseInt(e,10):we.test(t.nodeName)||xe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),pt.optSelected||(mt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),mt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){mt.propFix[this.toLowerCase()]=this}),mt.fn.extend({addClass:function(t){var e,n,i,o,r,a,s,l=0;if(mt.isFunction(t))return this.each(function(e){mt(this).addClass(t.call(this,e,$(this)))});if("string"==typeof t&&t)for(e=t.match(Et)||[];n=this[l++];)if(o=$(n),i=1===n.nodeType&&" "+X(o)+" "){for(a=0;r=e[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=X(i),o!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,o,r,a,s,l=0;if(mt.isFunction(t))return this.each(function(e){mt(this).removeClass(t.call(this,e,$(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Et)||[];n=this[l++];)if(o=$(n),i=1===n.nodeType&&" "+X(o)+" "){for(a=0;r=e[a++];)for(;i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");s=X(i),o!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):mt.isFunction(t)?this.each(function(n){mt(this).toggleClass(t.call(this,n,$(this),e),e)}):this.each(function(){var e,i,o,r;if("string"===n)for(i=0,o=mt(this),r=t.match(Et)||[];e=r[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||(e=$(this),e&&Ot.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Ot.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+X($(n))+" ").indexOf(e)>-1)return!0;return!1}});var be=/\r/g;mt.fn.extend({val:function(t){var e,n,i,o=this[0];return arguments.length?(i=mt.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(o=i?t.call(this,n,mt(this).val()):t,null==o?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=mt.map(o,function(t){return null==t?"":t+""})),(e=mt.valHooks[this.type]||mt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))})):o?(e=mt.valHooks[o.type]||mt.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(be,""):null==n?"":n)):void 0}}),mt.extend({valHooks:{option:{get:function(t){var e=mt.find.attr(t,"value");return null!=e?e:X(mt.text(t))}},select:{get:function(t){var e,n,i,r=t.options,a=t.selectedIndex,s="select-one"===t.type,l=s?null:[],c=s?a+1:r.length;for(i=a<0?c:s?a:0;i<c;i++)if(n=r[i],(n.selected||i===a)&&!n.disabled&&(!n.parentNode.disabled||!o(n.parentNode,"optgroup"))){if(e=mt(n).val(),s)return e;l.push(e)}return l},set:function(t,e){for(var n,i,o=t.options,r=mt.makeArray(e),a=o.length;a--;)i=o[a],(i.selected=mt.inArray(mt.valHooks.option.get(i),r)>-1)&&(n=!0);return n||(t.selectedIndex=-1),r}}}}),mt.each(["radio","checkbox"],function(){mt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=mt.inArray(mt(t).val(),e)>-1}},pt.checkOn||(mt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Ce=/^(?:focusinfocus|focusoutblur)$/;mt.extend(mt.event,{trigger:function(e,n,i,o){var r,a,s,l,c,u,h,d=[i||nt],p=ut.call(e,"type")?e.type:e,f=ut.call(e,"namespace")?e.namespace.split("."):[];if(a=s=i=i||nt,3!==i.nodeType&&8!==i.nodeType&&!Ce.test(p+mt.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),c=p.indexOf(":")<0&&"on"+p,e=e[mt.expando]?e:new mt.Event(p,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:mt.makeArray(n,[e]),h=mt.event.special[p]||{},o||!h.trigger||!1!==h.trigger.apply(i,n))){if(!o&&!h.noBubble&&!mt.isWindow(i)){for(l=h.delegateType||p,Ce.test(l+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(i.ownerDocument||nt)&&d.push(s.defaultView||s.parentWindow||t)}for(r=0;(a=d[r++])&&!e.isPropagationStopped();)e.type=r>1?l:h.bindType||p,u=(Ot.get(a,"events")||{})[e.type]&&Ot.get(a,"handle"),u&&u.apply(a,n),(u=c&&a[c])&&u.apply&&Bt(a)&&(e.result=u.apply(a,n),!1===e.result&&e.preventDefault());return e.type=p,o||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),n)||!Bt(i)||c&&mt.isFunction(i[p])&&!mt.isWindow(i)&&(s=i[c],s&&(i[c]=null),mt.event.triggered=p,i[p](),mt.event.triggered=void 0,s&&(i[c]=s)),e.result}},simulate:function(t,e,n){var i=mt.extend(new mt.Event,n,{type:t,isSimulated:!0});mt.event.trigger(i,null,e)}}),mt.fn.extend({trigger:function(t,e){return this.each(function(){mt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return mt.event.trigger(t,e,n,!0)}}),mt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){mt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),mt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),pt.focusin="onfocusin"in t,pt.focusin||mt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){mt.event.simulate(e,t.target,mt.event.fix(t))};mt.event.special[e]={setup:function(){var i=this.ownerDocument||this,o=Ot.access(i,e);o||i.addEventListener(t,n,!0),Ot.access(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=Ot.access(i,e)-1;o?Ot.access(i,e,o):(i.removeEventListener(t,n,!0),Ot.remove(i,e))}}});var Le=t.location,Te=mt.now(),Se=/\?/;mt.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||mt.error("Invalid XML: "+e),n};var Me=/\[\]$/,ke=/\r?\n/g,Pe=/^(?:submit|button|image|reset|file)$/i,Ee=/^(?:input|select|textarea|keygen)/i;mt.param=function(t,e){var n,i=[],o=function(t,e){var n=mt.isFunction(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!mt.isPlainObject(t))mt.each(t,function(){o(this.name,this.value)});else for(n in t)V(n,t[n],e,o);return i.join("&")},mt.fn.extend({serialize:function(){return mt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=mt.prop(this,"elements");return t?mt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!mt(this).is(":disabled")&&Ee.test(this.nodeName)&&!Pe.test(t)&&(this.checked||!Ut.test(t))}).map(function(t,e){var n=mt(this).val();return null==n?null:Array.isArray(n)?mt.map(n,function(t){return{name:e.name,value:t.replace(ke,"\r\n")}}):{name:e.name,value:n.replace(ke,"\r\n")}}).get()}});var Ae=/%20/g,Ie=/#.*$/,ze=/([?&])_=[^&]*/,Be=/^(.*?):[ \t]*([^\r\n]*)$/gm,Oe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,De=/^(?:GET|HEAD)$/,Re=/^\/\//,je={},Ne={},Ze="*/".concat("*"),He=nt.createElement("a");He.href=Le.href,mt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Le.href,type:"GET",isLocal:Oe.test(Le.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ze,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":mt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Q(Q(t,mt.ajaxSettings),e):Q(mt.ajaxSettings,t)},ajaxPrefilter:Y(je),ajaxTransport:Y(Ne),ajax:function(e,n){function i(e,n,i,s){var c,d,p,w,x,b=n;u||(u=!0,l&&t.clearTimeout(l),o=void 0,a=s||"",C.readyState=e>0?4:0,c=e>=200&&e<300||304===e,i&&(w=J(f,C,i)),w=tt(f,w,C,c),c?(f.ifModified&&(x=C.getResponseHeader("Last-Modified"),x&&(mt.lastModified[r]=x),(x=C.getResponseHeader("etag"))&&(mt.etag[r]=x)),204===e||"HEAD"===f.type?b="nocontent":304===e?b="notmodified":(b=w.state,d=w.data,p=w.error,c=!p)):(p=b,!e&&b||(b="error",e<0&&(e=0))),C.status=e,C.statusText=(n||b)+"",c?_.resolveWith(m,[d,b,C]):_.rejectWith(m,[C,b,p]),C.statusCode(y),y=void 0,h&&g.trigger(c?"ajaxSuccess":"ajaxError",[C,f,c?d:p]),v.fireWith(m,[C,b]),h&&(g.trigger("ajaxComplete",[C,f]),--mt.active||mt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var o,r,a,s,l,c,u,h,d,p,f=mt.ajaxSetup({},n),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?mt(m):mt.event,_=mt.Deferred(),v=mt.Callbacks("once memory"),y=f.statusCode||{},w={},x={},b="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(u){if(!s)for(s={};e=Be.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return u?a:null},setRequestHeader:function(t,e){return null==u&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==u&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)C.always(t[C.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||b;return o&&o.abort(e),i(0,e),this}};if(_.promise(C),f.url=((e||f.url||Le.href)+"").replace(Re,Le.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(Et)||[""],null==f.crossDomain){c=nt.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=He.protocol+"//"+He.host!=c.protocol+"//"+c.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=mt.param(f.data,f.traditional)),K(je,f,n,C),u)return C;h=mt.event&&f.global,h&&0==mt.active++&&mt.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!De.test(f.type),r=f.url.replace(Ie,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Ae,"+")):(p=f.url.slice(r.length),f.data&&(r+=(Se.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(ze,"$1"),p=(Se.test(r)?"&":"?")+"_="+Te+++p),f.url=r+p),f.ifModified&&(mt.lastModified[r]&&C.setRequestHeader("If-Modified-Since",mt.lastModified[r]),mt.etag[r]&&C.setRequestHeader("If-None-Match",mt.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&C.setRequestHeader("Content-Type",f.contentType),C.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ze+"; q=0.01":""):f.accepts["*"]);for(d in f.headers)C.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(m,C,f)||u))return C.abort();if(b="abort",v.add(f.complete),C.done(f.success),C.fail(f.error),o=K(Ne,f,n,C)){if(C.readyState=1,h&&g.trigger("ajaxSend",[C,f]),u)return C;f.async&&f.timeout>0&&(l=t.setTimeout(function(){C.abort("timeout")},f.timeout));try{u=!1,o.send(w,i)}catch(t){if(u)throw t;i(-1,t)}}else i(-1,"No Transport");return C},getJSON:function(t,e,n){return mt.get(t,e,n,"json")},getScript:function(t,e){return mt.get(t,void 0,e,"script")}}),mt.each(["get","post"],function(t,e){mt[e]=function(t,n,i,o){return mt.isFunction(n)&&(o=o||i,i=n,n=void 0),mt.ajax(mt.extend({url:t,type:e,dataType:o,data:n,success:i},mt.isPlainObject(t)&&t))}}),mt._evalUrl=function(t){return mt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},mt.fn.extend({wrapAll:function(t){var e;return this[0]&&(mt.isFunction(t)&&(t=t.call(this[0])),e=mt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return mt.isFunction(t)?this.each(function(e){mt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=mt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=mt.isFunction(t);return this.each(function(n){mt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){mt(this).replaceWith(this.childNodes)}),this}}),mt.expr.pseudos.hidden=function(t){return!mt.expr.pseudos.visible(t)},mt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},mt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var We={0:200,1223:204},Fe=mt.ajaxSettings.xhr();pt.cors=!!Fe&&"withCredentials"in Fe,pt.ajax=Fe=!!Fe,mt.ajaxTransport(function(e){var n,i;if(pt.cors||Fe&&!e.crossDomain)return{send:function(o,r){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(a in o)s.setRequestHeader(a,o[a]);n=function(t){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?r(0,"error"):r(s.status,s.statusText):r(We[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),mt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),mt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return mt.globalEval(t),t}}}),mt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),mt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,o){e=mt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),nt.head.appendChild(e[0])},abort:function(){n&&n()}}}});var qe=[],Ue=/(=)\?(?=&|$)|\?\?/;mt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=qe.pop()||mt.expando+"_"+Te++;return this[t]=!0,t}}),mt.ajaxPrefilter("json jsonp",function(e,n,i){var o,r,a,s=!1!==e.jsonp&&(Ue.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ue.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=mt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ue,"$1"+o):!1!==e.jsonp&&(e.url+=(Se.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||mt.error(o+" was not called"),a[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){a=arguments},i.always(function(){void 0===r?mt(t).removeProp(o):t[o]=r,e[o]&&(e.jsonpCallback=n.jsonpCallback,qe.push(o)),a&&mt.isFunction(r)&&r(a[0]),a=r=void 0}),"script"}),pt.createHTMLDocument=function(){var t=nt.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),mt.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var i,o,r;return e||(pt.createHTMLDocument?(e=nt.implementation.createHTMLDocument(""),i=e.createElement("base"),i.href=nt.location.href,e.head.appendChild(i)):e=nt),o=Lt.exec(t),r=!n&&[],o?[e.createElement(o[1])]:(o=w([t],e,r),r&&r.length&&mt(r).remove(),mt.merge([],o.childNodes))},mt.fn.load=function(t,e,n){var i,o,r,a=this,s=t.indexOf(" ");return s>-1&&(i=X(t.slice(s)),t=t.slice(0,s)),mt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&mt.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,a.html(i?mt("<div>").append(mt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,r||[t.responseText,e,t])})}),this},mt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){mt.fn[e]=function(t){return this.on(e,t)}}),mt.expr.pseudos.animated=function(t){return mt.grep(mt.timers,function(e){return t===e.elem}).length},mt.offset={setOffset:function(t,e,n){var i,o,r,a,s,l,c,u=mt.css(t,"position"),h=mt(t),d={};"static"===u&&(t.style.position="relative"),s=h.offset(),r=mt.css(t,"top"),l=mt.css(t,"left"),c=("absolute"===u||"fixed"===u)&&(r+l).indexOf("auto")>-1,c?(i=h.position(),a=i.top,o=i.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),mt.isFunction(e)&&(e=e.call(t,n,mt.extend({},s))),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+o),"using"in e?e.using.call(t,d):h.css(d)}},mt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){mt.offset.setOffset(this,t,e)});var e,n,i,o,r=this[0];return r?r.getClientRects().length?(i=r.getBoundingClientRect(),e=r.ownerDocument,n=e.documentElement,o=e.defaultView,{top:i.top+o.pageYOffset-n.clientTop,left:i.left+o.pageXOffset-n.clientLeft}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===mt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),o(t[0],"html")||(i=t.offset()),i={top:i.top+mt.css(t[0],"borderTopWidth",!0),left:i.left+mt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-i.top-mt.css(n,"marginTop",!0),left:e.left-i.left-mt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===mt.css(t,"position");)t=t.offsetParent;return t||Yt})}}),mt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;mt.fn[t]=function(i){return zt(this,function(t,i,o){var r;return mt.isWindow(t)?r=t:9===t.nodeType&&(r=t.defaultView),
void 0===o?r?r[e]:t[i]:void(r?r.scrollTo(n?r.pageXOffset:o,n?o:r.pageYOffset):t[i]=o)},t,i,arguments.length)}}),mt.each(["top","left"],function(t,e){mt.cssHooks[e]=z(pt.pixelPosition,function(t,n){if(n)return n=I(t,e),ae.test(n)?mt(t).position()[e]+"px":n})}),mt.each({Height:"height",Width:"width"},function(t,e){mt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){mt.fn[i]=function(o,r){var a=arguments.length&&(n||"boolean"!=typeof o),s=n||(!0===o||!0===r?"margin":"border");return zt(this,function(e,n,o){var r;return mt.isWindow(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===o?mt.css(e,n,s):mt.style(e,n,o,s)},e,a?o:void 0,a)}})}),mt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),mt.holdReady=function(t){t?mt.readyWait++:mt.ready(!0)},mt.isArray=Array.isArray,mt.parseJSON=JSON.parse,mt.nodeName=o,"function"==typeof define&&define.amd&&define("jquery",[],function(){return mt});var Ge=t.jQuery,Xe=t.$;return mt.noConflict=function(e){return t.$===mt&&(t.$=Xe),e&&t.jQuery===mt&&(t.jQuery=Ge),mt},e||(t.jQuery=t.$=mt),mt}),function(t,e,n){function i(e,n){if(t.isArray(e)){for(var i=e.length-1;i>=0;i--){var o=e[i];"string"===t.type(o)&&l.transports[o]||(n.log("Invalid transport: "+o+", removing it from the transports list."),e.splice(i,1))}0===e.length&&(n.log("No transports remain within the specified transport array."),e=null)}else if(l.transports[e]||"auto"===e){if("auto"===e&&l._.ieVersion<=8)return["longPolling"]}else n.log("Invalid transport: "+e.toString()+"."),e=null;return e}function o(t){return"http:"===t?80:"https:"===t?443:void 0}function r(t,e){return e.match(/:\d+$/)?e:e+":"+o(t)}function a(e,n){var i=this,o=[];i.tryBuffer=function(n){return e.state===t.signalR.connectionState.connecting&&(o.push(n),!0)},i.drain=function(){if(e.state===t.signalR.connectionState.connected)for(;o.length>0;)n(o.shift())},i.clear=function(){o=[]}}var s={nojQuery:"jQuery was not found. Please ensure jQuery is referenced before the SignalR client JavaScript file.",noTransportOnInit:"No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization.",errorOnNegotiate:"Error during negotiation request.",stoppedWhileLoading:"The connection was stopped during page load.",stoppedWhileNegotiating:"The connection was stopped during the negotiate request.",errorParsingNegotiateResponse:"Error parsing negotiate response.",errorDuringStartRequest:"Error during start request. Stopping the connection.",stoppedDuringStartRequest:"The connection was stopped during the start request.",errorParsingStartResponse:"Error parsing start response: '{0}'. Stopping the connection.",invalidStartResponse:"Invalid start response: '{0}'. Stopping the connection.",protocolIncompatible:"You are using a version of the client that isn't compatible with the server. Client version {0}, server version {1}.",sendFailed:"Send failed.",parseFailed:"Failed at parsing response: {0}",longPollFailed:"Long polling request failed.",eventSourceFailedToConnect:"EventSource failed to connect.",eventSourceError:"Error raised by EventSource",webSocketClosed:"WebSocket closed.",pingServerFailedInvalidResponse:"Invalid ping response when pinging server: '{0}'.",pingServerFailed:"Failed to ping server.",pingServerFailedStatusCode:"Failed to ping server.  Server responded with status code {0}, stopping the connection.",pingServerFailedParse:"Failed to parse ping server response, stopping the connection.",noConnectionTransport:"Connection is in an invalid state, there is no transport active.",webSocketsInvalidState:"The Web Socket transport is in an invalid state, transitioning into reconnecting.",reconnectTimeout:"Couldn't reconnect within the configured timeout of {0} ms, disconnecting.",reconnectWindowTimeout:"The client has been inactive since {0} and it has exceeded the inactivity timeout of {1} ms. Stopping the connection."};if("function"!=typeof t)throw new Error(s.nojQuery);var l,c,u="complete"===e.document.readyState,h=t(e),d={onStart:"onStart",onStarting:"onStarting",onReceived:"onReceived",onError:"onError",onConnectionSlow:"onConnectionSlow",onReconnecting:"onReconnecting",onReconnect:"onReconnect",onStateChanged:"onStateChanged",onDisconnect:"onDisconnect"},p={processData:!0,timeout:null,async:!0,global:!1,cache:!1},f=function(t,n){if(!1!==n){var i;void 0!==e.console&&(i="["+(new Date).toTimeString()+"] SignalR: "+t,e.console.debug?e.console.debug(i):e.console.log&&e.console.log(i))}},m=function(e,n,i){return n===e.state&&(e.state=i,t(e).triggerHandler(d.onStateChanged,[{oldState:n,newState:i}]),!0)},g=function(t){return t.state===l.connectionState.disconnected},_=function(t){return t._.keepAliveData.activated&&t.transport.supportsKeepAlive(t)},v=function(n){var i,o;n._.configuredStopReconnectingTimeout||(o=function(e){var n=l._.format(l.resources.reconnectTimeout,e.disconnectTimeout);e.log(n),t(e).triggerHandler(d.onError,[l._.error(n,"TimeoutException")]),e.stop(!1,!1)},n.reconnecting(function(){var t=this;t.state===l.connectionState.reconnecting&&(i=e.setTimeout(function(){o(t)},t.disconnectTimeout))}),n.stateChanged(function(t){t.oldState===l.connectionState.reconnecting&&e.clearTimeout(i)}),n._.configuredStopReconnectingTimeout=!0)};l=function(t,e,n){return new l.fn.init(t,e,n)},l._={defaultContentType:"application/x-www-form-urlencoded; charset=UTF-8",ieVersion:function(){var t,n;return"Microsoft Internet Explorer"===e.navigator.appName&&(n=/MSIE ([0-9]+\.[0-9]+)/.exec(e.navigator.userAgent))&&(t=e.parseFloat(n[1])),t}(),error:function(t,e,n){var i=new Error(t);return i.source=e,void 0!==n&&(i.context=n),i},transportError:function(t,e,n,i){var o=this.error(t,n,i);return o.transport=e?e.name:void 0,o},format:function(){for(var t=arguments[0],e=0;e<arguments.length-1;e++)t=t.replace("{"+e+"}",arguments[e+1]);return t},firefoxMajorVersion:function(t){var e=t.match(/Firefox\/(\d+)/);return!e||!e.length||e.length<2?0:parseInt(e[1],10)},configurePingInterval:function(n){var i=n._.config,o=function(e){t(n).triggerHandler(d.onError,[e])};i&&!n._.pingIntervalId&&i.pingInterval&&(n._.pingIntervalId=e.setInterval(function(){l.transports._logic.pingServer(n).fail(o)},i.pingInterval))}},l.events=d,l.resources=s,l.ajaxDefaults=p,l.changeState=m,l.isDisconnecting=g,l.connectionState={connecting:0,connected:1,reconnecting:2,disconnected:4},l.hub={start:function(){throw new Error("SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='/signalr/js'><\/script>.")}},"function"==typeof h.on?h.on("load",function(){u=!0}):h.load(function(){u=!0}),l.fn=l.prototype={init:function(e,n,i){var o=t(this);this.url=e,this.qs=n,this.lastError=null,this._={keepAliveData:{},connectingMessageBuffer:new a(this,function(t){o.triggerHandler(d.onReceived,[t])}),lastMessageAt:(new Date).getTime(),lastActiveAt:(new Date).getTime(),beatInterval:5e3,beatHandle:null,totalTransportConnectTimeout:0},"boolean"==typeof i&&(this.logging=i)},_parseResponse:function(t){var e=this;return t&&"string"==typeof t?e.json.parse(t):t},_originalJson:e.JSON,json:e.JSON,isCrossDomain:function(n,i){var o;return n=t.trim(n),i=i||e.location,0===n.indexOf("http")&&(o=e.document.createElement("a"),o.href=n,o.protocol+r(o.protocol,o.host)!==i.protocol+r(i.protocol,i.host))},ajaxDataType:"text",contentType:"application/json; charset=UTF-8",logging:!1,state:l.connectionState.disconnected,clientProtocol:"1.5",reconnectDelay:2e3,transportConnectTimeout:0,disconnectTimeout:3e4,reconnectWindow:3e4,keepAliveWarnAt:2/3,start:function(n,o){var r,a=this,c={pingInterval:3e5,waitForPageLoad:!0,transport:"auto",jsonp:!1},p=a._deferral||t.Deferred(),f=e.document.createElement("a");if(a.lastError=null,a._deferral=p,!a.json)throw new Error("SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8.");if("function"===t.type(n)?o=n:"object"===t.type(n)&&(t.extend(c,n),"function"===t.type(c.callback)&&(o=c.callback)),c.transport=i(c.transport,a),!c.transport)throw new Error("SignalR: Invalid transport(s) specified, aborting start.");if(a._.config=c,!u&&!0===c.waitForPageLoad)return a._.deferredStartHandler=function(){a.start(n,o)},h.bind("load",a._.deferredStartHandler),p.promise();if(a.state===l.connectionState.connecting)return p.promise();if(!1===m(a,l.connectionState.disconnected,l.connectionState.connecting))return p.resolve(a),p.promise();v(a),f.href=a.url,f.protocol&&":"!==f.protocol?(a.protocol=f.protocol,a.host=f.host):(a.protocol=e.document.location.protocol,a.host=f.host||e.document.location.host),a.baseUrl=a.protocol+"//"+a.host,a.wsProtocol="https:"===a.protocol?"wss://":"ws://","auto"===c.transport&&!0===c.jsonp&&(c.transport="longPolling"),0===a.url.indexOf("//")&&(a.url=e.location.protocol+a.url,a.log("Protocol relative URL detected, normalizing it to '"+a.url+"'.")),this.isCrossDomain(a.url)&&(a.log("Auto detected cross domain url."),"auto"===c.transport&&(c.transport=["webSockets","serverSentEvents","longPolling"]),void 0===c.withCredentials&&(c.withCredentials=!0),c.jsonp||(c.jsonp=!t.support.cors,c.jsonp&&a.log("Using jsonp because this browser doesn't support CORS.")),a.contentType=l._.defaultContentType),a.withCredentials=c.withCredentials,a.ajaxDataType=c.jsonp?"jsonp":"text",t(a).bind(d.onStart,function(e,n){"function"===t.type(o)&&o.call(a),p.resolve(a)}),a._.initHandler=l.transports._logic.initHandler(a),r=function(n,i){var o=l._.error(s.noTransportOnInit);if((i=i||0)>=n.length)return 0===i?a.log("No transports supported by the server were selected."):1===i?a.log("No fallback transports were selected."):a.log("Fallback transports exhausted."),t(a).triggerHandler(d.onError,[o]),p.reject(o),void a.stop();if(a.state!==l.connectionState.disconnected){var c=n[i],u=l.transports[c],f=function(){r(n,i+1)};a.transport=u;try{a._.initHandler.start(u,function(){var n=l._.firefoxMajorVersion(e.navigator.userAgent)>=11,i=!!a.withCredentials&&n;a.log("The start request succeeded. Transitioning to the connected state."),_(a)&&l.transports._logic.monitorKeepAlive(a),l.transports._logic.startHeartbeat(a),l._.configurePingInterval(a),m(a,l.connectionState.connecting,l.connectionState.connected)||a.log("WARNING! The connection was not in the connecting state."),a._.connectingMessageBuffer.drain(),t(a).triggerHandler(d.onStart),h.bind("unload",function(){a.log("Window unloading, stopping the connection."),a.stop(i)}),n&&h.bind("beforeunload",function(){e.setTimeout(function(){a.stop(i)},0)})},f)}catch(t){a.log(u.name+" transport threw '"+t.message+"' when attempting to start."),f()}}};var g=a.url+"/negotiate",y=function(e,n){var i=l._.error(s.errorOnNegotiate,e,n._.negotiateRequest);t(n).triggerHandler(d.onError,i),p.reject(i),n.stop()};return t(a).triggerHandler(d.onStarting),g=l.transports._logic.prepareQueryString(a,g),a.log("Negotiating with '"+g+"'."),a._.negotiateRequest=l.transports._logic.ajax(a,{url:g,error:function(t,e){"__Negotiate Aborted__"!==e?y(t,a):p.reject(l._.error(s.stoppedWhileNegotiating,null,a._.negotiateRequest))},success:function(e){var n,i,o,u=[],h=[];try{n=a._parseResponse(e)}catch(t){return void y(l._.error(s.errorParsingNegotiateResponse,t),a)}if(i=a._.keepAliveData,a.appRelativeUrl=n.Url,a.id=n.ConnectionId,a.token=n.ConnectionToken,a.webSocketServerUrl=n.WebSocketServerUrl,a._.pollTimeout=1e3*n.ConnectionTimeout+1e4,a.disconnectTimeout=1e3*n.DisconnectTimeout,a._.totalTransportConnectTimeout=a.transportConnectTimeout+1e3*n.TransportConnectTimeout,n.KeepAliveTimeout?(i.activated=!0,i.timeout=1e3*n.KeepAliveTimeout,i.timeoutWarning=i.timeout*a.keepAliveWarnAt,a._.beatInterval=(i.timeout-i.timeoutWarning)/3):i.activated=!1,a.reconnectWindow=a.disconnectTimeout+(i.timeout||0),!n.ProtocolVersion||n.ProtocolVersion!==a.clientProtocol)return o=l._.error(l._.format(s.protocolIncompatible,a.clientProtocol,n.ProtocolVersion)),t(a).triggerHandler(d.onError,[o]),void p.reject(o);t.each(l.transports,function(t){if(0===t.indexOf("_")||"webSockets"===t&&!n.TryWebSockets)return!0;h.push(t)}),t.isArray(c.transport)?t.each(c.transport,function(e,n){t.inArray(n,h)>=0&&u.push(n)}):"auto"===c.transport?u=h:t.inArray(c.transport,h)>=0&&u.push(c.transport),r(u)}}),p.promise()},starting:function(e){var n=this;return t(n).bind(d.onStarting,function(t,i){e.call(n)}),n},send:function(t){var e=this;if(e.state===l.connectionState.disconnected)throw new Error("SignalR: Connection must be started before data can be sent. Call .start() before .send()");if(e.state===l.connectionState.connecting)throw new Error("SignalR: Connection has not been fully initialized. Use .start().done() or .start().fail() to run logic after the connection has started.");return e.transport.send(e,t),e},received:function(e){var n=this;return t(n).bind(d.onReceived,function(t,i){e.call(n,i)}),n},stateChanged:function(e){var n=this;return t(n).bind(d.onStateChanged,function(t,i){e.call(n,i)}),n},error:function(e){var n=this;return t(n).bind(d.onError,function(t,i,o){n.lastError=i,e.call(n,i,o)}),n},disconnected:function(e){var n=this;return t(n).bind(d.onDisconnect,function(t,i){e.call(n)}),n},connectionSlow:function(e){var n=this;return t(n).bind(d.onConnectionSlow,function(t,i){e.call(n)}),n},reconnecting:function(e){var n=this;return t(n).bind(d.onReconnecting,function(t,i){e.call(n)}),n},reconnected:function(e){var n=this;return t(n).bind(d.onReconnect,function(t,i){e.call(n)}),n},stop:function(n,i){var o=this,r=o._deferral;return o._.deferredStartHandler&&h.unbind("load",o._.deferredStartHandler),delete o._.config,delete o._.deferredStartHandler,u||o._.config&&!0!==o._.config.waitForPageLoad?o.state!==l.connectionState.disconnected?(o.log("Stopping connection."),e.clearTimeout(o._.beatHandle),e.clearInterval(o._.pingIntervalId),o.transport&&(o.transport.stop(o),!1!==i&&o.transport.abort(o,n),_(o)&&l.transports._logic.stopMonitoringKeepAlive(o),o.transport=null),o._.negotiateRequest&&(o._.negotiateRequest.abort("__Negotiate Aborted__"),delete o._.negotiateRequest),o._.initHandler&&o._.initHandler.stop(),delete o._deferral,delete o.messageId,delete o.groupsToken,delete o.id,delete o._.pingIntervalId,delete o._.lastMessageAt,delete o._.lastActiveAt,o._.connectingMessageBuffer.clear(),t(o).unbind(d.onStart),m(o,o.state,l.connectionState.disconnected),t(o).triggerHandler(d.onDisconnect),o):void 0:(o.log("Stopping connection prior to negotiate."),void(r&&r.reject(l._.error(s.stoppedWhileLoading))))},log:function(t){f(t,this.logging)}},l.fn.init.prototype=l.fn,l.noConflict=function(){return t.connection===l&&(t.connection=c),l},t.connection&&(c=t.connection),t.connection=t.signalR=l}(window.jQuery,window),function(t,e,n){function i(t){t._.keepAliveData.monitoring&&o(t),s.markActive(t)&&(t._.beatHandle=e.setTimeout(function(){i(t)},t._.beatInterval))}function o(e){var n,i=e._.keepAliveData;e.state===l.connectionState.connected&&(n=(new Date).getTime()-e._.lastMessageAt,n>=i.timeout?(e.log("Keep alive timed out.  Notifying transport that connection has been lost."),e.transport.lostConnection(e)):n>=i.timeoutWarning?i.userNotified||(e.log("Keep alive has been missed, connection may be dead/slow."),t(e).triggerHandler(c.onConnectionSlow),i.userNotified=!0):i.userNotified=!1)}function r(t,e){var n=t.url+e;return t.transport&&(n+="?transport="+t.transport.name),s.prepareQueryString(t,n)}function a(t){this.connection=t,this.startRequested=!1,this.startCompleted=!1,this.connectionStopped=!1}var s,l=t.signalR,c=t.signalR.events,u=t.signalR.changeState;l.transports={},a.prototype={start:function(t,n,i){var o=this,r=o.connection,a=!1;if(o.startRequested||o.connectionStopped)return void r.log("WARNING! "+t.name+" transport cannot be started. Initialization ongoing or completed.");r.log(t.name+" transport starting."),t.start(r,function(){a||o.initReceived(t,n)},function(e){return a||(a=!0,o.transportFailed(t,e,i)),!o.startCompleted||o.connectionStopped}),o.transportTimeoutHandle=e.setTimeout(function(){a||(a=!0,r.log(t.name+" transport timed out when trying to connect."),o.transportFailed(t,void 0,i))},r._.totalTransportConnectTimeout)},stop:function(){this.connectionStopped=!0,e.clearTimeout(this.transportTimeoutHandle),l.transports._logic.tryAbortStartRequest(this.connection)},initReceived:function(t,n){var i=this,o=i.connection;if(i.startRequested)return void o.log("WARNING! The client received multiple init messages.");i.connectionStopped||(i.startRequested=!0,e.clearTimeout(i.transportTimeoutHandle),o.log(t.name+" transport connected. Initiating start request."),l.transports._logic.ajaxStart(o,function(){i.startCompleted=!0,n()}))},transportFailed:function(n,i,o){var r,a=this.connection,s=a._deferral;this.connectionStopped||(e.clearTimeout(this.transportTimeoutHandle),this.startRequested?this.startCompleted||(r=l._.error(l.resources.errorDuringStartRequest,i),a.log(n.name+" transport failed during the start request. Stopping the connection."),t(a).triggerHandler(c.onError,[r]),s&&s.reject(r),a.stop()):(n.stop(a),a.log(n.name+" transport failed to connect. Attempting to fall back."),o()))}},s=l.transports._logic={ajax:function(e,n){return t.ajax(t.extend(!0,{},t.signalR.ajaxDefaults,{type:"GET",data:{},xhrFields:{withCredentials:e.withCredentials},contentType:e.contentType,dataType:e.ajaxDataType},n))},pingServer:function(e){var n,i,o=t.Deferred();return e.transport?(n=e.url+"/ping",n=s.addQs(n,e.qs),i=s.ajax(e,{url:n,success:function(t){var n;try{n=e._parseResponse(t)}catch(t){return o.reject(l._.transportError(l.resources.pingServerFailedParse,e.transport,t,i)),void e.stop()}"pong"===n.Response?o.resolve():o.reject(l._.transportError(l._.format(l.resources.pingServerFailedInvalidResponse,t),e.transport,null,i))},error:function(t){401===t.status||403===t.status?(o.reject(l._.transportError(l._.format(l.resources.pingServerFailedStatusCode,t.status),e.transport,t,i)),e.stop()):o.reject(l._.transportError(l.resources.pingServerFailed,e.transport,t,i))}})):o.reject(l._.transportError(l.resources.noConnectionTransport,e.transport)),o.promise()},prepareQueryString:function(t,n){var i;return i=s.addQs(n,"clientProtocol="+t.clientProtocol),i=s.addQs(i,t.qs),t.token&&(i+="&connectionToken="+e.encodeURIComponent(t.token)),t.data&&(i+="&connectionData="+e.encodeURIComponent(t.data)),i},addQs:function(e,n){var i,o=-1!==e.indexOf("?")?"&":"?";if(!n)return e;if("object"==typeof n)return e+o+t.param(n);if("string"==typeof n)return i=n.charAt(0),"?"!==i&&"&"!==i||(o=""),e+o+n;throw new Error("Query string property must be either a string or object.")},getUrl:function(t,n,i,o,r){var a="webSockets"===n?"":t.baseUrl,l=a+t.appRelativeUrl,c="transport="+n;return!r&&t.groupsToken&&(c+="&groupsToken="+e.encodeURIComponent(t.groupsToken)),i?(l+=o?"/poll":"/reconnect",!r&&t.messageId&&(c+="&messageId="+e.encodeURIComponent(t.messageId))):l+="/connect",l+="?"+c,l=s.prepareQueryString(t,l),r||(l+="&tid="+Math.floor(11*Math.random())),l},maximizePersistentResponse:function(t){return{MessageId:t.C,Messages:t.M,Initialized:void 0!==t.S,ShouldReconnect:void 0!==t.T,LongPollDelay:t.L,GroupsToken:t.G}},updateGroups:function(t,e){e&&(t.groupsToken=e)},stringifySend:function(t,e){return"string"==typeof e||void 0===e||null===e?e:t.json.stringify(e)},ajaxSend:function(e,n){var i,o=s.stringifySend(e,n),a=r(e,"/send"),u=function(e,o){t(o).triggerHandler(c.onError,[l._.transportError(l.resources.sendFailed,o.transport,e,i),n])};return i=s.ajax(e,{url:a,type:"jsonp"===e.ajaxDataType?"GET":"POST",contentType:l._.defaultContentType,data:{data:o},success:function(t){var n;if(t){try{n=e._parseResponse(t)}catch(t){return u(t,e),void e.stop()}s.triggerReceived(e,n)}},error:function(t,n){"abort"!==n&&"parsererror"!==n&&u(t,e)}})},ajaxAbort:function(t,e){if(void 0!==t.transport){e=void 0===e||e;var n=r(t,"/abort");s.ajax(t,{url:n,async:e,timeout:1e3,type:"POST"}),t.log("Fired ajax abort async = "+e+".")}},ajaxStart:function(e,n){var i=function(t){var n=e._deferral;n&&n.reject(t)},o=function(n){e.log("The start request failed. Stopping the connection."),t(e).triggerHandler(c.onError,[n]),i(n),e.stop()};e._.startRequest=s.ajax(e,{url:r(e,"/start"),success:function(t,i,r){var a;try{a=e._parseResponse(t)}catch(e){return void o(l._.error(l._.format(l.resources.errorParsingStartResponse,t),e,r))}"started"===a.Response?n():o(l._.error(l._.format(l.resources.invalidStartResponse,t),null,r))},error:function(t,n,r){"__Start Aborted__"!==n?o(l._.error(l.resources.errorDuringStartRequest,r,t)):(e.log("The start request aborted because connection.stop() was called."),i(l._.error(l.resources.stoppedDuringStartRequest,null,t)))}})},tryAbortStartRequest:function(t){t._.startRequest&&(t._.startRequest.abort("__Start Aborted__"),delete t._.startRequest)},tryInitialize:function(t,e,n){e.Initialized&&n?n():e.Initialized&&t.log("WARNING! The client received an init message after reconnecting.")},triggerReceived:function(e,n){e._.connectingMessageBuffer.tryBuffer(n)||t(e).triggerHandler(c.onReceived,[n])},processMessages:function(e,n,i){var o;s.markLastMessage(e),n&&(o=s.maximizePersistentResponse(n),s.updateGroups(e,o.GroupsToken),o.MessageId&&(e.messageId=o.MessageId),o.Messages&&(t.each(o.Messages,function(t,n){s.triggerReceived(e,n)}),s.tryInitialize(e,o,i)))},monitorKeepAlive:function(e){var n=e._.keepAliveData;n.monitoring?e.log("Tried to monitor keep alive but it's already being monitored."):(n.monitoring=!0,s.markLastMessage(e),e._.keepAliveData.reconnectKeepAliveUpdate=function(){s.markLastMessage(e)},t(e).bind(c.onReconnect,e._.keepAliveData.reconnectKeepAliveUpdate),e.log("Now monitoring keep alive with a warning timeout of "+n.timeoutWarning+", keep alive timeout of "+n.timeout+" and disconnecting timeout of "+e.disconnectTimeout))},stopMonitoringKeepAlive:function(e){var n=e._.keepAliveData;n.monitoring&&(n.monitoring=!1,t(e).unbind(c.onReconnect,e._.keepAliveData.reconnectKeepAliveUpdate),e._.keepAliveData={},e.log("Stopping the monitoring of the keep alive."))},startHeartbeat:function(t){t._.lastActiveAt=(new Date).getTime(),i(t)},markLastMessage:function(t){t._.lastMessageAt=(new Date).getTime()},markActive:function(t){return!!s.verifyLastActive(t)&&(t._.lastActiveAt=(new Date).getTime(),!0)},isConnectedOrReconnecting:function(t){return t.state===l.connectionState.connected||t.state===l.connectionState.reconnecting},ensureReconnectingState:function(e){return!0===u(e,l.connectionState.connected,l.connectionState.reconnecting)&&t(e).triggerHandler(c.onReconnecting),e.state===l.connectionState.reconnecting},clearReconnectTimeout:function(t){t&&t._.reconnectTimeout&&(e.clearTimeout(t._.reconnectTimeout),delete t._.reconnectTimeout)},verifyLastActive:function(e){if((new Date).getTime()-e._.lastActiveAt>=e.reconnectWindow){var n=l._.format(l.resources.reconnectWindowTimeout,new Date(e._.lastActiveAt),e.reconnectWindow);return e.log(n),t(e).triggerHandler(c.onError,[l._.error(n,"TimeoutException")]),e.stop(!1,!1),!1}return!0},reconnect:function(t,n){var i=l.transports[n];if(s.isConnectedOrReconnecting(t)&&!t._.reconnectTimeout){if(!s.verifyLastActive(t))return;t._.reconnectTimeout=e.setTimeout(function(){s.verifyLastActive(t)&&(i.stop(t),s.ensureReconnectingState(t)&&(t.log(n+" reconnecting."),i.start(t)))},t.reconnectDelay)}},handleParseFailure:function(e,n,i,o,r){var a=l._.transportError(l._.format(l.resources.parseFailed,n),e.transport,i,r);o&&o(a)?e.log("Failed to parse server response while attempting to connect."):(t(e).triggerHandler(c.onError,[a]),e.stop())},initHandler:function(t){return new a(t)},foreverFrame:{count:0,connections:{}}}}(window.jQuery,window),function(t,e,n){var i=t.signalR,o=t.signalR.events,r=t.signalR.changeState,a=i.transports._logic;i.transports.webSockets={name:"webSockets",supportsKeepAlive:function(){return!0},send:function(e,n){var r=a.stringifySend(e,n);try{e.socket.send(r)}catch(r){t(e).triggerHandler(o.onError,[i._.transportError(i.resources.webSocketsInvalidState,e.transport,r,e.socket),n])}},start:function(n,s,l){var c,u=!1,h=this,d=!s,p=t(n);if(!e.WebSocket)return void l();n.socket||(c=n.webSocketServerUrl?n.webSocketServerUrl:n.wsProtocol+n.host,c+=a.getUrl(n,this.name,d),n.log("Connecting to websocket endpoint '"+c+"'."),n.socket=new e.WebSocket(c),n.socket.onopen=function(){u=!0,n.log("Websocket opened."),a.clearReconnectTimeout(n),!0===r(n,i.connectionState.reconnecting,i.connectionState.connected)&&p.triggerHandler(o.onReconnect)},n.socket.onclose=function(e){var r;this===n.socket&&(u&&void 0!==e.wasClean&&!1===e.wasClean?(r=i._.transportError(i.resources.webSocketClosed,n.transport,e),n.log("Unclean disconnect from websocket: "+(e.reason||"[no reason given]."))):n.log("Websocket closed."),l&&l(r)||(r&&t(n).triggerHandler(o.onError,[r]),h.reconnect(n)))},n.socket.onmessage=function(e){var i;try{i=n._parseResponse(e.data)}catch(t){return void a.handleParseFailure(n,e.data,t,l,e)}i&&(t.isEmptyObject(i)||i.M?a.processMessages(n,i,s):a.triggerReceived(n,i))})},reconnect:function(t){a.reconnect(t,this.name)},lostConnection:function(t){this.reconnect(t)},stop:function(t){a.clearReconnectTimeout(t),t.socket&&(t.log("Closing the Websocket."),t.socket.close(),t.socket=null)},abort:function(t,e){a.ajaxAbort(t,e)}}}(window.jQuery,window),function(t,e,n){var i=t.signalR,o=t.signalR.events,r=t.signalR.changeState,a=i.transports._logic,s=function(t){e.clearTimeout(t._.reconnectAttemptTimeoutHandle),delete t._.reconnectAttemptTimeoutHandle};i.transports.serverSentEvents={name:"serverSentEvents",supportsKeepAlive:function(){return!0},timeOut:3e3,start:function(n,l,c){var u,h=this,d=!1,p=t(n),f=!l;if(n.eventSource&&(n.log("The connection already has an event source. Stopping it."),n.stop()),!e.EventSource)return void(c&&(n.log("This browser doesn't support SSE."),c()));u=a.getUrl(n,this.name,f);try{n.log("Attempting to connect to SSE endpoint '"+u+"'."),n.eventSource=new e.EventSource(u,{withCredentials:n.withCredentials})}catch(t){return n.log("EventSource failed trying to connect with error "+t.Message+"."),void(c?c():(p.triggerHandler(o.onError,[i._.transportError(i.resources.eventSourceFailedToConnect,n.transport,t)]),f&&h.reconnect(n)))}f&&(n._.reconnectAttemptTimeoutHandle=e.setTimeout(function(){!1===d&&n.eventSource.readyState!==e.EventSource.OPEN&&h.reconnect(n)},h.timeOut)),n.eventSource.addEventListener("open",function(t){n.log("EventSource connected."),s(n),a.clearReconnectTimeout(n),!1===d&&(d=!0,!0===r(n,i.connectionState.reconnecting,i.connectionState.connected)&&p.triggerHandler(o.onReconnect))},!1),n.eventSource.addEventListener("message",function(t){var e;if("initialized"!==t.data){try{e=n._parseResponse(t.data)}catch(e){return void a.handleParseFailure(n,t.data,e,c,t)}a.processMessages(n,e,l)}},!1),n.eventSource.addEventListener("error",function(t){var r=i._.transportError(i.resources.eventSourceError,n.transport,t);this===n.eventSource&&(c&&c(r)||(n.log("EventSource readyState: "+n.eventSource.readyState+"."),t.eventPhase===e.EventSource.CLOSED?(n.log("EventSource reconnecting due to the server connection ending."),h.reconnect(n)):(n.log("EventSource error."),p.triggerHandler(o.onError,[r]))))},!1)},reconnect:function(t){a.reconnect(t,this.name)},lostConnection:function(t){this.reconnect(t)},send:function(t,e){a.ajaxSend(t,e)},stop:function(t){s(t),a.clearReconnectTimeout(t),t&&t.eventSource&&(t.log("EventSource calling close()."),t.eventSource.close(),t.eventSource=null,delete t.eventSource)},abort:function(t,e){a.ajaxAbort(t,e)}}}(window.jQuery,window),function(t,e,n){var i=t.signalR,o=t.signalR.events,r=t.signalR.changeState,a=i.transports._logic,s=function(){var t=e.document.createElement("iframe");return t.setAttribute("style","position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;"),t},l=function(){var t=null,n=0;return{prevent:function(){i._.ieVersion<=8&&(0===n&&(t=e.setInterval(function(){var t=s();e.document.body.appendChild(t),e.document.body.removeChild(t),t=null},1e3)),n++)},cancel:function(){1===n&&e.clearInterval(t),n>0&&n--}}}();i.transports.foreverFrame={name:"foreverFrame",supportsKeepAlive:function(){return!0},iframeClearThreshold:50,start:function(t,n,i){var o,r=this,c=a.foreverFrame.count+=1,u=s(),h=function(){t.log("Forever frame iframe finished loading and is no longer receiving messages."),i&&i()||r.reconnect(t)};if(e.EventSource)return void(i&&(t.log("Forever Frame is not supported by SignalR on browsers with SSE support."),i()));u.setAttribute("data-signalr-connection-id",t.id),l.prevent(),o=a.getUrl(t,this.name),o+="&frameId="+c,e.document.documentElement.appendChild(u),t.log("Binding to iframe's load event."),u.addEventListener?u.addEventListener("load",h,!1):u.attachEvent&&u.attachEvent("onload",h),u.src=o,a.foreverFrame.connections[c]=t,t.frame=u,t.frameId=c,n&&(t.onSuccess=function(){t.log("Iframe transport started."),n()})},reconnect:function(t){var n=this;a.isConnectedOrReconnecting(t)&&a.verifyLastActive(t)&&e.setTimeout(function(){if(a.verifyLastActive(t)&&t.frame&&a.ensureReconnectingState(t)){var e=t.frame,i=a.getUrl(t,n.name,!0)+"&frameId="+t.frameId;t.log("Updating iframe src to '"+i+"'."),e.src=i}},t.reconnectDelay)},lostConnection:function(t){this.reconnect(t)},send:function(t,e){a.ajaxSend(t,e)},receive:function(e,n){var o,r,s;if(e.json!==e._originalJson&&(n=e._originalJson.stringify(n)),s=e._parseResponse(n),a.processMessages(e,s,e.onSuccess),e.state===t.signalR.connectionState.connected&&(e.frameMessageCount=(e.frameMessageCount||0)+1,e.frameMessageCount>i.transports.foreverFrame.iframeClearThreshold&&(e.frameMessageCount=0,(o=e.frame.contentWindow||e.frame.contentDocument)&&o.document&&o.document.body)))for(r=o.document.body;r.firstChild;)r.removeChild(r.firstChild)},stop:function(t){var n=null;if(l.cancel(),t.frame){if(t.frame.stop)t.frame.stop();else try{n=t.frame.contentWindow||t.frame.contentDocument,n.document&&n.document.execCommand&&n.document.execCommand("Stop")}catch(e){t.log("Error occurred when stopping foreverFrame transport. Message = "+e.message+".")}t.frame.parentNode===e.document.documentElement&&e.document.documentElement.removeChild(t.frame),delete a.foreverFrame.connections[t.frameId],t.frame=null,t.frameId=null,delete t.frame,delete t.frameId,delete t.onSuccess,delete t.frameMessageCount,t.log("Stopping forever frame.")}},abort:function(t,e){a.ajaxAbort(t,e)},getConnection:function(t){return a.foreverFrame.connections[t]},started:function(e){!0===r(e,i.connectionState.reconnecting,i.connectionState.connected)&&t(e).triggerHandler(o.onReconnect)}}}(window.jQuery,window),function(t,e,n){var i=t.signalR,o=t.signalR.events,r=t.signalR.changeState,a=t.signalR.isDisconnecting,s=i.transports._logic;i.transports.longPolling={name:"longPolling",supportsKeepAlive:function(){return!1},reconnectDelay:3e3,start:function(n,l,c){var u=this,h=function(){h=t.noop,n.log("LongPolling connected."),l?l():n.log("WARNING! The client received an init message after reconnecting.")},d=function(t){return!!c(t)&&(n.log("LongPolling failed to connect."),!0)},p=n._,f=0,m=function(n){e.clearTimeout(p.reconnectTimeoutId),p.reconnectTimeoutId=null,!0===r(n,i.connectionState.reconnecting,i.connectionState.connected)&&(n.log("Raising the reconnect event"),t(n).triggerHandler(o.onReconnect))};n.pollXhr&&(n.log("Polling xhr requests already exists, aborting."),n.stop()),n.messageId=null,p.reconnectTimeoutId=null,p.pollTimeoutId=e.setTimeout(function(){!function r(l,c){var g=l.messageId,_=null===g,v=!_,y=!c,w=s.getUrl(l,u.name,v,y,!0),x={}
;l.messageId&&(x.messageId=l.messageId),l.groupsToken&&(x.groupsToken=l.groupsToken),!0!==a(l)&&(n.log("Opening long polling request to '"+w+"'."),l.pollXhr=s.ajax(n,{xhrFields:{onprogress:function(){s.markLastMessage(n)}},url:w,type:"POST",contentType:i._.defaultContentType,data:x,timeout:n._.pollTimeout,success:function(i){var o,c,u,g=0;n.log("Long poll complete."),f=0;try{o=n._parseResponse(i)}catch(t){return void s.handleParseFailure(l,i,t,d,l.pollXhr)}null!==p.reconnectTimeoutId&&m(l),o&&(c=s.maximizePersistentResponse(o)),s.processMessages(l,o,h),c&&"number"===t.type(c.LongPollDelay)&&(g=c.LongPollDelay),!0!==a(l)&&((u=c&&c.ShouldReconnect)&&!s.ensureReconnectingState(l)||(g>0?p.pollTimeoutId=e.setTimeout(function(){r(l,u)},g):r(l,u)))},error:function(a,c){var h=i._.transportError(i.resources.longPollFailed,n.transport,a,l.pollXhr);if(e.clearTimeout(p.reconnectTimeoutId),p.reconnectTimeoutId=null,"abort"===c)return void n.log("Aborted xhr request.");if(!d(h)){if(f++,n.state!==i.connectionState.reconnecting&&(n.log("An error occurred using longPolling. Status = "+c+".  Response = "+a.responseText+"."),t(l).triggerHandler(o.onError,[h])),(n.state===i.connectionState.connected||n.state===i.connectionState.reconnecting)&&!s.verifyLastActive(n))return;if(!s.ensureReconnectingState(l))return;p.pollTimeoutId=e.setTimeout(function(){r(l,!0)},u.reconnectDelay)}}}),v&&!0===c&&(p.reconnectTimeoutId=e.setTimeout(function(){m(l)},Math.min(1e3*(Math.pow(2,f)-1),36e5))))}(n)},250)},lostConnection:function(t){t.pollXhr&&t.pollXhr.abort("lostConnection")},send:function(t,e){s.ajaxSend(t,e)},stop:function(t){e.clearTimeout(t._.pollTimeoutId),e.clearTimeout(t._.reconnectTimeoutId),delete t._.pollTimeoutId,delete t._.reconnectTimeoutId,t.pollXhr&&(t.pollXhr.abort(),t.pollXhr=null,delete t.pollXhr)},abort:function(t,e){s.ajaxAbort(t,e)}}}(window.jQuery,window),function(t,e,n){function i(t){return t+u}function o(t,e,n){var i,o=t.length,r=[];for(i=0;i<o;i+=1)t.hasOwnProperty(i)&&(r[i]=e.call(n,t[i],i,t));return r}function r(e){return t.isFunction(e)?null:"undefined"===t.type(e)?null:e}function a(t){for(var e in t)if(t.hasOwnProperty(e))return!0;return!1}function s(t,e){var n,i=t._.invocationCallbacks;a(i)&&t.log("Clearing hub invocation callbacks with error: "+e+"."),t._.invocationCallbackId=0,delete t._.invocationCallbacks,t._.invocationCallbacks={};for(var o in i)n=i[o],n.method.call(n.scope,{E:e})}function l(t,e){return new l.fn.init(t,e)}function c(e,n){var i={qs:null,logging:!1,useDefaultPath:!0};return t.extend(i,n),e&&!i.useDefaultPath||(e=(e||"")+"/signalr"),new c.fn.init(e,i)}var u=".hubProxy",h=t.signalR;l.fn=l.prototype={init:function(t,e){this.state={},this.connection=t,this.hubName=e,this._={callbackMap:{}}},constructor:l,hasSubscriptions:function(){return a(this._.callbackMap)},on:function(e,n){var o=this,r=o._.callbackMap;return e=e.toLowerCase(),r[e]||(r[e]={}),r[e][n]=function(t,e){n.apply(o,e)},t(o).bind(i(e),r[e][n]),o},off:function(e,n){var o,r=this,s=r._.callbackMap;return e=e.toLowerCase(),o=s[e],o&&(o[n]?(t(r).unbind(i(e),o[n]),delete o[n],a(o)||delete s[e]):n||(t(r).unbind(i(e)),delete s[e])),r},invoke:function(e){var n=this,i=n.connection,a=t.makeArray(arguments).slice(1),s=o(a,r),l={H:n.hubName,M:e,A:s,I:i._.invocationCallbackId},c=t.Deferred(),u=function(o){var r,a,s=n._maximizeHubResponse(o);t.extend(n.state,s.State),s.Progress?c.notifyWith?c.notifyWith(n,[s.Progress.Data]):i._.progressjQueryVersionLogged||(i.log("A hub method invocation progress update was received but the version of jQuery in use ("+t.prototype.jquery+") does not support progress updates. Upgrade to jQuery 1.7+ to receive progress notifications."),i._.progressjQueryVersionLogged=!0):s.Error?(s.StackTrace&&i.log(s.Error+"\n"+s.StackTrace+"."),r=s.IsHubException?"HubException":"Exception",a=h._.error(s.Error,r),a.data=s.ErrorData,i.log(n.hubName+"."+e+" failed to execute. Error: "+a.message),c.rejectWith(n,[a])):(i.log("Invoked "+n.hubName+"."+e),c.resolveWith(n,[s.Result]))};return i._.invocationCallbacks[i._.invocationCallbackId.toString()]={scope:n,method:u},i._.invocationCallbackId+=1,t.isEmptyObject(n.state)||(l.S=n.state),i.log("Invoking "+n.hubName+"."+e),i.send(l),c.promise()},_maximizeHubResponse:function(t){return{State:t.S,Result:t.R,Progress:t.P?{Id:t.P.I,Data:t.P.D}:null,Id:t.I,IsHubException:t.H,Error:t.E,StackTrace:t.T,ErrorData:t.D}}},l.fn.init.prototype=l.fn,c.fn=c.prototype=t.connection(),c.fn.init=function(e,n){var o={qs:null,logging:!1,useDefaultPath:!0},r=this;t.extend(o,n),t.signalR.fn.init.call(r,e,o.qs,o.logging),r.proxies={},r._.invocationCallbackId=0,r._.invocationCallbacks={},r.received(function(e){var n,o,a,s,l,c;e&&(void 0!==e.P?(a=e.P.I.toString(),(s=r._.invocationCallbacks[a])&&s.method.call(s.scope,e)):void 0!==e.I?(a=e.I.toString(),(s=r._.invocationCallbacks[a])&&(r._.invocationCallbacks[a]=null,delete r._.invocationCallbacks[a],s.method.call(s.scope,e))):(n=this._maximizeClientHubInvocation(e),r.log("Triggering client hub event '"+n.Method+"' on hub '"+n.Hub+"'."),l=n.Hub.toLowerCase(),c=n.Method.toLowerCase(),o=this.proxies[l],t.extend(o.state,n.State),t(o).triggerHandler(i(c),[n.Args])))}),r.error(function(t,e){var n,i;e&&(n=e.I,(i=r._.invocationCallbacks[n])&&(r._.invocationCallbacks[n]=null,delete r._.invocationCallbacks[n],i.method.call(i.scope,{E:t})))}),r.reconnecting(function(){r.transport&&"webSockets"===r.transport.name&&s(r,"Connection started reconnecting before invocation result was received.")}),r.disconnected(function(){s(r,"Connection was disconnected before invocation result was received.")})},c.fn._maximizeClientHubInvocation=function(t){return{Hub:t.H,Method:t.M,Args:t.A,State:t.S}},c.fn._registerSubscribedHubs=function(){var e=this;e._subscribedToHubs||(e._subscribedToHubs=!0,e.starting(function(){var n=[];t.each(e.proxies,function(t){this.hasSubscriptions()&&(n.push({name:t}),e.log("Client subscribed to hub '"+t+"'."))}),0===n.length&&e.log("No hubs have been subscribed to.  The client will not receive data from hubs.  To fix, declare at least one client side function prior to connection start for each hub you wish to subscribe to."),e.data=e.json.stringify(n)}))},c.fn.createHubProxy=function(t){t=t.toLowerCase();var e=this.proxies[t];return e||(e=l(this,t),this.proxies[t]=e),this._registerSubscribedHubs(),e},c.fn.init.prototype=c.fn,t.hubConnection=c}(window.jQuery,window),function(t,e){t.signalR.version="2.2.2"}(window.jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,function(t){"use strict";function e(t){return"number"==typeof t&&!isNaN(t)}function n(t){return void 0===t}function i(t,n){var i=[];return e(n)&&i.push(n),i.slice.apply(t,i)}function o(t,e){for(var n=arguments.length,o=Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];return function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.apply(e,o.concat(i(r)))}}function r(e){var n=[];return t.each(e,function(t){n.push(t)}),n}function a(t){var e=t.match(/^(https?:)\/\/([^:\/?#]+):?(\d*)/i);return e&&(e[1]!==location.protocol||e[2]!==location.hostname||e[3]!==location.port)}function s(t){var e="timestamp="+(new Date).getTime();return t+(-1===t.indexOf("?")?"?":"&")+e}function l(t,e){if(t.naturalWidth&&!C)return void e(t.naturalWidth,t.naturalHeight);var n=document.createElement("img");n.onload=function(){e(this.width,this.height)},n.src=t.src}function c(t){var n=[],i=t.translateX,o=t.translateY,r=t.rotate,a=t.scaleX,s=t.scaleY;return e(i)&&0!==i&&n.push("translateX("+i+"px)"),e(o)&&0!==o&&n.push("translateY("+o+"px)"),e(r)&&0!==r&&n.push("rotate("+r+"deg)"),e(a)&&1!==a&&n.push("scaleX("+a+")"),e(s)&&1!==s&&n.push("scaleY("+s+")"),n.length?n.join(" "):"none"}function u(t,e){var n=Math.abs(t.degree)%180,i=(n>90?180-n:n)*Math.PI/180,o=Math.sin(i),r=Math.cos(i),a=t.width,s=t.height,l=t.aspectRatio,c=void 0,u=void 0;return e?(c=a/(r+o/l),u=c/l):(c=a*r+s*o,u=a*o+s*r),{width:c,height:u}}function h(n,i,o){var r=t("<canvas>")[0],a=r.getContext("2d"),s=0,l=0,c=i.naturalWidth,h=i.naturalHeight,d=i.rotate,p=i.scaleX,f=i.scaleY,m=e(p)&&e(f)&&(1!==p||1!==f),g=e(d)&&0!==d,_=g||m,v=c*Math.abs(p||1),y=h*Math.abs(f||1),w=void 0,x=void 0,b=void 0;return m&&(w=v/2,x=y/2),g&&(b=u({width:v,height:y,degree:d}),v=b.width,y=b.height,w=v/2,x=y/2),r.width=v,r.height=y,o.fillColor&&(a.fillStyle=o.fillColor,a.fillRect(0,0,v,y)),_&&(s=-c/2,l=-h/2,a.save(),a.translate(w,x)),g&&a.rotate(d*Math.PI/180),m&&a.scale(p,f),a.imageSmoothingEnabled=!!o.imageSmoothingEnabled,o.imageSmoothingQuality&&(a.imageSmoothingQuality=o.imageSmoothingQuality),a.drawImage(n,Math.floor(s),Math.floor(l),Math.floor(c),Math.floor(h)),_&&a.restore(),r}function d(t,e,n){var i="",o=void 0;for(o=e,n+=e;o<n;o++)i+=L(t.getUint8(o));return i}function p(t){var e=new DataView(t),n=e.byteLength,i=void 0,o=void 0,r=void 0,a=void 0,s=void 0,l=void 0,c=void 0,u=void 0,h=void 0,p=void 0;if(255===e.getUint8(0)&&216===e.getUint8(1))for(h=2;h<n;){if(255===e.getUint8(h)&&225===e.getUint8(h+1)){c=h;break}h++}if(c&&(o=c+4,r=c+10,"Exif"===d(e,o,4)&&(l=e.getUint16(r),((s=18761===l)||19789===l)&&42===e.getUint16(r+2,s)&&(a=e.getUint32(r+4,s))>=8&&(u=r+a))),u)for(n=e.getUint16(u,s),p=0;p<n;p++)if(h=u+12*p+2,274===e.getUint16(h,s)){h+=8,i=e.getUint16(h,s),C&&e.setUint16(h,1,s);break}return i}function f(t){var e=t.replace(w,""),n=atob(e),i=n.length,o=new ArrayBuffer(i),r=new Uint8Array(o),a=void 0;for(a=0;a<i;a++)r[a]=n.charCodeAt(a);return o}function m(t){var e=new Uint8Array(t),n=e.length,i="",o=void 0;for(o=0;o<n;o++)i+=L(e[o]);return"data:image/jpeg;base64,"+btoa(i)}function g(e,n){var i=e.pageX,o=e.pageY,r={endX:i,endY:o};return n?r:t.extend({startX:i,startY:o},r)}function _(e){var n=t.extend({},e),i=[];return t.each(e,function(e,o){delete n[e],t.each(n,function(t,e){var n=Math.abs(o.startX-e.startX),r=Math.abs(o.startY-e.startY),a=Math.abs(o.endX-e.endX),s=Math.abs(o.endY-e.endY),l=Math.sqrt(n*n+r*r),c=Math.sqrt(a*a+s*s),u=(c-l)/l;i.push(u)})}),i.sort(function(t,e){return Math.abs(t)<Math.abs(e)}),i[0]}function v(e){var n=0,i=0,o=0;return t.each(e,function(t,e){var r=e.startX,a=e.startY;n+=r,i+=a,o+=1}),n/=o,i/=o,{pageX:n,pageY:i}}t="default"in t?t.default:t;var y={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},w=/^data:.*,/,x=/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i,b="undefined"!=typeof window?window.navigator:null,C=b&&x.test(b.userAgent),L=String.fromCharCode,T={render:function(){var t=this;t.initContainer(),t.initCanvas(),t.initCropBox(),t.renderCanvas(),t.cropped&&t.renderCropBox()},initContainer:function(){var t=this,e=t.options,n=t.$element,i=t.$container,o=t.$cropper,r="cropper-hidden";o.addClass(r),n.removeClass(r),o.css(t.container={width:Math.max(i.width(),Number(e.minContainerWidth)||200),height:Math.max(i.height(),Number(e.minContainerHeight)||100)}),n.addClass(r),o.removeClass(r)},initCanvas:function(){var e=this,n=e.options.viewMode,i=e.container,o=i.width,r=i.height,a=e.image,s=a.naturalWidth,l=a.naturalHeight,c=Math.abs(a.rotate)%180==90,u=c?l:s,h=c?s:l,d=u/h,p=o,f=r;r*d>o?3===n?p=r*d:f=o/d:3===n?f=o/d:p=r*d;var m={naturalWidth:u,naturalHeight:h,aspectRatio:d,width:p,height:f};m.oldLeft=m.left=(o-p)/2,m.oldTop=m.top=(r-f)/2,e.canvas=m,e.limited=1===n||2===n,e.limitCanvas(!0,!0),e.initialImage=t.extend({},a),e.initialCanvas=t.extend({},m)},limitCanvas:function(t,e){var n=this,i=n.options,o=i.viewMode,r=n.container,a=r.width,s=r.height,l=n.canvas,c=l.aspectRatio,u=n.cropBox,h=n.cropped&&u;if(t){var d=Number(i.minCanvasWidth)||0,p=Number(i.minCanvasHeight)||0;o&&(o>1?(d=Math.max(d,a),p=Math.max(p,s),3===o&&(p*c>d?d=p*c:p=d/c)):d?d=Math.max(d,h?u.width:0):p?p=Math.max(p,h?u.height:0):h&&(d=u.width,p=u.height,p*c>d?d=p*c:p=d/c)),d&&p?p*c>d?p=d/c:d=p*c:d?p=d/c:p&&(d=p*c),l.minWidth=d,l.minHeight=p,l.maxWidth=1/0,l.maxHeight=1/0}if(e)if(o){var f=a-l.width,m=s-l.height;l.minLeft=Math.min(0,f),l.minTop=Math.min(0,m),l.maxLeft=Math.max(0,f),l.maxTop=Math.max(0,m),h&&n.limited&&(l.minLeft=Math.min(u.left,u.left+u.width-l.width),l.minTop=Math.min(u.top,u.top+u.height-l.height),l.maxLeft=u.left,l.maxTop=u.top,2===o&&(l.width>=a&&(l.minLeft=Math.min(0,f),l.maxLeft=Math.max(0,f)),l.height>=s&&(l.minTop=Math.min(0,m),l.maxTop=Math.max(0,m))))}else l.minLeft=-l.width,l.minTop=-l.height,l.maxLeft=a,l.maxTop=s},renderCanvas:function(t){var e=this,n=e.canvas,i=e.image,o=i.rotate,r=i.naturalWidth,a=i.naturalHeight;if(e.rotated){e.rotated=!1;var s=u({width:i.width,height:i.height,degree:o}),l=s.width/s.height,h=1===i.aspectRatio;if(h||l!==n.aspectRatio){if(n.left-=(s.width-n.width)/2,n.top-=(s.height-n.height)/2,n.width=s.width,n.height=s.height,n.aspectRatio=l,n.naturalWidth=r,n.naturalHeight=a,h&&o%90||o%180){var d=u({width:r,height:a,degree:o});n.naturalWidth=d.width,n.naturalHeight=d.height}e.limitCanvas(!0,!1)}}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),e.limitCanvas(!1,!0),n.oldLeft=n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.oldTop=n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),e.$canvas.css({width:n.width,height:n.height,transform:c({translateX:n.left,translateY:n.top})}),e.renderImage(),e.cropped&&e.limited&&e.limitCropBox(!0,!0),t&&e.output()},renderImage:function(e){var n=this,i=n.canvas,o=n.image,r=void 0;o.rotate&&(r=u({width:i.width,height:i.height,degree:o.rotate,aspectRatio:o.aspectRatio},!0)),t.extend(o,r?{width:r.width,height:r.height,left:(i.width-r.width)/2,top:(i.height-r.height)/2}:{width:i.width,height:i.height,left:0,top:0}),n.$clone.css({width:o.width,height:o.height,transform:c(t.extend({translateX:o.left,translateY:o.top},o))}),e&&n.output()},initCropBox:function(){var e=this,n=e.options,i=e.canvas,o=n.aspectRatio,r=Number(n.autoCropArea)||.8,a={width:i.width,height:i.height};o&&(i.height*o>i.width?a.height=a.width/o:a.width=a.height*o),e.cropBox=a,e.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*r),a.height=Math.max(a.minHeight,a.height*r),a.oldLeft=a.left=i.left+(i.width-a.width)/2,a.oldTop=a.top=i.top+(i.height-a.height)/2,e.initialCropBox=t.extend({},a)},limitCropBox:function(t,e){var n=this,i=n.options,o=i.aspectRatio,r=n.container,a=r.width,s=r.height,l=n.canvas,c=n.cropBox,u=n.limited;if(t){var h=Number(i.minCropBoxWidth)||0,d=Number(i.minCropBoxHeight)||0,p=Math.min(a,u?l.width:a),f=Math.min(s,u?l.height:s);h=Math.min(h,a),d=Math.min(d,s),o&&(h&&d?d*o>h?d=h/o:h=d*o:h?d=h/o:d&&(h=d*o),f*o>p?f=p/o:p=f*o),c.minWidth=Math.min(h,p),c.minHeight=Math.min(d,f),c.maxWidth=p,c.maxHeight=f}e&&(u?(c.minLeft=Math.max(0,l.left),c.minTop=Math.max(0,l.top),c.maxLeft=Math.min(a,l.left+l.width)-c.width,c.maxTop=Math.min(s,l.top+l.height)-c.height):(c.minLeft=0,c.minTop=0,c.maxLeft=a-c.width,c.maxTop=s-c.height))},renderCropBox:function(){var t=this,e=t.options,n=t.container,i=n.width,o=n.height,r=t.cropBox;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),t.limitCropBox(!1,!0),r.oldLeft=r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.oldTop=r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),e.movable&&e.cropBoxMovable&&t.$face.data("action",r.width===i&&r.height===o?"move":"all"),t.$cropBox.css({width:r.width,height:r.height,transform:c({translateX:r.left,translateY:r.top})}),t.cropped&&t.limited&&t.limitCanvas(!0,!0),t.disabled||t.output()},output:function(){var t=this;t.preview(),t.completed&&t.trigger("crop",t.getData())}},S={initPreview:function(){var e=this,n=e.crossOrigin,i=n?e.crossOriginUrl:e.url,o=document.createElement("img");n&&(o.crossOrigin=n),o.src=i;var r=t(o);e.$preview=t(e.options.preview),e.$clone2=r,e.$viewBox.html(r),e.$preview.each(function(e,o){var r=t(o),a=document.createElement("img");r.data("preview",{width:r.width(),height:r.height(),html:r.html()}),n&&(a.crossOrigin=n),a.src=i,a.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',r.html(a)})},resetPreview:function(){this.$preview.each(function(e,n){var i=t(n),o=i.data("preview");i.css({width:o.width,height:o.height}).html(o.html).removeData("preview")})},preview:function(){var e=this,n=e.image,i=e.canvas,o=e.cropBox,r=o.width,a=o.height,s=n.width,l=n.height,u=o.left-i.left-n.left,h=o.top-i.top-n.top;e.cropped&&!e.disabled&&(e.$clone2.css({width:s,height:l,transform:c(t.extend({translateX:-u,translateY:-h},n))}),e.$preview.each(function(e,i){var o=t(i),d=o.data("preview"),p=d.width,f=d.height,m=p,g=f,_=1;r&&(_=p/r,g=a*_),a&&g>f&&(_=f/a,m=r*_,g=f),o.css({width:m,height:g}).find("img").css({width:s*_,height:l*_,transform:c(t.extend({translateX:-u*_,translateY:-h*_},n))})}))}},M="undefined"!=typeof window?window.PointerEvent:null,k=M?"pointerdown":"touchstart mousedown",P=M?"pointermove":"touchmove mousemove",E=M?" pointerup pointercancel":"touchend touchcancel mouseup",A={bind:function(){var e=this,n=e.options,i=e.$element,r=e.$cropper;t.isFunction(n.cropstart)&&i.on("cropstart",n.cropstart),t.isFunction(n.cropmove)&&i.on("cropmove",n.cropmove),t.isFunction(n.cropend)&&i.on("cropend",n.cropend),t.isFunction(n.crop)&&i.on("crop",n.crop),t.isFunction(n.zoom)&&i.on("zoom",n.zoom),r.on(k,o(e.cropStart,this)),n.zoomable&&n.zoomOnWheel&&r.on("wheel mousewheel DOMMouseScroll",o(e.wheel,this)),n.toggleDragModeOnDblclick&&r.on("dblclick",o(e.dblclick,this)),t(document).on(P,e.onCropMove=o(e.cropMove,this)).on(E,e.onCropEnd=o(e.cropEnd,this)),n.responsive&&t(window).on("resize",e.onResize=o(e.resize,this))},unbind:function(){var e=this,n=e.options,i=e.$element,o=e.$cropper;t.isFunction(n.cropstart)&&i.off("cropstart",n.cropstart),t.isFunction(n.cropmove)&&i.off("cropmove",n.cropmove),t.isFunction(n.cropend)&&i.off("cropend",n.cropend),t.isFunction(n.crop)&&i.off("crop",n.crop),t.isFunction(n.zoom)&&i.off("zoom",n.zoom),o.off(k,e.cropStart),n.zoomable&&n.zoomOnWheel&&o.off("wheel mousewheel DOMMouseScroll",e.wheel),n.toggleDragModeOnDblclick&&o.off("dblclick",e.dblclick),t(document).off(P,e.onCropMove).off(E,e.onCropEnd),n.responsive&&t(window).off("resize",e.onResize)}},I=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,z={resize:function(){var e=this,n=e.options,i=e.$container,o=e.container,r=Number(n.minContainerWidth)||200,a=Number(n.minContainerHeight)||100;if(!e.disabled&&o.width!==r&&o.height!==a){var s=i.width()/o.width;1===s&&i.height()===o.height||function(){var i=void 0,o=void 0;n.restore&&(i=e.getCanvasData(),o=e.getCropBoxData()),e.render(),n.restore&&(e.setCanvasData(t.each(i,function(t,e){i[t]=e*s})),e.setCropBoxData(t.each(o,function(t,e){o[t]=e*s})))}()}},dblclick:function(){var t=this;t.disabled||"none"===t.options.dragMode||t.setDragMode(t.$dragBox.hasClass("cropper-crop")?"move":"crop")},wheel:function(t){var e=this,n=t.originalEvent||t,i=Number(e.options.wheelZoomRatio)||.1;if(!e.disabled&&(t.preventDefault(),!e.wheeling)){e.wheeling=!0,setTimeout(function(){e.wheeling=!1},50);var o=1;n.deltaY?o=n.deltaY>0?1:-1:n.wheelDelta?o=-n.wheelDelta/120:n.detail&&(o=n.detail>0?1:-1),e.zoom(-o*i,t)}},cropStart:function(e){var n=this;if(!n.disabled){var i=n.options,o=n.pointers,a=e.originalEvent,s=void 0;a&&a.changedTouches?t.each(a.changedTouches,function(t,e){o[e.identifier]=g(e)}):o[a&&a.pointerId||0]=g(a||e),s=r(o).length>1&&i.zoomable&&i.zoomOnTouch?"zoom":t(e.target).data("action"),I.test(s)&&(n.trigger("cropstart",{originalEvent:a,action:s}).isDefaultPrevented()||(e.preventDefault(),n.action=s,n.cropping=!1,"crop"===s&&(n.cropping=!0,n.$dragBox.addClass("cropper-modal"))))}},cropMove:function(e){var n=this,i=n.action;if(!n.disabled&&i){var o=n.pointers,r=e.originalEvent;e.preventDefault(),n.trigger("cropmove",{originalEvent:r,action:i}).isDefaultPrevented()||(r&&r.changedTouches?t.each(r.changedTouches,function(e,n){t.extend(o[n.identifier],g(n,!0))}):t.extend(o[r&&r.pointerId||0],g(r||e,!0)),n.change(e))}},cropEnd:function(e){var n=this;if(!n.disabled){var i=n.action,o=n.pointers,a=e.originalEvent;a&&a.changedTouches?t.each(a.changedTouches,function(t,e){delete o[e.identifier]}):delete o[a&&a.pointerId||0],i&&(e.preventDefault(),r(o).length||(n.action=""),n.cropping&&(n.cropping=!1,n.$dragBox.toggleClass("cropper-modal",n.cropped&&n.options.modal)),n.trigger("cropend",{originalEvent:a,action:i}))}}},B={change:function(e){var n=this,i=n.options,o=n.pointers,a=o[r(o)[0]],s=n.container,l=n.canvas,c=n.cropBox,u=n.action,h=i.aspectRatio,d=c.width,p=c.height,f=c.left,m=c.top,g=f+d,v=m+p,y=0,w=0,x=s.width,b=s.height,C=!0,L=void 0;!h&&e.shiftKey&&(h=d&&p?d/p:1),n.limited&&(y=c.minLeft,w=c.minTop,x=y+Math.min(s.width,l.width,l.left+l.width),b=w+Math.min(s.height,l.height,l.top+l.height));var T={x:a.endX-a.startX,y:a.endY-a.startY};switch(h&&(T.X=T.y*h,T.Y=T.x/h),u){case"all":f+=T.x,m+=T.y;break;case"e":if(T.x>=0&&(g>=x||h&&(m<=w||v>=b))){C=!1;break}d+=T.x,h&&(p=d/h,m-=T.Y/2),d<0&&(u="w",d=0);break;case"n":if(T.y<=0&&(m<=w||h&&(f<=y||g>=x))){C=!1;break}p-=T.y,m+=T.y,h&&(d=p*h,f+=T.X/2),p<0&&(u="s",p=0);break;case"w":if(T.x<=0&&(f<=y||h&&(m<=w||v>=b))){C=!1;break}d-=T.x,f+=T.x,h&&(p=d/h,m+=T.Y/2),d<0&&(u="e",d=0);break;case"s":if(T.y>=0&&(v>=b||h&&(f<=y||g>=x))){C=!1;break}p+=T.y,h&&(d=p*h,f-=T.X/2),p<0&&(u="n",p=0);break;case"ne":if(h){if(T.y<=0&&(m<=w||g>=x)){C=!1;break}p-=T.y,m+=T.y,d=p*h}else T.x>=0?g<x?d+=T.x:T.y<=0&&m<=w&&(C=!1):d+=T.x,T.y<=0?m>w&&(p-=T.y,m+=T.y):(p-=T.y,m+=T.y);d<0&&p<0?(u="sw",p=0,d=0):d<0?(u="nw",d=0):p<0&&(u="se",p=0);break;case"nw":if(h){if(T.y<=0&&(m<=w||f<=y)){C=!1;break}p-=T.y,m+=T.y,d=p*h,f+=T.X}else T.x<=0?f>y?(d-=T.x,f+=T.x):T.y<=0&&m<=w&&(C=!1):(d-=T.x,f+=T.x),T.y<=0?m>w&&(p-=T.y,m+=T.y):(p-=T.y,m+=T.y);d<0&&p<0?(u="se",p=0,d=0):d<0?(u="ne",d=0):p<0&&(u="sw",p=0);break;case"sw":if(h){if(T.x<=0&&(f<=y||v>=b)){C=!1;break}d-=T.x,f+=T.x,p=d/h}else T.x<=0?f>y?(d-=T.x,f+=T.x):T.y>=0&&v>=b&&(C=!1):(d-=T.x,f+=T.x),T.y>=0?v<b&&(p+=T.y):p+=T.y;d<0&&p<0?(u="ne",p=0,d=0):d<0?(u="se",d=0):p<0&&(u="nw",p=0);break;case"se":if(h){if(T.x>=0&&(g>=x||v>=b)){C=!1;break}d+=T.x,p=d/h}else T.x>=0?g<x?d+=T.x:T.y>=0&&v>=b&&(C=!1):d+=T.x,T.y>=0?v<b&&(p+=T.y):p+=T.y;d<0&&p<0?(u="nw",p=0,d=0):d<0?(u="sw",d=0):p<0&&(u="ne",p=0);break;case"move":n.move(T.x,T.y),C=!1;break;case"zoom":n.zoom(_(o),e.originalEvent),C=!1;break;case"crop":if(!T.x||!T.y){C=!1;break}L=n.$cropper.offset(),f=a.startX-L.left,m=a.startY-L.top,d=c.minWidth,p=c.minHeight,T.x>0?u=T.y>0?"se":"ne":T.x<0&&(f-=d,u=T.y>0?"sw":"nw"),T.y<0&&(m-=p),n.cropped||(n.$cropBox.removeClass("cropper-hidden"),n.cropped=!0,n.limited&&n.limitCropBox(!0,!0))}C&&(c.width=d,c.height=p,c.left=f,c.top=m,n.action=u,n.renderCropBox()),t.each(o,function(t,e){e.startX=e.endX,e.startY=e.endY})}},O=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},D=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),R=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},j={crop:function(){var t=this;t.ready&&!t.disabled&&(t.cropped||(t.cropped=!0,t.limitCropBox(!0,!0),t.options.modal&&t.$dragBox.addClass("cropper-modal"),t.$cropBox.removeClass("cropper-hidden")),t.setCropBoxData(t.initialCropBox))},reset:function(){var e=this;e.ready&&!e.disabled&&(e.image=t.extend({},e.initialImage),e.canvas=t.extend({},e.initialCanvas),e.cropBox=t.extend({},e.initialCropBox),e.renderCanvas(),e.cropped&&e.renderCropBox())},clear:function(){var e=this;e.cropped&&!e.disabled&&(t.extend(e.cropBox,{left:0,top:0,width:0,height:0}),e.cropped=!1,e.renderCropBox(),e.limitCanvas(!0,!0),e.renderCanvas(),e.$dragBox.removeClass("cropper-modal"),e.$cropBox.addClass("cropper-hidden"))},replace:function(t,e){var n=this;!n.disabled&&t&&(n.isImg&&n.$element.attr("src",t),e?(n.url=t,n.$clone.attr("src",t),n.ready&&n.$preview.find("img").add(n.$clone2).attr("src",t)):(n.isImg&&(n.replaced=!0),n.options.data=null,n.load(t)))},enable:function(){var t=this;t.ready&&(t.disabled=!1,t.$cropper.removeClass("cropper-disabled"))},disable:function(){var t=this;t.ready&&(t.disabled=!0,t.$cropper.addClass("cropper-disabled"))},destroy:function(){var t=this,e=t.$element;t.loaded?(t.isImg&&t.replaced&&e.attr("src",t.originalUrl),t.unbuild(),e.removeClass("cropper-hidden")):t.isImg?e.off("load",t.start):t.$clone&&t.$clone.remove(),e.removeData("cropper")},move:function(t,e){var i=this,o=i.canvas;i.moveTo(n(t)?t:o.left+Number(t),n(e)?e:o.top+Number(e))},moveTo:function(t,i){var o=this,r=o.canvas,a=!1;n(i)&&(i=t),t=Number(t),i=Number(i),o.ready&&!o.disabled&&o.options.movable&&(e(t)&&(r.left=t,a=!0),e(i)&&(r.top=i,a=!0),a&&o.renderCanvas(!0))},zoom:function(t,e){var n=this,i=n.canvas;t=Number(t),t=t<0?1/(1-t):1+t,n.zoomTo(i.width*t/i.naturalWidth,e)},zoomTo:function(t,e){var n=this,i=n.options,o=n.pointers,a=n.canvas,s=a.width,l=a.height,c=a.naturalWidth,u=a.naturalHeight;if((t=Number(t))>=0&&n.ready&&!n.disabled&&i.zoomable){var h=c*t,d=u*t,p=void 0;if(e&&(p=e.originalEvent),n.trigger("zoom",{originalEvent:p,oldRatio:s/c,ratio:h/c}).isDefaultPrevented())return;if(p){var f=n.$cropper.offset(),m=o&&r(o).length?v(o):{pageX:e.pageX||p.pageX||0,pageY:e.pageY||p.pageY||0};a.left-=(h-s)*((m.pageX-f.left-a.left)/s),a.top-=(d-l)*((m.pageY-f.top-a.top)/l)}else a.left-=(h-s)/2,a.top-=(d-l)/2;a.width=h,a.height=d,n.renderCanvas(!0)}},rotate:function(t){var e=this;e.rotateTo((e.image.rotate||0)+Number(t))},rotateTo:function(t){var n=this;t=Number(t),e(t)&&n.ready&&!n.disabled&&n.options.rotatable&&(n.image.rotate=t%360,n.rotated=!0,n.renderCanvas(!0))},scale:function(t,i){var o=this,r=o.image,a=!1;n(i)&&(i=t),t=Number(t),i=Number(i),o.ready&&!o.disabled&&o.options.scalable&&(e(t)&&(r.scaleX=t,a=!0),e(i)&&(r.scaleY=i,a=!0),a&&o.renderImage(!0))},scaleX:function(t){var n=this,i=n.image.scaleY;n.scale(t,e(i)?i:1)},scaleY:function(t){var n=this,i=n.image.scaleX;n.scale(e(i)?i:1,t)},getData:function(e){var n=this,i=n.options,o=n.image,r=n.canvas,a=n.cropBox,s=void 0,l=void 0;return n.ready&&n.cropped?(l={x:a.left-r.left,y:a.top-r.top,width:a.width,height:a.height},s=o.width/o.naturalWidth,t.each(l,function(t,n){n/=s,l[t]=e?Math.round(n):n})):l={x:0,y:0,width:0,height:0},i.rotatable&&(l.rotate=o.rotate||0),i.scalable&&(l.scaleX=o.scaleX||1,l.scaleY=o.scaleY||1),l},setData:function(n){var i=this,o=i.options,r=i.image,a=i.canvas,s={},l=void 0,c=void 0,u=void 0;t.isFunction(n)&&(n=n.call(i.element)),i.ready&&!i.disabled&&t.isPlainObject(n)&&(o.rotatable&&e(n.rotate)&&n.rotate!==r.rotate&&(r.rotate=n.rotate,i.rotated=l=!0),o.scalable&&(e(n.scaleX)&&n.scaleX!==r.scaleX&&(r.scaleX=n.scaleX,c=!0),e(n.scaleY)&&n.scaleY!==r.scaleY&&(r.scaleY=n.scaleY,c=!0)),l?i.renderCanvas():c&&i.renderImage(),u=r.width/r.naturalWidth,e(n.x)&&(s.left=n.x*u+a.left),e(n.y)&&(s.top=n.y*u+a.top),e(n.width)&&(s.width=n.width*u),e(n.height)&&(s.height=n.height*u),i.setCropBoxData(s))},getContainerData:function(){return this.ready?this.container:{}},getImageData:function(){return this.loaded?this.image:{}},getCanvasData:function(){var e=this,n=e.canvas,i={};return e.ready&&t.each(["left","top","width","height","naturalWidth","naturalHeight"],function(t,e){i[e]=n[e]}),i},setCanvasData:function(n){var i=this,o=i.canvas,r=o.aspectRatio;t.isFunction(n)&&(n=n.call(i.$element)),i.ready&&!i.disabled&&t.isPlainObject(n)&&(e(n.left)&&(o.left=n.left),e(n.top)&&(o.top=n.top),e(n.width)?(o.width=n.width,o.height=n.width/r):e(n.height)&&(o.height=n.height,o.width=n.height*r),i.renderCanvas(!0))},getCropBoxData:function(){var t=this,e=t.cropBox;return t.ready&&t.cropped?{left:e.left,top:e.top,width:e.width,height:e.height}:{}},setCropBoxData:function(n){var i=this,o=i.cropBox,r=i.options.aspectRatio,a=void 0,s=void 0;t.isFunction(n)&&(n=n.call(i.$element)),i.ready&&i.cropped&&!i.disabled&&t.isPlainObject(n)&&(e(n.left)&&(o.left=n.left),e(n.top)&&(o.top=n.top),e(n.width)&&n.width!==o.width&&(a=!0,o.width=n.width),e(n.height)&&n.height!==o.height&&(s=!0,o.height=n.height),r&&(a?o.height=o.width/r:s&&(o.width=o.height*r)),i.renderCropBox())},getCroppedCanvas:function(e){var n=this;if(!n.ready||!window.HTMLCanvasElement)return null;if(t.isPlainObject(e)||(e={}),!n.cropped)return h(n.$clone[0],n.image,e);var i=n.getData(),o=i.width,r=i.height,a=o/r,s=void 0,l=void 0,c=void 0;t.isPlainObject(e)&&(s=e.width,l=e.height,s?(l=s/a,c=s/o):l&&(s=l*a,c=l/r));var u=Math.floor(s||o),d=Math.floor(l||r),p=t("<canvas>")[0],f=p.getContext("2d");p.width=u,p.height=d,e.fillColor&&(f.fillStyle=e.fillColor,f.fillRect(0,0,u,d));var m=function(){var t=h(n.$clone[0],n.image,e),a=t.width,s=t.height,l=n.canvas,u=[t],d=i.x+l.naturalWidth*(Math.abs(i.scaleX||1)-1)/2,p=i.y+l.naturalHeight*(Math.abs(i.scaleY||1)-1)/2,f=void 0,m=void 0,g=void 0,_=void 0,v=void 0,y=void 0;return d<=-o||d>a?d=f=g=v=0:d<=0?(g=-d,d=0,f=v=Math.min(a,o+d)):d<=a&&(g=0,f=v=Math.min(o,a-d)),f<=0||p<=-r||p>s?p=m=_=y=0:p<=0?(_=-p,p=0,m=y=Math.min(s,r+p)):p<=s&&(_=0,m=y=Math.min(r,s-p)),u.push(Math.floor(d),Math.floor(p),Math.floor(f),Math.floor(m)),c&&(g*=c,_*=c,v*=c,y*=c),v>0&&y>0&&u.push(Math.floor(g),Math.floor(_),Math.floor(v),Math.floor(y)),u}();return f.imageSmoothingEnabled=!!e.imageSmoothingEnabled,e.imageSmoothingQuality&&(f.imageSmoothingQuality=e.imageSmoothingQuality),f.drawImage.apply(f,R(m)),p},setAspectRatio:function(t){var e=this,i=e.options;e.disabled||n(t)||(i.aspectRatio=Math.max(0,t)||NaN,e.ready&&(e.initCropBox(),e.cropped&&e.renderCropBox()))},setDragMode:function(t){var e=this,n=e.options,i=void 0,o=void 0;e.loaded&&!e.disabled&&(i="crop"===t,o=n.movable&&"move"===t,t=i||o?t:"none",e.$dragBox.data("action",t).toggleClass("cropper-crop",i).toggleClass("cropper-move",o),n.cropBoxMovable||e.$face.data("action",t).toggleClass("cropper-crop",i).toggleClass("cropper-move",o))}},N=/^data:/,Z=/^data:image\/jpeg;base64,/,H=function(){function e(n,i){O(this,e);var o=this;o.$element=t(n),o.options=t.extend({},y,t.isPlainObject(i)&&i),o.loaded=!1,o.ready=!1,o.completed=!1,o.rotated=!1,o.cropped=!1,o.disabled=!1,o.replaced=!1,o.limited=!1,o.wheeling=!1,o.isImg=!1,o.originalUrl="",o.canvas=null,o.cropBox=null,o.pointers={},o.init()}return D(e,[{key:"init",value:function(){var t=this,e=t.$element,n=void 0;if(e.is("img")){if(t.isImg=!0,t.originalUrl=n=e.attr("src"),!n)return;n=e.prop("src")}else e.is("canvas")&&window.HTMLCanvasElement&&(n=e[0].toDataURL());t.load(n)}},{key:"trigger",value:function(e,n){var i=t.Event(e,n);return this.$element.trigger(i),i}},{key:"load",value:function(e){var n=this,i=n.options,o=n.$element;if(e){if(n.url=e,n.image={},!i.checkOrientation||!window.ArrayBuffer)return void n.clone();if(N.test(e))return void(Z.test(e)?n.read(f(e)):n.clone());var r=new XMLHttpRequest;r.onerror=r.onabort=t.proxy(function(){n.clone()},this),r.onload=function(){n.read(this.response)},
i.checkCrossOrigin&&a(e)&&o.prop("crossOrigin")&&(e=s(e)),r.open("get",e),r.responseType="arraybuffer",r.withCredentials="use-credentials"===o.prop("crossOrigin"),r.send()}}},{key:"read",value:function(t){var e=this,n=e.options,i=p(t),o=e.image,r=0,a=1,s=1;if(i>1)switch(e.url=m(t),i){case 2:a=-1;break;case 3:r=-180;break;case 4:s=-1;break;case 5:r=90,s=-1;break;case 6:r=90;break;case 7:r=90,a=-1;break;case 8:r=-90}n.rotatable&&(o.rotate=r),n.scalable&&(o.scaleX=a,o.scaleY=s),e.clone()}},{key:"clone",value:function(){var e=this,n=e.options,i=e.$element,o=e.url,r="",l=void 0;n.checkCrossOrigin&&a(o)&&(r=i.prop("crossOrigin"),r?l=o:(r="anonymous",l=s(o))),e.crossOrigin=r,e.crossOriginUrl=l;var c=document.createElement("img");r&&(c.crossOrigin=r),c.src=l||o;var u=t(c);e.$clone=u,e.isImg?i[0].complete?e.start():i.one("load",t.proxy(e.start,this)):u.one("load",t.proxy(e.start,this)).one("error",t.proxy(e.stop,this)).addClass("cropper-hide").insertAfter(i)}},{key:"start",value:function(){var e=this,n=e.$clone,i=e.$element;e.isImg||(n.off("error",e.stop),i=n),l(i[0],function(n,i){t.extend(e.image,{naturalWidth:n,naturalHeight:i,aspectRatio:n/i}),e.loaded=!0,e.build()})}},{key:"stop",value:function(){var t=this;t.$clone.remove(),t.$clone=null}},{key:"build",value:function(){var e=this,n=e.options,i=e.$element,o=e.$clone,r=void 0,a=void 0,s=void 0;e.loaded&&(e.ready&&e.unbuild(),e.$container=i.parent(),e.$cropper=r=t('<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>'),e.$canvas=r.find(".cropper-canvas").append(o),e.$dragBox=r.find(".cropper-drag-box"),e.$cropBox=a=r.find(".cropper-crop-box"),e.$viewBox=r.find(".cropper-view-box"),e.$face=s=a.find(".cropper-face"),i.addClass("cropper-hidden").after(r),e.isImg||o.removeClass("cropper-hide"),e.initPreview(),e.bind(),n.aspectRatio=Math.max(0,n.aspectRatio)||NaN,n.viewMode=Math.max(0,Math.min(3,Math.round(n.viewMode)))||0,e.cropped=n.autoCrop,n.autoCrop?n.modal&&e.$dragBox.addClass("cropper-modal"):a.addClass("cropper-hidden"),n.guides||a.find(".cropper-dashed").addClass("cropper-hidden"),n.center||a.find(".cropper-center").addClass("cropper-hidden"),n.cropBoxMovable&&s.addClass("cropper-move").data("action","all"),n.highlight||s.addClass("cropper-invisible"),n.background&&r.addClass("cropper-bg"),n.cropBoxResizable||a.find(".cropper-line, .cropper-point").addClass("cropper-hidden"),e.setDragMode(n.dragMode),e.render(),e.ready=!0,e.setData(n.data),e.completing=setTimeout(function(){t.isFunction(n.ready)&&i.one("ready",n.ready),e.trigger("ready"),e.trigger("crop",e.getData()),e.completed=!0},0))}},{key:"unbuild",value:function(){var t=this;t.ready&&(t.completed||clearTimeout(t.completing),t.ready=!1,t.completed=!1,t.initialImage=null,t.initialCanvas=null,t.initialCropBox=null,t.container=null,t.canvas=null,t.cropBox=null,t.unbind(),t.resetPreview(),t.$preview=null,t.$viewBox=null,t.$cropBox=null,t.$dragBox=null,t.$canvas=null,t.$container=null,t.$cropper.remove(),t.$cropper=null)}}],[{key:"setDefaults",value:function(e){t.extend(y,t.isPlainObject(e)&&e)}}]),e}();t.extend(H.prototype,T),t.extend(H.prototype,S),t.extend(H.prototype,A),t.extend(H.prototype,z),t.extend(H.prototype,B),t.extend(H.prototype,j);var W=t.fn.cropper;t.fn.cropper=function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var r=void 0;return this.each(function(n,o){var a=t(o),s=a.data("cropper");if(!s){if(/destroy/.test(e))return;var l=t.extend({},a.data(),t.isPlainObject(e)&&e);a.data("cropper",s=new H(o,l))}if("string"==typeof e){var c=s[e];t.isFunction(c)&&(r=c.apply(s,i))}}),void 0!==r?r:this},t.fn.cropper.Constructor=H,t.fn.cropper.setDefaults=H.setDefaults,t.fn.cropper.noConflict=function(){return t.fn.cropper=W,this}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t.Vimeo=t.Vimeo||{},t.Vimeo.Player=e())}(this,function(){"use strict";function t(t,e){return e={exports:{}},t(e,e.exports),e.exports}function e(t,e,n){var i=b.get(t.element)||{};e in i||(i[e]=[]),i[e].push(n),b.set(t.element,i)}function n(t,e){return(b.get(t.element)||{})[e]||[]}function i(t,e,n){var i=b.get(t.element)||{};if(!i[e])return!0;if(!n)return i[e]=[],b.set(t.element,i),!0;var o=i[e].indexOf(n);return-1!==o&&i[e].splice(o,1),b.set(t.element,i),i[e]&&0===i[e].length}function o(t,e){var o=n(t,e);if(o.length<1)return!1;var r=o.shift();return i(t,e,r),r}function r(t,e){var n=b.get(t);b.set(e,n),b.delete(t)}function a(t,e){return 0===t.indexOf(e.toLowerCase())?t:""+e.toLowerCase()+t.substr(0,1).toUpperCase()+t.substr(1)}function s(t){return t instanceof window.HTMLElement}function l(t){return!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t}function c(t){return/^(https?:)?\/\/((player|www).)?vimeo.com(?=$|\/)/.test(t)}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,n=t.url,i=e||n;if(!i)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(l(i))return"https://vimeo.com/"+i;if(c(i))return i.replace("http:","https:");if(e)throw new TypeError(""+e+" is not a valid video id.");throw new TypeError(""+i+" is not a vimeo.com url.")}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return C.reduce(function(e,n){var i=t.getAttribute("data-vimeo-"+n);return(i||""===i)&&(e[n]=""===i?1:i),e},e)}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,i){if(!c(t))throw new TypeError(""+t+" is not a vimeo.com url.");var o="https://vimeo.com/api/oembed.json?url="+encodeURIComponent(t);for(var r in e)e.hasOwnProperty(r)&&(o+="&"+r+"="+encodeURIComponent(e[r]));var a="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;a.open("GET",o,!0),a.onload=function(){if(404===a.status)return void i(new Error(""+t+" was not found."));if(403===a.status)return void i(new Error(""+t+" is not embeddable."));try{var e=JSON.parse(a.responseText);n(e)}catch(t){i(t)}},a.onerror=function(){var t=a.status?" ("+a.status+")":"";i(new Error("There was an error fetching the embed code from Vimeo"+t+"."))},a.send()})}function p(t,e){var n=t.html;if(!e)throw new TypeError("An element must be provided");if(null!==e.getAttribute("data-vimeo-initialized"))return e.querySelector("iframe");var i=document.createElement("div");return i.innerHTML=n,e.appendChild(i.firstChild),e.setAttribute("data-vimeo-initialized","true"),e.querySelector("iframe")}function f(t){return"string"==typeof t&&(t=JSON.parse(t)),t}function m(t,e,n){if(t.element.contentWindow&&t.element.contentWindow.postMessage){var i={method:e};void 0!==n&&(i.value=n);var o=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));o>=8&&o<10&&(i=JSON.stringify(i)),t.element.contentWindow.postMessage(i,t.origin)}}function g(t,e){e=f(e);var r=[],a=void 0;if(e.event){if("error"===e.event){n(t,e.data.method).forEach(function(n){var o=new Error(e.data.message);o.name=e.data.name,n.reject(o),i(t,e.data.method,n)})}r=n(t,"event:"+e.event),a=e.data}else if(e.method){var s=o(t,e.method);s&&(r.push(s),a=e.value)}r.forEach(function(e){try{if("function"==typeof e)return void e.call(t,a);e.resolve(a)}catch(t){}})}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var v=void 0!==Array.prototype.indexOf,y=void 0!==window.postMessage;if(!v||!y)throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var w="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},x=(t(function(t,e){!function(t){function e(t,e){function i(t){if(!this||this.constructor!==i)return new i(t);this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,t&&n.call(this,t)}return e||y(t,"size",{get:g}),t.constructor=i,i.prototype=t,i}function n(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}function i(t){return this.has(t)&&(this._keys.splice(v,1),this._values.splice(v,1),this._itp.forEach(function(t){v<t[0]&&t[0]--})),-1<v}function o(t){return this.has(t)?this._values[v]:void 0}function r(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!=e||0===e)for(v=t.length;v--&&!w(t[v],e););else v=t.indexOf(e);return-1<v}function a(t){return r.call(this,this._values,t)}function s(t){return r.call(this,this._keys,t)}function l(t,e){return this.has(t)?this._values[v]=e:this._values[this._keys.push(t)-1]=e,this}function c(t){return this.has(t)||this._values.push(t),this}function u(){(this._keys||0).length=this._values.length=0}function h(){return m(this._itp,this._keys)}function d(){return m(this._itp,this._values)}function p(){return m(this._itp,this._keys,this._values)}function f(){return m(this._itp,this._values,this._values)}function m(t,e,n){var i=[0],o=!1;return t.push(i),{next:function(){var r,a=i[0];return!o&&a<e.length?(r=n?[e[a],n[a]]:e[a],i[0]++):(o=!0,t.splice(t.indexOf(i),1)),{done:o,value:r}}}}function g(){return this._values.length}function _(t,e){for(var n=this.entries();;){var i=n.next();if(i.done)break;t.call(e,i.value[1],i.value[0],this)}}var v,y=Object.defineProperty,w=function(t,e){return t===e||t!==t&&e!==e};"undefined"==typeof WeakMap&&(t.WeakMap=e({delete:i,clear:u,get:o,has:s,set:l},!0)),"undefined"!=typeof Map&&"function"==typeof(new Map).values&&(new Map).values().next||(t.Map=e({delete:i,has:s,get:o,set:l,keys:h,values:d,entries:p,forEach:_,clear:u})),"undefined"!=typeof Set&&"function"==typeof(new Set).values&&(new Set).values().next||(t.Set=e({has:a,add:c,delete:i,clear:u,keys:d,values:d,entries:f,forEach:_})),"undefined"==typeof WeakSet&&(t.WeakSet=e({delete:i,add:c,clear:u,has:a},!0))}(void 0!==w?w:window)}),t(function(t){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(e,n,i){n[e]=n[e]||i(),t.exports&&(t.exports=n[e])}("Promise",w,function(){function t(t,e){p.add(t,e),d||(d=m(p.drain))}function n(t){var n,i=void 0===t?"undefined":e(t);return null==t||"object"!=i&&"function"!=i||(n=t.then),"function"==typeof n&&n}function i(){for(var t=0;t<this.chain.length;t++)o(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function o(t,e,i){var o,r;try{!1===e?i.reject(t.msg):(o=!0===e?t.msg:e.call(void 0,t.msg),o===i.promise?i.reject(TypeError("Promise-chain cycle")):(r=n(o))?r.call(o,i.resolve,i.reject):i.resolve(o))}catch(t){i.reject(t)}}function r(e){var o,s=this;if(!s.triggered){s.triggered=!0,s.def&&(s=s.def);try{(o=n(e))?t(function(){var t=new l(s);try{o.call(e,function(){r.apply(t,arguments)},function(){a.apply(t,arguments)})}catch(e){a.call(t,e)}}):(s.msg=e,s.state=1,s.chain.length>0&&t(i,s))}catch(t){a.call(new l(s),t)}}}function a(e){var n=this;n.triggered||(n.triggered=!0,n.def&&(n=n.def),n.msg=e,n.state=2,n.chain.length>0&&t(i,n))}function s(t,e,n,i){for(var o=0;o<e.length;o++)!function(o){t.resolve(e[o]).then(function(t){n(o,t)},i)}(o)}function l(t){this.def=t,this.triggered=!1}function c(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function u(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var n=new c(this);this.then=function(e,o){var r={success:"function"!=typeof e||e,failure:"function"==typeof o&&o};return r.promise=new this.constructor(function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");r.resolve=t,r.reject=e}),n.chain.push(r),0!==n.state&&t(i,n),r.promise},this.catch=function(t){return this.then(void 0,t)};try{e.call(void 0,function(t){r.call(n,t)},function(t){a.call(n,t)})}catch(t){a.call(n,t)}}var h,d,p,f=Object.prototype.toString,m="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),h=function(t,e,n,i){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:!1!==i})}}catch(t){h=function(t,e,n){return t[e]=n,t}}p=function(){function t(t,e){this.fn=t,this.self=e,this.next=void 0}var e,n,i;return{add:function(o,r){i=new t(o,r),n?n.next=i:e=i,n=i,i=void 0},drain:function(){var t=e;for(e=n=d=void 0;t;)t.fn.call(t.self),t=t.next}}}();var g=h({},"constructor",u,!1);return u.prototype=g,h(g,"__NPO__",0,!1),h(u,"resolve",function(t){var n=this;return t&&"object"==(void 0===t?"undefined":e(t))&&1===t.__NPO__?t:new n(function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");e(t)})}),h(u,"reject",function(t){return new this(function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");n(t)})}),h(u,"all",function(t){var e=this;return"[object Array]"!=f.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e(function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");var o=t.length,r=Array(o),a=0;s(e,t,function(t,e){r[t]=e,++a===o&&n(r)},i)})}),h(u,"race",function(t){var e=this;return"[object Array]"!=f.call(t)?e.reject(TypeError("Not an array")):new e(function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");s(e,t,function(t,e){n(e)},i)})}),u})})),b=new WeakMap,C=["id","url","width","maxwidth","height","maxheight","portrait","title","byline","color","autoplay","autopause","loop","responsive"],L=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),T=new WeakMap,S=new WeakMap,M=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_(this,t),window.jQuery&&e instanceof jQuery&&(e.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),e=e[0]),"string"==typeof e&&(e=document.getElementById(e)),!s(e))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==e.nodeName){var o=e.querySelector("iframe");o&&(e=o)}if("IFRAME"===e.nodeName&&!c(e.getAttribute("src")||""))throw new Error("The player element passed isnt a Vimeo embed.");if(T.has(e))return T.get(e);this.element=e,this.origin="*";var a=new x(function(t,o){var a=function(e){if(c(e.origin)&&n.element.contentWindow===e.source){"*"===n.origin&&(n.origin=e.origin);var i=f(e.data),o="event"in i&&"ready"===i.event,r="method"in i&&"ping"===i.method;if(o||r)return n.element.setAttribute("data-ready","true"),void t();g(n,i)}};if(window.addEventListener?window.addEventListener("message",a,!1):window.attachEvent&&window.attachEvent("onmessage",a),"IFRAME"!==n.element.nodeName){var s=h(e,i);d(u(s),s).then(function(t){var i=p(t,e);return n.element=i,r(e,i),T.set(n.element,n),t}).catch(function(t){return o(t)})}});return S.set(this,a),T.set(this.element,this),"IFRAME"===this.element.nodeName&&m(this,"ping"),this}return L(t,[{key:"callMethod",value:function(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new x(function(o,r){return n.ready().then(function(){e(n,t,{resolve:o,reject:r}),m(n,t,i)})})}},{key:"get",value:function(t){var n=this;return new x(function(i,o){return t=a(t,"get"),n.ready().then(function(){e(n,t,{resolve:i,reject:o}),m(n,t)})})}},{key:"set",value:function(t,n){var i=this;return x.resolve(n).then(function(n){if(t=a(t,"set"),void 0===n||null===n)throw new TypeError("There must be a value to set.");return i.ready().then(function(){return new x(function(o,r){e(i,t,{resolve:o,reject:r}),m(i,t,n)})})})}},{key:"on",value:function(t,i){if(!t)throw new TypeError("You must pass an event name.");if(!i)throw new TypeError("You must pass a callback function.");if("function"!=typeof i)throw new TypeError("The callback must be a function.");0===n(this,"event:"+t).length&&this.callMethod("addEventListener",t).catch(function(){}),e(this,"event:"+t,i)}},{key:"off",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(e&&"function"!=typeof e)throw new TypeError("The callback must be a function.");i(this,"event:"+t,e)&&this.callMethod("removeEventListener",t).catch(function(t){})}},{key:"loadVideo",value:function(t){return this.callMethod("loadVideo",t)}},{key:"ready",value:function(){var t=S.get(this);return x.resolve(t)}},{key:"addCuePoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:t,data:e})}},{key:"removeCuePoint",value:function(t){return this.callMethod("removeCuePoint",t)}},{key:"enableTextTrack",value:function(t,e){if(!t)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:t,kind:e})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(t){return this.set("autopause",t)}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(t){return this.set("color",t)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(t){return this.set("currentTime",t)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(t){return this.set("loop",t)}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(t){return this.set("playbackRate",t)}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(t){return this.set("volume",t)}}]),t}();return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=[].slice.call(t.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=function(t){"console"in window&&console.error&&console.error("There was an error creating an embed: "+t)};e.forEach(function(t){try{if(null!==t.getAttribute("data-vimeo-defer"))return;var e=h(t);d(u(e),e).then(function(e){return p(e,t)}).catch(n)}catch(t){n(t)}})}(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=function(e){if(c(e.origin)&&e.data&&"spacechange"===e.data.event)for(var n=t.querySelectorAll("iframe"),i=0;i<n.length;i++)if(n[i].contentWindow===e.source){var o=n[i].parentElement;o&&-1!==o.className.indexOf("vimeo-space")&&(o.style.paddingBottom=e.data.data[0].bottom+"px");break}};window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent&&window.attachEvent("onmessage",e)}(),M}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var a=e||window.event,s=l.call(arguments,1),c=0,h=0,d=0,p=0,f=0,m=0;if(e=t.event.fix(a),e.type="mousewheel","detail"in a&&(d=-1*a.detail),"wheelDelta"in a&&(d=a.wheelDelta),"wheelDeltaY"in a&&(d=a.wheelDeltaY),"wheelDeltaX"in a&&(h=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(h=-1*d,d=0),c=0===d?h:d,"deltaY"in a&&(d=-1*a.deltaY,c=d),"deltaX"in a&&(h=a.deltaX,0===d&&(c=-1*h)),0!==d||0!==h){if(1===a.deltaMode){var g=t.data(this,"mousewheel-line-height");c*=g,d*=g,h*=g}else if(2===a.deltaMode){var _=t.data(this,"mousewheel-page-height");c*=_,d*=_,h*=_}if(p=Math.max(Math.abs(d),Math.abs(h)),(!r||r>p)&&(r=p,i(a,p)&&(r/=40)),i(a,p)&&(c/=40,h/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/r),h=Math[h>=1?"floor":"ceil"](h/r),d=Math[d>=1?"floor":"ceil"](d/r),u.settings.normalizeOffset&&this.getBoundingClientRect){var v=this.getBoundingClientRect();f=e.clientX-v.left,m=e.clientY-v.top}return e.deltaX=h,e.deltaY=d,e.deltaFactor=r,e.offsetX=f,e.offsetY=m,e.deltaMode=0,s.unshift(e,c,h,d),o&&clearTimeout(o),o=setTimeout(n,200),(t.event.dispatch||t.event.handle).apply(this,s)}}function n(){r=null}function i(t,e){return u.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var o,r,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var c=a.length;c;)t.event.fixHooks[a[--c]]=t.event.mouseHooks;var u=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",u.getLineHeight(this)),t.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var a=e||window.event,s=l.call(arguments,1),c=0,h=0,d=0,p=0,f=0,m=0;if(e=t.event.fix(a),e.type="mousewheel","detail"in a&&(d=-1*a.detail),"wheelDelta"in a&&(d=a.wheelDelta),"wheelDeltaY"in a&&(d=a.wheelDeltaY),"wheelDeltaX"in a&&(h=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(h=-1*d,d=0),c=0===d?h:d,"deltaY"in a&&(d=-1*a.deltaY,c=d),"deltaX"in a&&(h=a.deltaX,0===d&&(c=-1*h)),0!==d||0!==h){if(1===a.deltaMode){var g=t.data(this,"mousewheel-line-height");c*=g,d*=g,h*=g}else if(2===a.deltaMode){var _=t.data(this,"mousewheel-page-height");c*=_,d*=_,h*=_}if(p=Math.max(Math.abs(d),Math.abs(h)),(!r||r>p)&&(r=p,i(a,p)&&(r/=40)),i(a,p)&&(c/=40,h/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/r),h=Math[h>=1?"floor":"ceil"](h/r),d=Math[d>=1?"floor":"ceil"](d/r),u.settings.normalizeOffset&&this.getBoundingClientRect){var v=this.getBoundingClientRect();f=e.clientX-v.left,m=e.clientY-v.top}return e.deltaX=h,e.deltaY=d,e.deltaFactor=r,e.offsetX=f,e.offsetY=m,e.deltaMode=0,s.unshift(e,c,h,d),o&&clearTimeout(o),o=setTimeout(n,200),(t.event.dispatch||t.event.handle).apply(this,s)}}function n(){r=null}function i(t,e){return u.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var o,r,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var c=a.length;c;)t.event.fixHooks[a[--c]]=t.event.mouseHooks;var u=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",u.getLineHeight(this)),t.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t:t(jQuery,window,document)}(function(t){!function(e){var n="function"==typeof define&&define.amd,i="undefined"!=typeof module&&module.exports,o="https:"==document.location.protocol?"https:":"http:";n||(i?require("jquery-mousewheel")(t):t.event.special.mousewheel||t("head").append(decodeURI("%3Cscript src="+o+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),function(){var e,n="mCustomScrollbar",i="mCS",o=".mCustomScrollbar",r={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},a=0,s={},l=window.attachEvent&&!window.addEventListener?1:0,c=!1,u=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],h={init:function(e){var e=t.extend(!0,{},r,e),n=d.call(this);if(e.live){var l=e.liveSelector||this.selector||o,c=t(l);if("off"===e.live)return void f(l);s[l]=setTimeout(function(){c.mCustomScrollbar(e),"once"===e.live&&c.length&&f(l)},500)}else f(l);return e.setWidth=e.set_width?e.set_width:e.setWidth,e.setHeight=e.set_height?e.set_height:e.setHeight,e.axis=e.horizontalScroll?"x":m(e.axis),e.scrollInertia=e.scrollInertia>0&&e.scrollInertia<17?17:e.scrollInertia,"object"!=typeof e.mouseWheel&&1==e.mouseWheel&&(e.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),e.mouseWheel.scrollAmount=e.mouseWheelPixels?e.mouseWheelPixels:e.mouseWheel.scrollAmount,e.mouseWheel.normalizeDelta=e.advanced.normalizeMouseWheelDelta?e.advanced.normalizeMouseWheelDelta:e.mouseWheel.normalizeDelta,e.scrollButtons.scrollType=g(e.scrollButtons.scrollType),p(e),t(n).each(function(){var n=t(this);if(!n.data(i)){n.data(i,{idx:++a,opt:e,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:n.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var o=n.data(i),r=o.opt,s=n.data("mcs-axis"),l=n.data("mcs-scrollbar-position"),c=n.data("mcs-theme");s&&(r.axis=s),l&&(r.scrollbarPosition=l),c&&(r.theme=c,p(r)),_.call(this),o&&r.callbacks.onCreate&&"function"==typeof r.callbacks.onCreate&&r.callbacks.onCreate.call(this),t("#mCSB_"+o.idx+"_container img:not(."+u[2]+")").addClass(u[2]),h.update.call(null,n)}})},update:function(e,n){var o=e||d.call(this);return t(o).each(function(){var e=t(this);if(e.data(i)){var o=e.data(i),r=o.opt,a=t("#mCSB_"+o.idx+"_container"),s=t("#mCSB_"+o.idx),l=[t("#mCSB_"+o.idx+"_dragger_vertical"),t("#mCSB_"+o.idx+"_dragger_horizontal")];if(!a.length)return;o.tweenRunning&&$(e),n&&o&&r.callbacks.onBeforeUpdate&&"function"==typeof r.callbacks.onBeforeUpdate&&r.callbacks.onBeforeUpdate.call(this),e.hasClass(u[3])&&e.removeClass(u[3]),e.hasClass(u[4])&&e.removeClass(u[4]),s.css("max-height","none"),s.height()!==e.height()&&s.css("max-height",e.height()),y.call(this),"y"===r.axis||r.advanced.autoExpandHorizontalScroll||a.css("width",v(a)),o.overflowed=L.call(this),k.call(this),r.autoDraggerLength&&x.call(this),b.call(this),S.call(this);var c=[Math.abs(a[0].offsetTop),Math.abs(a[0].offsetLeft)];"x"!==r.axis&&(o.overflowed[0]?l[0].height()>l[0].parent().height()?T.call(this):(V(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),o.contentReset.y=null):(T.call(this),"y"===r.axis?M.call(this):"yx"===r.axis&&o.overflowed[1]&&V(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==r.axis&&(o.overflowed[1]?l[1].width()>l[1].parent().width()?T.call(this):(V(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),o.contentReset.x=null):(T.call(this),"x"===r.axis?M.call(this):"yx"===r.axis&&o.overflowed[0]&&V(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),n&&o&&(2===n&&r.callbacks.onImageLoad&&"function"==typeof r.callbacks.onImageLoad?r.callbacks.onImageLoad.call(this):3===n&&r.callbacks.onSelectorChange&&"function"==typeof r.callbacks.onSelectorChange?r.callbacks.onSelectorChange.call(this):r.callbacks.onUpdate&&"function"==typeof r.callbacks.onUpdate&&r.callbacks.onUpdate.call(this)),G.call(this)}})},scrollTo:function(e,n){if(void 0!==e&&null!=e){var o=d.call(this);return t(o).each(function(){var o=t(this);if(o.data(i)){var r=o.data(i),a=r.opt,s={trigger:"external",scrollInertia:a.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=t.extend(!0,{},s,n),c=q.call(this,e),u=l.scrollInertia>0&&l.scrollInertia<17?17:l.scrollInertia;c[0]=U.call(this,c[0],"y"),c[1]=U.call(this,c[1],"x"),l.moveDragger&&(c[0]*=r.scrollRatio.y,c[1]*=r.scrollRatio.x),l.dur=ot()?0:u,setTimeout(function(){null!==c[0]&&void 0!==c[0]&&"x"!==a.axis&&r.overflowed[0]&&(l.dir="y",l.overwrite="all",V(o,c[0].toString(),l)),null!==c[1]&&void 0!==c[1]&&"y"!==a.axis&&r.overflowed[1]&&(l.dir="x",l.overwrite="none",V(o,c[1].toString(),l))},l.timeout)}})}},stop:function(){var e=d.call(this);return t(e).each(function(){var e=t(this);e.data(i)&&$(e)})},disable:function(e){var n=d.call(this)
;return t(n).each(function(){var n=t(this);n.data(i)&&(n.data(i),G.call(this,"remove"),M.call(this),e&&T.call(this),k.call(this,!0),n.addClass(u[3]))})},destroy:function(){var e=d.call(this);return t(e).each(function(){var o=t(this);if(o.data(i)){var r=o.data(i),a=r.opt,s=t("#mCSB_"+r.idx),l=t("#mCSB_"+r.idx+"_container"),c=t(".mCSB_"+r.idx+"_scrollbar");a.live&&f(a.liveSelector||t(e).selector),G.call(this,"remove"),M.call(this),T.call(this),o.removeData(i),J(this,"mcs"),c.remove(),l.find("img."+u[2]).removeClass(u[2]),s.replaceWith(l.contents()),o.removeClass(n+" _"+i+"_"+r.idx+" "+u[6]+" "+u[7]+" "+u[5]+" "+u[3]).addClass(u[4])}})}},d=function(){return"object"!=typeof t(this)||t(this).length<1?o:this},p=function(e){var n=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],i=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],o=["minimal","minimal-dark"],r=["minimal","minimal-dark"],a=["minimal","minimal-dark"];e.autoDraggerLength=!(t.inArray(e.theme,n)>-1)&&e.autoDraggerLength,e.autoExpandScrollbar=!(t.inArray(e.theme,i)>-1)&&e.autoExpandScrollbar,e.scrollButtons.enable=!(t.inArray(e.theme,o)>-1)&&e.scrollButtons.enable,e.autoHideScrollbar=t.inArray(e.theme,r)>-1||e.autoHideScrollbar,e.scrollbarPosition=t.inArray(e.theme,a)>-1?"outside":e.scrollbarPosition},f=function(t){s[t]&&(clearTimeout(s[t]),J(s,t))},m=function(t){return"yx"===t||"xy"===t||"auto"===t?"yx":"x"===t||"horizontal"===t?"x":"y"},g=function(t){return"stepped"===t||"pixels"===t||"step"===t||"click"===t?"stepped":"stepless"},_=function(){var e=t(this),o=e.data(i),r=o.opt,a=r.autoExpandScrollbar?" "+u[1]+"_expand":"",s=["<div id='mCSB_"+o.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+o.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_vertical"+a+"'><div class='"+u[12]+"'><div id='mCSB_"+o.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+o.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+o.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_horizontal"+a+"'><div class='"+u[12]+"'><div id='mCSB_"+o.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],l="yx"===r.axis?"mCSB_vertical_horizontal":"x"===r.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===r.axis?s[0]+s[1]:"x"===r.axis?s[1]:s[0],h="yx"===r.axis?"<div id='mCSB_"+o.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",d=r.autoHideScrollbar?" "+u[6]:"",p="x"!==r.axis&&"rtl"===o.langDir?" "+u[7]:"";r.setWidth&&e.css("width",r.setWidth),r.setHeight&&e.css("height",r.setHeight),r.setLeft="y"!==r.axis&&"rtl"===o.langDir?"989999px":r.setLeft,e.addClass(n+" _"+i+"_"+o.idx+d+p).wrapInner("<div id='mCSB_"+o.idx+"' class='mCustomScrollBox mCS-"+r.theme+" "+l+"'><div id='mCSB_"+o.idx+"_container' class='mCSB_container' style='position:relative; top:"+r.setTop+"; left:"+r.setLeft+";' dir='"+o.langDir+"' /></div>");var f=t("#mCSB_"+o.idx),m=t("#mCSB_"+o.idx+"_container");"y"===r.axis||r.advanced.autoExpandHorizontalScroll||m.css("width",v(m)),"outside"===r.scrollbarPosition?("static"===e.css("position")&&e.css("position","relative"),e.css("overflow","visible"),f.addClass("mCSB_outside").after(c)):(f.addClass("mCSB_inside").append(c),m.wrap(h)),w.call(this);var g=[t("#mCSB_"+o.idx+"_dragger_vertical"),t("#mCSB_"+o.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},v=function(e){var n=[e[0].scrollWidth,Math.max.apply(Math,e.children().map(function(){return t(this).outerWidth(!0)}).get())],i=e.parent().width();return n[0]>i?n[0]:n[1]>i?n[1]:"100%"},y=function(){var e=t(this),n=e.data(i),o=n.opt,r=t("#mCSB_"+n.idx+"_container");if(o.advanced.autoExpandHorizontalScroll&&"y"!==o.axis){r.css({width:"auto","min-width":0,"overflow-x":"scroll"});var a=Math.ceil(r[0].scrollWidth);3===o.advanced.autoExpandHorizontalScroll||2!==o.advanced.autoExpandHorizontalScroll&&a>r.parent().width()?r.css({width:a,"min-width":"100%","overflow-x":"inherit"}):r.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(r[0].getBoundingClientRect().right+.4)-Math.floor(r[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},w=function(){var e=t(this),n=e.data(i),o=n.opt,r=t(".mCSB_"+n.idx+"_scrollbar:first"),a=nt(o.scrollButtons.tabindex)?"tabindex='"+o.scrollButtons.tabindex+"'":"",s=["<a href='#' class='"+u[13]+"' "+a+" />","<a href='#' class='"+u[14]+"' "+a+" />","<a href='#' class='"+u[15]+"' "+a+" />","<a href='#' class='"+u[16]+"' "+a+" />"],l=["x"===o.axis?s[2]:s[0],"x"===o.axis?s[3]:s[1],s[2],s[3]];o.scrollButtons.enable&&r.prepend(l[0]).append(l[1]).next(".mCSB_scrollTools").prepend(l[2]).append(l[3])},x=function(){var e=t(this),n=e.data(i),o=t("#mCSB_"+n.idx),r=t("#mCSB_"+n.idx+"_container"),a=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")],s=[o.height()/r.outerHeight(!1),o.width()/r.outerWidth(!1)],c=[parseInt(a[0].css("min-height")),Math.round(s[0]*a[0].parent().height()),parseInt(a[1].css("min-width")),Math.round(s[1]*a[1].parent().width())],u=l&&c[1]<c[0]?c[0]:c[1],h=l&&c[3]<c[2]?c[2]:c[3];a[0].css({height:u,"max-height":a[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),a[1].css({width:h,"max-width":a[1].parent().width()-10})},b=function(){var e=t(this),n=e.data(i),o=t("#mCSB_"+n.idx),r=t("#mCSB_"+n.idx+"_container"),a=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")],s=[r.outerHeight(!1)-o.height(),r.outerWidth(!1)-o.width()],l=[s[0]/(a[0].parent().height()-a[0].height()),s[1]/(a[1].parent().width()-a[1].width())];n.scrollRatio={y:l[0],x:l[1]}},C=function(t,e,n){var i=n?u[0]+"_expanded":"",o=t.closest(".mCSB_scrollTools");"active"===e?(t.toggleClass(u[0]+" "+i),o.toggleClass(u[1]),t[0]._draggable=t[0]._draggable?0:1):t[0]._draggable||("hide"===e?(t.removeClass(u[0]),o.removeClass(u[1])):(t.addClass(u[0]),o.addClass(u[1])))},L=function(){var e=t(this),n=e.data(i),o=t("#mCSB_"+n.idx),r=t("#mCSB_"+n.idx+"_container"),a=null==n.overflowed?r.height():r.outerHeight(!1),s=null==n.overflowed?r.width():r.outerWidth(!1),l=r[0].scrollHeight,c=r[0].scrollWidth;return l>a&&(a=l),c>s&&(s=c),[a>o.height(),s>o.width()]},T=function(){var e=t(this),n=e.data(i),o=n.opt,r=t("#mCSB_"+n.idx),a=t("#mCSB_"+n.idx+"_container"),s=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")];if($(e),("x"!==o.axis&&!n.overflowed[0]||"y"===o.axis&&n.overflowed[0])&&(s[0].add(a).css("top",0),V(e,"_resetY")),"y"!==o.axis&&!n.overflowed[1]||"x"===o.axis&&n.overflowed[1]){var l=dx=0;"rtl"===n.langDir&&(l=r.width()-a.outerWidth(!1),dx=Math.abs(l/n.scrollRatio.x)),a.css("left",l),s[1].css("left",dx),V(e,"_resetX")}},S=function(){function e(){a=setTimeout(function(){t.event.special.mousewheel?(clearTimeout(a),z.call(n[0])):e()},100)}var n=t(this),o=n.data(i),r=o.opt;if(!o.bindEvents){if(E.call(this),r.contentTouchScroll&&A.call(this),I.call(this),r.mouseWheel.enable){var a;e()}j.call(this),Z.call(this),r.advanced.autoScrollOnFocus&&N.call(this),r.scrollButtons.enable&&H.call(this),r.keyboard.enable&&W.call(this),o.bindEvents=!0}},M=function(){var e=t(this),n=e.data(i),o=n.opt,r=i+"_"+n.idx,a=".mCSB_"+n.idx+"_scrollbar",s=t("#mCSB_"+n.idx+",#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,"+a+" ."+u[12]+",#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal,"+a+">a"),l=t("#mCSB_"+n.idx+"_container");o.advanced.releaseDraggableSelectors&&s.add(t(o.advanced.releaseDraggableSelectors)),o.advanced.extraDraggableSelectors&&s.add(t(o.advanced.extraDraggableSelectors)),n.bindEvents&&(t(document).add(t(!O()||top.document)).unbind("."+r),s.each(function(){t(this).unbind("."+r)}),clearTimeout(e[0]._focusTimeout),J(e[0],"_focusTimeout"),clearTimeout(n.sequential.step),J(n.sequential,"step"),clearTimeout(l[0].onCompleteTimeout),J(l[0],"onCompleteTimeout"),n.bindEvents=!1)},k=function(e){var n=t(this),o=n.data(i),r=o.opt,a=t("#mCSB_"+o.idx+"_container_wrapper"),s=a.length?a:t("#mCSB_"+o.idx+"_container"),l=[t("#mCSB_"+o.idx+"_scrollbar_vertical"),t("#mCSB_"+o.idx+"_scrollbar_horizontal")],c=[l[0].find(".mCSB_dragger"),l[1].find(".mCSB_dragger")];"x"!==r.axis&&(o.overflowed[0]&&!e?(l[0].add(c[0]).add(l[0].children("a")).css("display","block"),s.removeClass(u[8]+" "+u[10])):(r.alwaysShowScrollbar?(2!==r.alwaysShowScrollbar&&c[0].css("display","none"),s.removeClass(u[10])):(l[0].css("display","none"),s.addClass(u[10])),s.addClass(u[8]))),"y"!==r.axis&&(o.overflowed[1]&&!e?(l[1].add(c[1]).add(l[1].children("a")).css("display","block"),s.removeClass(u[9]+" "+u[11])):(r.alwaysShowScrollbar?(2!==r.alwaysShowScrollbar&&c[1].css("display","none"),s.removeClass(u[11])):(l[1].css("display","none"),s.addClass(u[11])),s.addClass(u[9]))),o.overflowed[0]||o.overflowed[1]?n.removeClass(u[5]):n.addClass(u[5])},P=function(e){var n=e.type,i=e.target.ownerDocument!==document&&null!==frameElement?[t(frameElement).offset().top,t(frameElement).offset().left]:null,o=O()&&e.target.ownerDocument!==top.document&&null!==frameElement?[t(e.view.frameElement).offset().top,t(e.view.frameElement).offset().left]:[0,0];switch(n){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return i?[e.originalEvent.pageY-i[0]+o[0],e.originalEvent.pageX-i[1]+o[1],!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var r=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],a=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[r.screenY,r.screenX,a>1]:[r.pageY,r.pageX,a>1];default:return i?[e.pageY-i[0]+o[0],e.pageX-i[1]+o[1],!1]:[e.pageY,e.pageX,!1]}},E=function(){function e(t,e,i,o){if(p[0].idleTimer=u.scrollInertia<233?250:0,n.attr("id")===d[1])var r="x",l=(n[0].offsetLeft-e+o)*s.scrollRatio.x;else var r="y",l=(n[0].offsetTop-t+i)*s.scrollRatio.y;V(a,l.toString(),{dir:r,drag:!0})}var n,o,r,a=t(this),s=a.data(i),u=s.opt,h=i+"_"+s.idx,d=["mCSB_"+s.idx+"_dragger_vertical","mCSB_"+s.idx+"_dragger_horizontal"],p=t("#mCSB_"+s.idx+"_container"),f=t("#"+d[0]+",#"+d[1]),m=u.advanced.releaseDraggableSelectors?f.add(t(u.advanced.releaseDraggableSelectors)):f,g=u.advanced.extraDraggableSelectors?t(!O()||top.document).add(t(u.advanced.extraDraggableSelectors)):t(!O()||top.document);f.bind("contextmenu."+h,function(t){t.preventDefault()}).bind("mousedown."+h+" touchstart."+h+" pointerdown."+h+" MSPointerDown."+h,function(e){if(e.stopImmediatePropagation(),e.preventDefault(),tt(e)){c=!0,l&&(document.onselectstart=function(){return!1}),D.call(p,!1),$(a),n=t(this);var i=n.offset(),s=P(e)[0]-i.top,h=P(e)[1]-i.left,d=n.height()+i.top,f=n.width()+i.left;d>s&&s>0&&f>h&&h>0&&(o=s,r=h),C(n,"active",u.autoExpandScrollbar)}}).bind("touchmove."+h,function(t){t.stopImmediatePropagation(),t.preventDefault();var i=n.offset(),a=P(t)[0]-i.top,s=P(t)[1]-i.left;e(o,r,a,s)}),t(document).add(g).bind("mousemove."+h+" pointermove."+h+" MSPointerMove."+h,function(t){if(n){var i=n.offset(),a=P(t)[0]-i.top,s=P(t)[1]-i.left;if(o===a&&r===s)return;e(o,r,a,s)}}).add(m).bind("mouseup."+h+" touchend."+h+" pointerup."+h+" MSPointerUp."+h,function(){n&&(C(n,"active",u.autoExpandScrollbar),n=null),c=!1,l&&(document.onselectstart=null),D.call(p,!0)})},A=function(){function n(t){if(!et(t)||c||P(t)[2])return void(e=0);e=1,b=0,C=0,u=1,L.removeClass("mCS_touch_action");var n=E.offset();h=P(t)[0]-n.top,d=P(t)[1]-n.left,R=[P(t)[0],P(t)[1]]}function o(t){if(et(t)&&!c&&!P(t)[2]&&(S.documentTouchScroll||t.preventDefault(),t.stopImmediatePropagation(),(!C||b)&&u)){g=K();var e=k.offset(),n=P(t)[0]-e.top,i=P(t)[1]-e.left,o="mcsLinearOut";if(I.push(n),z.push(i),R[2]=Math.abs(P(t)[0]-R[0]),R[3]=Math.abs(P(t)[1]-R[1]),T.overflowed[0])var r=A[0].parent().height()-A[0].height(),a=h-n>0&&n-h>-r*T.scrollRatio.y&&(2*R[3]<R[2]||"yx"===S.axis);if(T.overflowed[1])var s=A[1].parent().width()-A[1].width(),p=d-i>0&&i-d>-s*T.scrollRatio.x&&(2*R[2]<R[3]||"yx"===S.axis);a||p?(Z||t.preventDefault(),b=1):(C=1,L.addClass("mCS_touch_action")),Z&&t.preventDefault(),w="yx"===S.axis?[h-n,d-i]:"x"===S.axis?[null,d-i]:[h-n,null],E[0].idleTimer=250,T.overflowed[0]&&l(w[0],B,o,"y","all",!0),T.overflowed[1]&&l(w[1],B,o,"x",D,!0)}}function r(t){if(!et(t)||c||P(t)[2])return void(e=0);e=1,t.stopImmediatePropagation(),$(L),m=K();var n=k.offset();p=P(t)[0]-n.top,f=P(t)[1]-n.left,I=[],z=[]}function a(t){if(et(t)&&!c&&!P(t)[2]){u=0,t.stopImmediatePropagation(),b=0,C=0,_=K();var e=k.offset(),n=P(t)[0]-e.top,i=P(t)[1]-e.left;if(!(_-g>30)){y=1e3/(_-m);var o="mcsEaseOut",r=2.5>y,a=r?[I[I.length-2],z[z.length-2]]:[0,0];v=r?[n-a[0],i-a[1]]:[n-p,i-f];var h=[Math.abs(v[0]),Math.abs(v[1])];y=r?[Math.abs(v[0]/4),Math.abs(v[1]/4)]:[y,y];var d=[Math.abs(E[0].offsetTop)-v[0]*s(h[0]/y[0],y[0]),Math.abs(E[0].offsetLeft)-v[1]*s(h[1]/y[1],y[1])];w="yx"===S.axis?[d[0],d[1]]:"x"===S.axis?[null,d[1]]:[d[0],null],x=[4*h[0]+S.scrollInertia,4*h[1]+S.scrollInertia];var L=parseInt(S.contentTouchScroll)||0;w[0]=h[0]>L?w[0]:0,w[1]=h[1]>L?w[1]:0,T.overflowed[0]&&l(w[0],x[0],o,"y",D,!1),T.overflowed[1]&&l(w[1],x[1],o,"x",D,!1)}}}function s(t,e){var n=[1.5*e,2*e,e/1.5,e/2];return t>90?e>4?n[0]:n[3]:t>60?e>3?n[3]:n[2]:t>30?e>8?n[1]:e>6?n[0]:e>4?e:n[2]:e>8?e:n[3]}function l(t,e,n,i,o,r){t&&V(L,t.toString(),{dur:e,scrollEasing:n,dir:i,overwrite:o,drag:r})}var u,h,d,p,f,m,g,_,v,y,w,x,b,C,L=t(this),T=L.data(i),S=T.opt,M=i+"_"+T.idx,k=t("#mCSB_"+T.idx),E=t("#mCSB_"+T.idx+"_container"),A=[t("#mCSB_"+T.idx+"_dragger_vertical"),t("#mCSB_"+T.idx+"_dragger_horizontal")],I=[],z=[],B=0,D="yx"===S.axis?"none":"all",R=[],j=E.find("iframe"),N=["touchstart."+M+" pointerdown."+M+" MSPointerDown."+M,"touchmove."+M+" pointermove."+M+" MSPointerMove."+M,"touchend."+M+" pointerup."+M+" MSPointerUp."+M],Z=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;E.bind(N[0],function(t){n(t)}).bind(N[1],function(t){o(t)}),k.bind(N[0],function(t){r(t)}).bind(N[2],function(t){a(t)}),j.length&&j.each(function(){t(this).bind("load",function(){O(this)&&t(this.contentDocument||this.contentWindow.document).bind(N[0],function(t){n(t),r(t)}).bind(N[1],function(t){o(t)}).bind(N[2],function(t){a(t)})})})},I=function(){function n(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function o(t,e,n){u.type=n&&r?"stepped":"stepless",u.scrollAmount=10,F(a,t,e,"mcsLinearOut",n?60:null)}var r,a=t(this),s=a.data(i),l=s.opt,u=s.sequential,h=i+"_"+s.idx,d=t("#mCSB_"+s.idx+"_container"),p=d.parent();d.bind("mousedown."+h,function(){e||r||(r=1,c=!0)}).add(document).bind("mousemove."+h,function(t){if(!e&&r&&n()){var i=d.offset(),a=P(t)[0]-i.top+d[0].offsetTop,c=P(t)[1]-i.left+d[0].offsetLeft;a>0&&a<p.height()&&c>0&&c<p.width()?u.step&&o("off",null,"stepped"):("x"!==l.axis&&s.overflowed[0]&&(0>a?o("on",38):a>p.height()&&o("on",40)),"y"!==l.axis&&s.overflowed[1]&&(0>c?o("on",37):c>p.width()&&o("on",39)))}}).bind("mouseup."+h+" dragend."+h,function(){e||(r&&(r=0,o("off",null)),c=!1)})},z=function(){function e(e,i){if($(n),!R(n,e.target)){var a="auto"!==r.mouseWheel.deltaFactor?parseInt(r.mouseWheel.deltaFactor):l&&e.deltaFactor<100?100:e.deltaFactor||100,u=r.scrollInertia;if("x"===r.axis||"x"===r.mouseWheel.axis)var h="x",d=[Math.round(a*o.scrollRatio.x),parseInt(r.mouseWheel.scrollAmount)],p="auto"!==r.mouseWheel.scrollAmount?d[1]:d[0]>=s.width()?.9*s.width():d[0],f=Math.abs(t("#mCSB_"+o.idx+"_container")[0].offsetLeft),m=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),_="y"===r.mouseWheel.axis?e.deltaY||i:e.deltaX;else var h="y",d=[Math.round(a*o.scrollRatio.y),parseInt(r.mouseWheel.scrollAmount)],p="auto"!==r.mouseWheel.scrollAmount?d[1]:d[0]>=s.height()?.9*s.height():d[0],f=Math.abs(t("#mCSB_"+o.idx+"_container")[0].offsetTop),m=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),_=e.deltaY||i;"y"===h&&!o.overflowed[0]||"x"===h&&!o.overflowed[1]||((r.mouseWheel.invert||e.webkitDirectionInvertedFromDevice)&&(_=-_),r.mouseWheel.normalizeDelta&&(_=0>_?-1:1),(_>0&&0!==m||0>_&&m!==g||r.mouseWheel.preventDefault)&&(e.stopImmediatePropagation(),e.preventDefault()),e.deltaFactor<5&&!r.mouseWheel.normalizeDelta&&(p=e.deltaFactor,u=17),V(n,(f-_*p).toString(),{dir:h,dur:u}))}}if(t(this).data(i)){var n=t(this),o=n.data(i),r=o.opt,a=i+"_"+o.idx,s=t("#mCSB_"+o.idx),c=[t("#mCSB_"+o.idx+"_dragger_vertical"),t("#mCSB_"+o.idx+"_dragger_horizontal")],u=t("#mCSB_"+o.idx+"_container").find("iframe");u.length&&u.each(function(){t(this).bind("load",function(){O(this)&&t(this.contentDocument||this.contentWindow.document).bind("mousewheel."+a,function(t,n){e(t,n)})})}),s.bind("mousewheel."+a,function(t,n){e(t,n)})}},B=new Object,O=function(e){var n=!1,i=!1,o=null;if(void 0===e?i="#empty":void 0!==t(e).attr("id")&&(i=t(e).attr("id")),!1!==i&&void 0!==B[i])return B[i];if(e){try{var r=e.contentDocument||e.contentWindow.document;o=r.body.innerHTML}catch(t){}n=null!==o}else{try{var r=top.document;o=r.body.innerHTML}catch(t){}n=null!==o}return!1!==i&&(B[i]=n),n},D=function(t){var e=this.find("iframe");if(e.length){var n=t?"auto":"none";e.css("pointer-events",n)}},R=function(e,n){var o=n.nodeName.toLowerCase(),r=e.data(i).opt.mouseWheel.disableOver,a=["select","textarea"];return t.inArray(o,r)>-1&&!(t.inArray(o,a)>-1&&!t(n).is(":focus"))},j=function(){var e,n=t(this),o=n.data(i),r=i+"_"+o.idx,a=t("#mCSB_"+o.idx+"_container"),s=a.parent();t(".mCSB_"+o.idx+"_scrollbar ."+u[12]).bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r,function(n){c=!0,t(n.target).hasClass("mCSB_dragger")||(e=1)}).bind("touchend."+r+" pointerup."+r+" MSPointerUp."+r,function(){c=!1}).bind("click."+r,function(i){if(e&&(e=0,t(i.target).hasClass(u[12])||t(i.target).hasClass("mCSB_draggerRail"))){$(n);var r=t(this),l=r.find(".mCSB_dragger");if(r.parent(".mCSB_scrollTools_horizontal").length>0){if(!o.overflowed[1])return;var c="x",h=i.pageX>l.offset().left?-1:1,d=Math.abs(a[0].offsetLeft)-h*(.9*s.width())}else{if(!o.overflowed[0])return;var c="y",h=i.pageY>l.offset().top?-1:1,d=Math.abs(a[0].offsetTop)-h*(.9*s.height())}V(n,d.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},N=function(){var e=t(this),n=e.data(i),o=n.opt,r=i+"_"+n.idx,a=t("#mCSB_"+n.idx+"_container"),s=a.parent();a.bind("focusin."+r,function(){var n=t(document.activeElement),i=a.find(".mCustomScrollBox").length;n.is(o.advanced.autoScrollOnFocus)&&($(e),clearTimeout(e[0]._focusTimeout),e[0]._focusTimer=i?17*i:0,e[0]._focusTimeout=setTimeout(function(){var t=[it(n)[0],it(n)[1]],i=[a[0].offsetTop,a[0].offsetLeft],r=[i[0]+t[0]>=0&&i[0]+t[0]<s.height()-n.outerHeight(!1),i[1]+t[1]>=0&&i[0]+t[1]<s.width()-n.outerWidth(!1)],l="yx"!==o.axis||r[0]||r[1]?"all":"none";"x"===o.axis||r[0]||V(e,t[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:l,dur:0}),"y"===o.axis||r[1]||V(e,t[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:l,dur:0})},e[0]._focusTimer))})},Z=function(){var e=t(this),n=e.data(i),o=i+"_"+n.idx,r=t("#mCSB_"+n.idx+"_container").parent();r.bind("scroll."+o,function(){0===r.scrollTop()&&0===r.scrollLeft()||t(".mCSB_"+n.idx+"_scrollbar").css("visibility","hidden")})},H=function(){var e=t(this),n=e.data(i),o=n.opt,r=n.sequential,a=i+"_"+n.idx,s=".mCSB_"+n.idx+"_scrollbar";t(s+">a").bind("contextmenu."+a,function(t){t.preventDefault()}).bind("mousedown."+a+" touchstart."+a+" pointerdown."+a+" MSPointerDown."+a+" mouseup."+a+" touchend."+a+" pointerup."+a+" MSPointerUp."+a+" mouseout."+a+" pointerout."+a+" MSPointerOut."+a+" click."+a,function(i){function a(t,n){r.scrollAmount=o.scrollButtons.scrollAmount,F(e,t,n)}if(i.preventDefault(),tt(i)){var s=t(this).attr("class");switch(r.type=o.scrollButtons.scrollType,i.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===r.type)return;c=!0,n.tweenRunning=!1,a("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===r.type)return;c=!1,r.dir&&a("off",s);break;case"click":if("stepped"!==r.type||n.tweenRunning)return;a("on",s)}}})},W=function(){function e(e){function i(t,e){a.type=r.keyboard.scrollType,a.scrollAmount=r.keyboard.scrollAmount,"stepped"===a.type&&o.tweenRunning||F(n,t,e)}switch(e.type){case"blur":o.tweenRunning&&a.dir&&i("off",null);break;case"keydown":case"keyup":var s=e.keyCode?e.keyCode:e.which,l="on";if("x"!==r.axis&&(38===s||40===s)||"y"!==r.axis&&(37===s||39===s)){if((38===s||40===s)&&!o.overflowed[0]||(37===s||39===s)&&!o.overflowed[1])return;"keyup"===e.type&&(l="off"),t(document.activeElement).is(h)||(e.preventDefault(),e.stopImmediatePropagation(),i(l,s))}else if(33===s||34===s){if((o.overflowed[0]||o.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type){$(n);var d=34===s?-1:1;if("x"===r.axis||"yx"===r.axis&&o.overflowed[1]&&!o.overflowed[0])var p="x",f=Math.abs(c[0].offsetLeft)-d*(.9*u.width());else var p="y",f=Math.abs(c[0].offsetTop)-d*(.9*u.height());V(n,f.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}else if((35===s||36===s)&&!t(document.activeElement).is(h)&&((o.overflowed[0]||o.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type)){if("x"===r.axis||"yx"===r.axis&&o.overflowed[1]&&!o.overflowed[0])var p="x",f=35===s?Math.abs(u.width()-c.outerWidth(!1)):0;else var p="y",f=35===s?Math.abs(u.height()-c.outerHeight(!1)):0;V(n,f.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}}var n=t(this),o=n.data(i),r=o.opt,a=o.sequential,s=i+"_"+o.idx,l=t("#mCSB_"+o.idx),c=t("#mCSB_"+o.idx+"_container"),u=c.parent(),h="input,textarea,select,datalist,keygen,[contenteditable='true']",d=c.find("iframe"),p=["blur."+s+" keydown."+s+" keyup."+s];d.length&&d.each(function(){t(this).bind("load",function(){O(this)&&t(this.contentDocument||this.contentWindow.document).bind(p[0],function(t){e(t)})})}),l.attr("tabindex","0").bind(p[0],function(t){e(t)})},F=function(e,n,o,r,a){function s(t){c.snapAmount&&(h.scrollAmount=c.snapAmount instanceof Array?"x"===h.dir[0]?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount);var n="stepped"!==h.type,i=a||(t?n?f/1.5:m:1e3/60),o=t?n?7.5:40:2.5,u=[Math.abs(d[0].offsetTop),Math.abs(d[0].offsetLeft)],p=[l.scrollRatio.y>10?10:l.scrollRatio.y,l.scrollRatio.x>10?10:l.scrollRatio.x],g="x"===h.dir[0]?u[1]+h.dir[1]*(p[1]*o):u[0]+h.dir[1]*(p[0]*o),_="x"===h.dir[0]?u[1]+h.dir[1]*parseInt(h.scrollAmount):u[0]+h.dir[1]*parseInt(h.scrollAmount),v="auto"!==h.scrollAmount?_:g,y=r||(t?n?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),w=!!t;return t&&17>i&&(v="x"===h.dir[0]?u[1]:u[0]),V(e,v.toString(),{dir:h.dir[0],scrollEasing:y,dur:i,onComplete:w}),t?void(h.dir=!1):(clearTimeout(h.step),void(h.step=setTimeout(function(){s()},i)))}var l=e.data(i),c=l.opt,h=l.sequential,d=t("#mCSB_"+l.idx+"_container"),p="stepped"===h.type,f=c.scrollInertia<26?26:c.scrollInertia,m=c.scrollInertia<1?17:c.scrollInertia;switch(n){case"on":if(h.dir=[o===u[16]||o===u[15]||39===o||37===o?"x":"y",o===u[13]||o===u[15]||38===o||37===o?-1:1],$(e),nt(o)&&"stepped"===h.type)return;s(p);break;case"off":(function(){clearTimeout(h.step),J(h,"step"),$(e)})(),(p||l.tweenRunning&&h.dir)&&s(!0)}},q=function(e){var n=t(this).data(i).opt,o=[];return"function"==typeof e&&(e=e()),e instanceof Array?o=e.length>1?[e[0],e[1]]:"x"===n.axis?[null,e[0]]:[e[0],null]:(o[0]=e.y?e.y:e.x||"x"===n.axis?null:e,o[1]=e.x?e.x:e.y||"y"===n.axis?null:e),"function"==typeof o[0]&&(o[0]=o[0]()),"function"==typeof o[1]&&(o[1]=o[1]()),o},U=function(e,n){if(null!=e&&void 0!==e){var o=t(this),r=o.data(i),a=r.opt,s=t("#mCSB_"+r.idx+"_container"),l=s.parent(),c=typeof e;n||(n="x"===a.axis?"x":"y");var u="x"===n?s.outerWidth(!1)-l.width():s.outerHeight(!1)-l.height(),d="x"===n?s[0].offsetLeft:s[0].offsetTop,p="x"===n?"left":"top";switch(c){case"function":return e();case"object":var f=e.jquery?e:t(e);if(!f.length)return;return"x"===n?it(f)[1]:it(f)[0];case"string":case"number":if(nt(e))return Math.abs(e);if(-1!==e.indexOf("%"))return Math.abs(u*parseInt(e)/100);if(-1!==e.indexOf("-="))return Math.abs(d-parseInt(e.split("-=")[1]));if(-1!==e.indexOf("+=")){var m=d+parseInt(e.split("+=")[1]);return m>=0?0:Math.abs(m)}if(-1!==e.indexOf("px")&&nt(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;if("bottom"===e)return Math.abs(l.height()-s.outerHeight(!1));if("right"===e)return Math.abs(l.width()-s.outerWidth(!1));if("first"===e||"last"===e){var f=s.find(":"+e);return"x"===n?it(f)[1]:it(f)[0]}return t(e).length?"x"===n?it(t(e))[1]:it(t(e))[0]:(s.css(p,e),void h.update.call(null,o[0]))}}},G=function(e){function n(){return clearTimeout(d[0].autoUpdate),0===s.parents("html").length?void(s=null):void(d[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(l.poll.change.n=r(),l.poll.change.n!==l.poll.change.o)?(l.poll.change.o=l.poll.change.n,void a(3)):c.advanced.updateOnContentResize&&(l.poll.size.n=s[0].scrollHeight+s[0].scrollWidth+d[0].offsetHeight+s[0].offsetHeight+s[0].offsetWidth,l.poll.size.n!==l.poll.size.o)?(l.poll.size.o=l.poll.size.n,void a(1)):!c.advanced.updateOnImageLoad||"auto"===c.advanced.updateOnImageLoad&&"y"===c.axis||(l.poll.img.n=d.find("img").length,l.poll.img.n===l.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&n()):(l.poll.img.o=l.poll.img.n,void d.find("img").each(function(){o(this)}))},c.advanced.autoUpdateTimeout))}function o(e){function n(){this.onload=null,t(e).addClass(u[2]),a(2)}if(t(e).hasClass(u[2]))return void a();var i=new Image;i.onload=function(t,e){return function(){return e.apply(t,arguments)}}(i,n),i.src=e.src}function r(){!0===c.advanced.updateOnSelectorChange&&(c.advanced.updateOnSelectorChange="*");var t=0,e=d.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&e.length>0&&e.each(function(){t+=this.offsetHeight+this.offsetWidth}),t}function a(t){clearTimeout(d[0].autoUpdate),h.update.call(null,s[0],t)}var s=t(this),l=s.data(i),c=l.opt,d=t("#mCSB_"+l.idx+"_container");return e?(clearTimeout(d[0].autoUpdate),void J(d[0],"autoUpdate")):void n()},X=function(t,e,n){return Math.round(t/e)*e-n},$=function(e){var n=e.data(i);t("#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal").each(function(){Q.call(this)})},V=function(e,n,o){function r(t){return l&&c.callbacks[t]&&"function"==typeof c.callbacks[t]}function a(){return[c.callbacks.alwaysTriggerOffsets||w>=x[0]+L,c.callbacks.alwaysTriggerOffsets||-T>=w]}function s(){var t=[p[0].offsetTop,p[0].offsetLeft],n=[v[0].offsetTop,v[0].offsetLeft],i=[p.outerHeight(!1),p.outerWidth(!1)],r=[d.height(),d.width()];e[0].mcs={content:p,top:t[0],left:t[1],draggerTop:n[0],draggerLeft:n[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(i[0])-r[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(i[1])-r[1])),direction:o.dir}}var l=e.data(i),c=l.opt,u={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},o=t.extend(u,o),h=[o.dur,o.drag?0:o.dur],d=t("#mCSB_"+l.idx),p=t("#mCSB_"+l.idx+"_container"),f=p.parent(),m=c.callbacks.onTotalScrollOffset?q.call(e,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?q.call(e,c.callbacks.onTotalScrollBackOffset):[0,0];if(l.trigger=o.trigger,0===f.scrollTop()&&0===f.scrollLeft()||(t(".mCSB_"+l.idx+"_scrollbar").css("visibility","visible"),f.scrollTop(0).scrollLeft(0)),"_resetY"!==n||l.contentReset.y||(r("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(e[0]),l.contentReset.y=1),"_resetX"!==n||l.contentReset.x||(r("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(e[0]),l.contentReset.x=1),"_resetY"!==n&&"_resetX"!==n){if(!l.contentReset.y&&e[0].mcs||!l.overflowed[0]||(r("onOverflowY")&&c.callbacks.onOverflowY.call(e[0]),l.contentReset.x=null),!l.contentReset.x&&e[0].mcs||!l.overflowed[1]||(r("onOverflowX")&&c.callbacks.onOverflowX.call(e[0]),l.contentReset.x=null),c.snapAmount){var _=c.snapAmount instanceof Array?"x"===o.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;n=X(n,_,c.snapOffset)}switch(o.dir){case"x":var v=t("#mCSB_"+l.idx+"_dragger_horizontal"),y="left",w=p[0].offsetLeft,x=[d.width()-p.outerWidth(!1),v.parent().width()-v.width()],b=[n,0===n?0:n/l.scrollRatio.x],L=m[1],T=g[1],S=L>0?L/l.scrollRatio.x:0,M=T>0?T/l.scrollRatio.x:0;break;case"y":var v=t("#mCSB_"+l.idx+"_dragger_vertical"),y="top",w=p[0].offsetTop,x=[d.height()-p.outerHeight(!1),v.parent().height()-v.height()],b=[n,0===n?0:n/l.scrollRatio.y],L=m[0],T=g[0],S=L>0?L/l.scrollRatio.y:0,M=T>0?T/l.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=x[1]?b=[x[0],x[1]]:b[0]=-b[0],e[0].mcs||(s(),r("onInit")&&c.callbacks.onInit.call(e[0])),clearTimeout(p[0].onCompleteTimeout),Y(v[0],y,Math.round(b[1]),h[1],o.scrollEasing),!l.tweenRunning&&(0===w&&b[0]>=0||w===x[0]&&b[0]<=x[0])||Y(p[0],y,Math.round(b[0]),h[0],o.scrollEasing,o.overwrite,{onStart:function(){o.callbacks&&o.onStart&&!l.tweenRunning&&(r("onScrollStart")&&(s(),c.callbacks.onScrollStart.call(e[0])),l.tweenRunning=!0,C(v),l.cbOffsets=a())},onUpdate:function(){o.callbacks&&o.onUpdate&&r("whileScrolling")&&(s(),c.callbacks.whileScrolling.call(e[0]))},onComplete:function(){if(o.callbacks&&o.onComplete){"yx"===c.axis&&clearTimeout(p[0].onCompleteTimeout);var t=p[0].idleTimer||0;p[0].onCompleteTimeout=setTimeout(function(){r("onScroll")&&(s(),c.callbacks.onScroll.call(e[0])),r("onTotalScroll")&&b[1]>=x[1]-S&&l.cbOffsets[0]&&(s(),c.callbacks.onTotalScroll.call(e[0])),r("onTotalScrollBack")&&b[1]<=M&&l.cbOffsets[1]&&(s(),c.callbacks.onTotalScrollBack.call(e[0])),l.tweenRunning=!1,p[0].idleTimer=0,C(v,"hide")},t)}}})}},Y=function(t,e,n,i,o,r,a){function s(){y.stop||(g||d.call(),g=K()-m,l(),g>=y.time&&(y.time=g>y.time?g+u-(g-y.time):g+u-1,y.time<g+1&&(y.time=g+1)),y.time<i?y.id=h(s):f.call())}function l(){i>0?(y.currVal=c(y.time,_,w,i,o),v[e]=Math.round(y.currVal)+"px"):v[e]=n+"px",p.call()}function c(t,e,n,i,o){switch(o){case"linear":case"mcsLinear":return n*t/i+e;case"mcsLinearOut":return t/=i,t--,n*Math.sqrt(1-t*t)+e;case"easeInOutSmooth":return t/=i/2,1>t?n/2*t*t+e:(t--,-n/2*(t*(t-2)-1)+e);case"easeInOutStrong":return t/=i/2,1>t?n/2*Math.pow(2,10*(t-1))+e:(t--,n/2*(2-Math.pow(2,-10*t))+e);case"easeInOut":case"mcsEaseInOut":return t/=i/2,1>t?n/2*t*t*t+e:(t-=2,n/2*(t*t*t+2)+e);case"easeOutSmooth":return t/=i,t--,-n*(t*t*t*t-1)+e;case"easeOutStrong":return n*(1-Math.pow(2,-10*t/i))+e;case"easeOut":case"mcsEaseOut":default:var r=(t/=i)*t,a=r*t;return e+n*(.499999999999997*a*r+-2.5*r*r+5.5*a+-6.5*r+4*t)}}t._mTween||(t._mTween={top:{},left:{}});var u,h,a=a||{},d=a.onStart||function(){},p=a.onUpdate||function(){},f=a.onComplete||function(){},m=K(),g=0,_=t.offsetTop,v=t.style,y=t._mTween[e];"left"===e&&(_=t.offsetLeft);var w=n-_;y.stop=0,"none"!==r&&function(){null!=y.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(y.id):clearTimeout(y.id),y.id=null)}(),function(){u=1e3/60,y.time=g+u,h=window.requestAnimationFrame?window.requestAnimationFrame:function(t){return l(),setTimeout(t,.01)},y.id=h(s)}()},K=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Q=function(){var t=this;t._mTween||(t._mTween={top:{},left:{}});for(var e=["top","left"],n=0;n<e.length;n++){var i=e[n]
;t._mTween[i].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(t._mTween[i].id):clearTimeout(t._mTween[i].id),t._mTween[i].id=null,t._mTween[i].stop=1)}},J=function(t,e){try{delete t[e]}catch(n){t[e]=null}},tt=function(t){return!(t.which&&1!==t.which)},et=function(t){var e=t.originalEvent.pointerType;return!(e&&"touch"!==e&&2!==e)},nt=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},it=function(t){var e=t.parents(".mCSB_container");return[t.offset().top-e.offset().top,t.offset().left-e.offset().left]},ot=function(){var t=function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}();return!!t&&document[t]};t.fn[n]=function(e){return h[e]?h[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):h.init.apply(this,arguments)},t[n]=function(e){return h[e]?h[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):h.init.apply(this,arguments)},t[n].defaults=r,window[n]=!0,t(window).bind("load",function(){t(o)[n](),t.extend(t.expr[":"],{mcsInView:t.expr[":"].mcsInView||function(e){var n,i,o=t(e),r=o.parents(".mCSB_container");if(r.length)return n=r.parent(),i=[r[0].offsetTop,r[0].offsetLeft],i[0]+it(o)[0]>=0&&i[0]+it(o)[0]<n.height()-o.outerHeight(!1)&&i[1]+it(o)[1]>=0&&i[1]+it(o)[1]<n.width()-o.outerWidth(!1)},mcsInSight:t.expr[":"].mcsInSight||function(e,n,i){var o,r,a,s,l=t(e),c=l.parents(".mCSB_container"),u="exact"===i[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return o=[l.outerHeight(!1),l.outerWidth(!1)],a=[c[0].offsetTop+it(l)[0],c[0].offsetLeft+it(l)[1]],r=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],s=[o[0]<r[0]?u[0]:u[1],o[1]<r[1]?u[0]:u[1]],a[0]-r[0]*s[0][0]<0&&a[0]+o[0]-r[0]*s[0][1]>=0&&a[1]-r[1]*s[1][0]<0&&a[1]+o[1]-r[1]*s[1][1]>=0},mcsOverflow:t.expr[":"].mcsOverflow||function(e){var n=t(e).data(i);if(n)return n.overflowed[0]||n.overflowed[1]}})})}()}()}),L.GridLayer.GoogleMutant=L.GridLayer.extend({options:{minZoom:0,maxZoom:23,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",opacity:1,continuousWorld:!1,noWrap:!1,type:"roadmap",maxNativeZoom:21},initialize:function(t){L.GridLayer.prototype.initialize.call(this,t),this._ready=!!window.google&&!!window.google.maps&&!!window.google.maps.Map,this._GAPIPromise=this._ready?Promise.resolve(window.google):new Promise(function(t,e){var n=0,i=null;i=setInterval(function(){return n>=10?(clearInterval(i),e(new Error("window.google not found after 10 attempts"))):window.google&&window.google.maps&&window.google.maps.Map?(clearInterval(i),t(window.google)):void n++},500)}),this._tileCallbacks={},this._freshTiles={},this._imagesPerTile="hybrid"===this.options.type?2:1},onAdd:function(t){L.GridLayer.prototype.onAdd.call(this,t),this._initMutantContainer(),this._GAPIPromise.then(function(){if(this._ready=!0,this._map=t,this._initMutant(),t.on("viewreset",this._reset,this),t.on("move",this._update,this),t.on("zoomend",this._handleZoomAnim,this),t.on("resize",this._resize,this),google.maps.event.addListenerOnce(this._mutant,"idle",function(){this._checkZoomLevels(),this._mutantIsReady=!0}.bind(this)),t._controlCorners.bottomright.style.marginBottom="20px",t._controlCorners.bottomleft.style.marginBottom="20px",this._reset(),this._update(),this._subLayers)for(var e in this._subLayers)this._subLayers[e].setMap(this._mutant)}.bind(this))},onRemove:function(t){L.GridLayer.prototype.onRemove.call(this,t),t._container.removeChild(this._mutantContainer),this._mutantContainer=void 0,google.maps.event.clearListeners(t,"idle"),google.maps.event.clearListeners(this._mutant,"idle"),t.off("viewreset",this._reset,this),t.off("move",this._update,this),t.off("zoomend",this._handleZoomAnim,this),t.off("resize",this._resize,this),t._controlCorners&&(t._controlCorners.bottomright.style.marginBottom="0em",t._controlCorners.bottomleft.style.marginBottom="0em")},getAttribution:function(){return this.options.attribution},setOpacity:function(t){this.options.opacity=t,t<1&&L.DomUtil.setOpacity(this._mutantContainer,t)},setElementSize:function(t,e){t.style.width=e.x+"px",t.style.height=e.y+"px"},addGoogleLayer:function(t,e){return this._subLayers||(this._subLayers={}),this._GAPIPromise.then(function(){var n=google.maps[t],i=new n(e);return i.setMap(this._mutant),this._subLayers[t]=i,i}.bind(this))},removeGoogleLayer:function(t){var e=this._subLayers&&this._subLayers[t];e&&(e.setMap(null),delete this._subLayers[t])},_initMutantContainer:function(){this._mutantContainer||(this._mutantContainer=L.DomUtil.create("div","leaflet-google-mutant leaflet-top leaflet-left"),this._mutantContainer.id="_MutantContainer_"+L.Util.stamp(this._mutantContainer),this._mutantContainer.style.zIndex="800",this._mutantContainer.style.pointerEvents="none",this._map.getContainer().appendChild(this._mutantContainer)),this.setOpacity(this.options.opacity),this.setElementSize(this._mutantContainer,this._map.getSize()),this._attachObserver(this._mutantContainer)},_initMutant:function(){if(this._ready&&this._mutantContainer){this._mutantCenter=new google.maps.LatLng(0,0);var t=new google.maps.Map(this._mutantContainer,{center:this._mutantCenter,zoom:0,tilt:0,mapTypeId:this.options.type,disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1,styles:this.options.styles||{},backgroundColor:"transparent"});this._mutant=t,google.maps.event.addListenerOnce(t,"idle",function(){for(var t=this._mutantContainer.querySelectorAll("a"),e=0;e<t.length;e++)t[e].style.pointerEvents="auto"}.bind(this)),this.fire("spawned",{mapObject:t})}},_attachObserver:function(t){new MutationObserver(this._onMutations.bind(this)).observe(t,{childList:!0,subtree:!0})},_onMutations:function(t){for(var e=0;e<t.length;++e)for(var n=t[e],i=0;i<n.addedNodes.length;++i){var o=n.addedNodes[i];o instanceof HTMLImageElement?this._onMutatedImage(o):o instanceof HTMLElement&&Array.prototype.forEach.call(o.querySelectorAll("img"),this._onMutatedImage.bind(this))}},_roadRegexp:/!1i(\d+)!2i(\d+)!3i(\d+)!/,_satRegexp:/x=(\d+)&y=(\d+)&z=(\d+)/,_staticRegExp:/StaticMapService\.GetMapImage/,_onMutatedImage:function(t){var e,n=t.src.match(this._roadRegexp),i=0;if(n?(e={z:n[1],x:n[2],y:n[3]},this._imagesPerTile>1&&(t.style.zIndex=1,i=1)):(n=t.src.match(this._satRegexp),n&&(e={x:n[1],y:n[2],z:n[3]}),i=0),e){var o=this._tileCoordsToKey(e);t.style.position="absolute",t.style.visibility="hidden";var r=o+"/"+i;if(this._freshTiles[r]=t,r in this._tileCallbacks&&this._tileCallbacks[r])this._tileCallbacks[r].pop()(t),this._tileCallbacks[r].length||delete this._tileCallbacks[r];else if(this._tiles[o]){var a=this._tiles[o].el,s=0===i?a.firstChild:a.firstChild.nextSibling,l=this._clone(t);a.replaceChild(l,s)}}else t.src.match(this._staticRegExp)&&(t.style.visibility="hidden")},createTile:function(t,e){var n=this._tileCoordsToKey(t),i=L.DomUtil.create("div");i.dataset.pending=this._imagesPerTile,e=e.bind(this,null,i);for(var o=0;o<this._imagesPerTile;o++){var r=n+"/"+o;if(r in this._freshTiles){var a=this._freshTiles[r];i.appendChild(this._clone(a)),i.dataset.pending--}else this._tileCallbacks[r]=this._tileCallbacks[r]||[],this._tileCallbacks[r].push(function(t){return function(n){t.appendChild(this._clone(n)),t.dataset.pending--,parseInt(t.dataset.pending)||e()}.bind(this)}.bind(this)(i))}return parseInt(i.dataset.pending)||L.Util.requestAnimFrame(e),i},_clone:function(t){var e=t.cloneNode(!0);return e.style.visibility="visible",e},_checkZoomLevels:function(){var t=this._map.getZoom(),e=this._mutant.getZoom();t&&e&&(e!==t||e>this.options.maxNativeZoom)&&this._setMaxNativeZoom(e)},_setMaxNativeZoom:function(t){t!=this.options.maxNativeZoom&&(this.options.maxNativeZoom=t,this._resetView())},_reset:function(){this._initContainer()},_update:function(){if(this._mutant){var t=this._map.getCenter(),e=new google.maps.LatLng(t.lat,t.lng);this._mutant.setCenter(e);var n=this._map.getZoom(),i=n!==Math.round(n),o=this._mutant.getZoom();i||n==o||(this._mutant.setZoom(n),this._mutantIsReady&&this._checkZoomLevels())}L.GridLayer.prototype._update.call(this)},_resize:function(){var t=this._map.getSize();this._mutantContainer.style.width===t.x&&this._mutantContainer.style.height===t.y||(this.setElementSize(this._mutantContainer,t),this._mutant&&google.maps.event.trigger(this._mutant,"resize"))},_handleZoomAnim:function(){if(this._mutant){var t=this._map.getCenter(),e=new google.maps.LatLng(t.lat,t.lng);this._mutant.setCenter(e),this._mutant.setZoom(Math.round(this._map.getZoom()))}},_removeTile:function(t){if(this._mutant)return setTimeout(this._pruneTile.bind(this,t),1e3),L.GridLayer.prototype._removeTile.call(this,t)},_pruneTile:function(t){for(var e=this._mutant.getZoom(),n=t.split(":")[2],i=this._mutant.getBounds(),o=i.getSouthWest(),r=i.getNorthEast(),a=L.latLngBounds([[o.lat(),o.lng()],[r.lat(),r.lng()]]),s=0;s<this._imagesPerTile;s++){var l=t+"/"+s;if(l in this._freshTiles){var c=this._map&&this._keyToBounds(t);this._map&&c.overlaps(a)&&n==e||delete this._freshTiles[l]}}}}),L.gridLayer.googleMutant=function(t){return new L.GridLayer.GoogleMutant(t)};